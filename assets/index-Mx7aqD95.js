(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))o(y);new MutationObserver(y=>{for(const S of y)if(S.type==="childList")for(const q of S.addedNodes)q.tagName==="LINK"&&q.rel==="modulepreload"&&o(q)}).observe(document,{childList:!0,subtree:!0});function x(y){const S={};return y.integrity&&(S.integrity=y.integrity),y.referrerPolicy&&(S.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?S.credentials="include":y.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function o(y){if(y.ep)return;y.ep=!0;const S=x(y);fetch(y.href,S)}})();function um(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Td={exports:{}},Bn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function Xp(){if(Q0)return Bn;Q0=1;var c=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function x(o,y,S){var q=null;if(S!==void 0&&(q=""+S),y.key!==void 0&&(q=""+y.key),"key"in y){S={};for(var A in y)A!=="key"&&(S[A]=y[A])}else S=y;return y=S.ref,{$$typeof:c,type:o,key:q,ref:y!==void 0?y:null,props:S}}return Bn.Fragment=d,Bn.jsx=x,Bn.jsxs=x,Bn}var Z0;function Fp(){return Z0||(Z0=1,Td.exports=Xp()),Td.exports}var t=Fp(),Md={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function Kp(){if(X0)return Me;X0=1;var c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),q=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),m=Symbol.iterator;function _(h){return h===null||typeof h!="object"?null:(h=m&&h[m]||h["@@iterator"],typeof h=="function"?h:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,H={};function F(h,R,de){this.props=h,this.context=R,this.refs=H,this.updater=de||M}F.prototype.isReactComponent={},F.prototype.setState=function(h,R){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,R,"setState")},F.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function g(){}g.prototype=F.prototype;function z(h,R,de){this.props=h,this.context=R,this.refs=H,this.updater=de||M}var C=z.prototype=new g;C.constructor=z,D(C,F.prototype),C.isPureReactComponent=!0;var ie=Array.isArray;function k(){}var v={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function j(h,R,de){var xe=de.ref;return{$$typeof:c,type:h,key:R,ref:xe!==void 0?xe:null,props:de}}function V(h,R){return j(h.type,R,h.props)}function K(h){return typeof h=="object"&&h!==null&&h.$$typeof===c}function W(h){var R={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(de){return R[de]})}var ue=/\/+/g;function ee(h,R){return typeof h=="object"&&h!==null&&h.key!=null?W(""+h.key):R.toString(36)}function se(h){switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:switch(typeof h.status=="string"?h.then(k,k):(h.status="pending",h.then(function(R){h.status==="pending"&&(h.status="fulfilled",h.value=R)},function(R){h.status==="pending"&&(h.status="rejected",h.reason=R)})),h.status){case"fulfilled":return h.value;case"rejected":throw h.reason}}throw h}function N(h,R,de,xe,G){var U=typeof h;(U==="undefined"||U==="boolean")&&(h=null);var Q=!1;if(h===null)Q=!0;else switch(U){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(h.$$typeof){case c:case d:Q=!0;break;case E:return Q=h._init,N(Q(h._payload),R,de,xe,G)}}if(Q)return G=G(h),Q=xe===""?"."+ee(h,0):xe,ie(G)?(de="",Q!=null&&(de=Q.replace(ue,"$&/")+"/"),N(G,R,de,"",function(pe){return pe})):G!=null&&(K(G)&&(G=V(G,de+(G.key==null||h&&h.key===G.key?"":(""+G.key).replace(ue,"$&/")+"/")+Q)),R.push(G)),1;Q=0;var te=xe===""?".":xe+":";if(ie(h))for(var J=0;J<h.length;J++)xe=h[J],U=te+ee(xe,J),Q+=N(xe,R,de,U,G);else if(J=_(h),typeof J=="function")for(h=J.call(h),J=0;!(xe=h.next()).done;)xe=xe.value,U=te+ee(xe,J++),Q+=N(xe,R,de,U,G);else if(U==="object"){if(typeof h.then=="function")return N(se(h),R,de,xe,G);throw R=String(h),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Q}function Z(h,R,de){if(h==null)return h;var xe=[],G=0;return N(h,xe,"","",function(U){return R.call(de,U,G++)}),xe}function ae(h){if(h._status===-1){var R=h._result;R=R(),R.then(function(de){(h._status===0||h._status===-1)&&(h._status=1,h._result=de)},function(de){(h._status===0||h._status===-1)&&(h._status=2,h._result=de)}),h._status===-1&&(h._status=0,h._result=R)}if(h._status===1)return h._result.default;throw h._result}var L=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},re={map:Z,forEach:function(h,R,de){Z(h,function(){R.apply(this,arguments)},de)},count:function(h){var R=0;return Z(h,function(){R++}),R},toArray:function(h){return Z(h,function(R){return R})||[]},only:function(h){if(!K(h))throw Error("React.Children.only expected to receive a single React element child.");return h}};return Me.Activity=b,Me.Children=re,Me.Component=F,Me.Fragment=x,Me.Profiler=y,Me.PureComponent=z,Me.StrictMode=o,Me.Suspense=w,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=v,Me.__COMPILER_RUNTIME={__proto__:null,c:function(h){return v.H.useMemoCache(h)}},Me.cache=function(h){return function(){return h.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(h,R,de){if(h==null)throw Error("The argument must be a React element, but you passed "+h+".");var xe=D({},h.props),G=h.key;if(R!=null)for(U in R.key!==void 0&&(G=""+R.key),R)!Y.call(R,U)||U==="key"||U==="__self"||U==="__source"||U==="ref"&&R.ref===void 0||(xe[U]=R[U]);var U=arguments.length-2;if(U===1)xe.children=de;else if(1<U){for(var Q=Array(U),te=0;te<U;te++)Q[te]=arguments[te+2];xe.children=Q}return j(h.type,G,xe)},Me.createContext=function(h){return h={$$typeof:q,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null},h.Provider=h,h.Consumer={$$typeof:S,_context:h},h},Me.createElement=function(h,R,de){var xe,G={},U=null;if(R!=null)for(xe in R.key!==void 0&&(U=""+R.key),R)Y.call(R,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(G[xe]=R[xe]);var Q=arguments.length-2;if(Q===1)G.children=de;else if(1<Q){for(var te=Array(Q),J=0;J<Q;J++)te[J]=arguments[J+2];G.children=te}if(h&&h.defaultProps)for(xe in Q=h.defaultProps,Q)G[xe]===void 0&&(G[xe]=Q[xe]);return j(h,U,G)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(h){return{$$typeof:A,render:h}},Me.isValidElement=K,Me.lazy=function(h){return{$$typeof:E,_payload:{_status:-1,_result:h},_init:ae}},Me.memo=function(h,R){return{$$typeof:f,type:h,compare:R===void 0?null:R}},Me.startTransition=function(h){var R=v.T,de={};v.T=de;try{var xe=h(),G=v.S;G!==null&&G(de,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(k,L)}catch(U){L(U)}finally{R!==null&&de.types!==null&&(R.types=de.types),v.T=R}},Me.unstable_useCacheRefresh=function(){return v.H.useCacheRefresh()},Me.use=function(h){return v.H.use(h)},Me.useActionState=function(h,R,de){return v.H.useActionState(h,R,de)},Me.useCallback=function(h,R){return v.H.useCallback(h,R)},Me.useContext=function(h){return v.H.useContext(h)},Me.useDebugValue=function(){},Me.useDeferredValue=function(h,R){return v.H.useDeferredValue(h,R)},Me.useEffect=function(h,R){return v.H.useEffect(h,R)},Me.useEffectEvent=function(h){return v.H.useEffectEvent(h)},Me.useId=function(){return v.H.useId()},Me.useImperativeHandle=function(h,R,de){return v.H.useImperativeHandle(h,R,de)},Me.useInsertionEffect=function(h,R){return v.H.useInsertionEffect(h,R)},Me.useLayoutEffect=function(h,R){return v.H.useLayoutEffect(h,R)},Me.useMemo=function(h,R){return v.H.useMemo(h,R)},Me.useOptimistic=function(h,R){return v.H.useOptimistic(h,R)},Me.useReducer=function(h,R,de){return v.H.useReducer(h,R,de)},Me.useRef=function(h){return v.H.useRef(h)},Me.useState=function(h){return v.H.useState(h)},Me.useSyncExternalStore=function(h,R,de){return v.H.useSyncExternalStore(h,R,de)},Me.useTransition=function(){return v.H.useTransition()},Me.version="19.2.3",Me}var F0;function Bd(){return F0||(F0=1,Md.exports=Kp()),Md.exports}var p=Bd();const zs=um(p);var _d={exports:{}},Yn={},Rd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function Jp(){return K0||(K0=1,(function(c){function d(N,Z){var ae=N.length;N.push(Z);e:for(;0<ae;){var L=ae-1>>>1,re=N[L];if(0<y(re,Z))N[L]=Z,N[ae]=re,ae=L;else break e}}function x(N){return N.length===0?null:N[0]}function o(N){if(N.length===0)return null;var Z=N[0],ae=N.pop();if(ae!==Z){N[0]=ae;e:for(var L=0,re=N.length,h=re>>>1;L<h;){var R=2*(L+1)-1,de=N[R],xe=R+1,G=N[xe];if(0>y(de,ae))xe<re&&0>y(G,de)?(N[L]=G,N[xe]=ae,L=xe):(N[L]=de,N[R]=ae,L=R);else if(xe<re&&0>y(G,ae))N[L]=G,N[xe]=ae,L=xe;else break e}}return Z}function y(N,Z){var ae=N.sortIndex-Z.sortIndex;return ae!==0?ae:N.id-Z.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;c.unstable_now=function(){return S.now()}}else{var q=Date,A=q.now();c.unstable_now=function(){return q.now()-A}}var w=[],f=[],E=1,b=null,m=3,_=!1,M=!1,D=!1,H=!1,F=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function C(N){for(var Z=x(f);Z!==null;){if(Z.callback===null)o(f);else if(Z.startTime<=N)o(f),Z.sortIndex=Z.expirationTime,d(w,Z);else break;Z=x(f)}}function ie(N){if(D=!1,C(N),!M)if(x(w)!==null)M=!0,k||(k=!0,W());else{var Z=x(f);Z!==null&&se(ie,Z.startTime-N)}}var k=!1,v=-1,Y=5,j=-1;function V(){return H?!0:!(c.unstable_now()-j<Y)}function K(){if(H=!1,k){var N=c.unstable_now();j=N;var Z=!0;try{e:{M=!1,D&&(D=!1,g(v),v=-1),_=!0;var ae=m;try{t:{for(C(N),b=x(w);b!==null&&!(b.expirationTime>N&&V());){var L=b.callback;if(typeof L=="function"){b.callback=null,m=b.priorityLevel;var re=L(b.expirationTime<=N);if(N=c.unstable_now(),typeof re=="function"){b.callback=re,C(N),Z=!0;break t}b===x(w)&&o(w),C(N)}else o(w);b=x(w)}if(b!==null)Z=!0;else{var h=x(f);h!==null&&se(ie,h.startTime-N),Z=!1}}break e}finally{b=null,m=ae,_=!1}Z=void 0}}finally{Z?W():k=!1}}}var W;if(typeof z=="function")W=function(){z(K)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ee=ue.port2;ue.port1.onmessage=K,W=function(){ee.postMessage(null)}}else W=function(){F(K,0)};function se(N,Z){v=F(function(){N(c.unstable_now())},Z)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(N){N.callback=null},c.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<N?Math.floor(1e3/N):5},c.unstable_getCurrentPriorityLevel=function(){return m},c.unstable_next=function(N){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var ae=m;m=Z;try{return N()}finally{m=ae}},c.unstable_requestPaint=function(){H=!0},c.unstable_runWithPriority=function(N,Z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var ae=m;m=N;try{return Z()}finally{m=ae}},c.unstable_scheduleCallback=function(N,Z,ae){var L=c.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?L+ae:L):ae=L,N){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ae+re,N={id:E++,callback:Z,priorityLevel:N,startTime:ae,expirationTime:re,sortIndex:-1},ae>L?(N.sortIndex=ae,d(f,N),x(w)===null&&N===x(f)&&(D?(g(v),v=-1):D=!0,se(ie,ae-L))):(N.sortIndex=re,d(w,N),M||_||(M=!0,k||(k=!0,W()))),N},c.unstable_shouldYield=V,c.unstable_wrapCallback=function(N){var Z=m;return function(){var ae=m;m=Z;try{return N.apply(this,arguments)}finally{m=ae}}}})(Dd)),Dd}var J0;function Pp(){return J0||(J0=1,Rd.exports=Jp()),Rd.exports}var Od={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function Wp(){if(P0)return Yt;P0=1;var c=Bd();function d(w){var f="https://react.dev/errors/"+w;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)f+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+w+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(){}var o={d:{f:x,r:function(){throw Error(d(522))},D:x,C:x,L:x,m:x,X:x,S:x,M:x},p:0,findDOMNode:null},y=Symbol.for("react.portal");function S(w,f,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y,key:b==null?null:""+b,children:w,containerInfo:f,implementation:E}}var q=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(w,f){if(w==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Yt.createPortal=function(w,f){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(d(299));return S(w,f,null,E)},Yt.flushSync=function(w){var f=q.T,E=o.p;try{if(q.T=null,o.p=2,w)return w()}finally{q.T=f,o.p=E,o.d.f()}},Yt.preconnect=function(w,f){typeof w=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,o.d.C(w,f))},Yt.prefetchDNS=function(w){typeof w=="string"&&o.d.D(w)},Yt.preinit=function(w,f){if(typeof w=="string"&&f&&typeof f.as=="string"){var E=f.as,b=A(E,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;E==="style"?o.d.S(w,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:m,fetchPriority:_}):E==="script"&&o.d.X(w,{crossOrigin:b,integrity:m,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Yt.preinitModule=function(w,f){if(typeof w=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var E=A(f.as,f.crossOrigin);o.d.M(w,{crossOrigin:E,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&o.d.M(w)},Yt.preload=function(w,f){if(typeof w=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var E=f.as,b=A(E,f.crossOrigin);o.d.L(w,E,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Yt.preloadModule=function(w,f){if(typeof w=="string")if(f){var E=A(f.as,f.crossOrigin);o.d.m(w,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:E,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else o.d.m(w)},Yt.requestFormReset=function(w){o.d.r(w)},Yt.unstable_batchedUpdates=function(w,f){return w(f)},Yt.useFormState=function(w,f,E){return q.H.useFormState(w,f,E)},Yt.useFormStatus=function(){return q.H.useHostTransitionStatus()},Yt.version="19.2.3",Yt}var W0;function eh(){if(W0)return Od.exports;W0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(d){console.error(d)}}return c(),Od.exports=Wp(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var em;function th(){if(em)return Yn;em=1;var c=Pp(),d=Bd(),x=eh();function o(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S(e){var s=e,a=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(a=s.return),e=s.return;while(e)}return s.tag===3?a:null}function q(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function A(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function w(e){if(S(e)!==e)throw Error(o(188))}function f(e){var s=e.alternate;if(!s){if(s=S(e),s===null)throw Error(o(188));return s!==e?null:e}for(var a=e,l=s;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return w(n),e;if(i===l)return w(n),s;i=i.sibling}throw Error(o(188))}if(a.return!==l.return)a=n,l=i;else{for(var r=!1,u=n.child;u;){if(u===a){r=!0,a=n,l=i;break}if(u===l){r=!0,l=n,a=i;break}u=u.sibling}if(!r){for(u=i.child;u;){if(u===a){r=!0,a=i,l=n;break}if(u===l){r=!0,l=i,a=n;break}u=u.sibling}if(!r)throw Error(o(189))}}if(a.alternate!==l)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:s}function E(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=E(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,m=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),z=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case F:return"Profiler";case H:return"StrictMode";case ie:return"Suspense";case k:return"SuspenseList";case j:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case z:return e.displayName||"Context";case g:return(e._context.displayName||"Context")+".Consumer";case C:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case v:return s=e.displayName||null,s!==null?s:ee(e.type)||"Memo";case Y:s=e._payload,e=e._init;try{return ee(e(s))}catch{}}return null}var se=Array.isArray,N=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=x.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},L=[],re=-1;function h(e){return{current:e}}function R(e){0>re||(e.current=L[re],L[re]=null,re--)}function de(e,s){re++,L[re]=e.current,e.current=s}var xe=h(null),G=h(null),U=h(null),Q=h(null);function te(e,s){switch(de(U,s),de(G,e),de(xe,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?p0(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=p0(s),e=h0(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(xe),de(xe,e)}function J(){R(xe),R(G),R(U)}function pe(e){e.memoizedState!==null&&de(Q,e);var s=xe.current,a=h0(s,e.type);s!==a&&(de(G,e),de(xe,a))}function ge(e){G.current===e&&(R(xe),R(G)),Q.current===e&&(R(Q),In._currentValue=ae)}var Ce,_e;function Qe(e){if(Ce===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ce=s&&s[1]||"",_e=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+e+_e}var vt=!1;function At(e,s){if(!e||vt)return"";vt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(P){var X=P}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(P){X=P}e.call(oe.prototype)}}else{try{throw Error()}catch(P){X=P}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(P){if(P&&X&&typeof P.stack=="string")return[P.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),r=i[0],u=i[1];if(r&&u){var T=r.split(`
`),$=u.split(`
`);for(n=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;n<$.length&&!$[n].includes("DetermineComponentFrameRoot");)n++;if(l===T.length||n===$.length)for(l=T.length-1,n=$.length-1;1<=l&&0<=n&&T[l]!==$[n];)n--;for(;1<=l&&0<=n;l--,n--)if(T[l]!==$[n]){if(l!==1||n!==1)do if(l--,n--,0>n||T[l]!==$[n]){var le=`
`+T[l].replace(" at new "," at ");return e.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",e.displayName)),le}while(1<=l&&0<=n);break}}}finally{vt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Qe(a):""}function Gt(e,s){switch(e.tag){case 26:case 27:case 5:return Qe(e.type);case 16:return Qe("Lazy");case 13:return e.child!==s&&s!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return At(e.type,!1);case 11:return At(e.type.render,!1);case 1:return At(e.type,!0);case 31:return Qe("Activity");default:return""}}function dt(e){try{var s="",a=null;do s+=Gt(e,a),a=e,e=e.return;while(e);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Re=Object.prototype.hasOwnProperty,Ds=c.unstable_scheduleCallback,xa=c.unstable_cancelCallback,Pl=c.unstable_shouldYield,rl=c.unstable_requestPaint,Ot=c.unstable_now,dl=c.unstable_getCurrentPriorityLevel,ol=c.unstable_ImmediatePriority,Ga=c.unstable_UserBlockingPriority,Gs=c.unstable_NormalPriority,ul=c.unstable_LowPriority,ye=c.unstable_IdlePriority,Ae=c.log,Ie=c.unstable_setDisableYieldValue,Te=null,je=null;function Ne(e){if(typeof Ae=="function"&&Ie(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Te,e)}catch{}}var we=Math.clz32?Math.clz32:Ze,xt=Math.log,Se=Math.LN2;function Ze(e){return e>>>=0,e===0?32:31-(xt(e)/Se|0)|0}var zt=256,yt=262144,ne=4194304;function Et(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ft(e,s,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var u=l&134217727;return u!==0?(l=u&~i,l!==0?n=Et(l):(r&=u,r!==0?n=Et(r):a||(a=u&~e,a!==0&&(n=Et(a))))):(u=l&~i,u!==0?n=Et(u):r!==0?n=Et(r):a||(a=l&~e,a!==0&&(n=Et(a)))),n===0?0:s!==0&&s!==n&&(s&i)===0&&(i=n&-n,a=s&-s,i>=a||i===32&&(a&4194048)!==0)?s:n}function Vt(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function ot(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function it(){var e=ne;return ne<<=1,(ne&62914560)===0&&(ne=4194304),e}function $t(e){for(var s=[],a=0;31>a;a++)s.push(e);return s}function ps(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qt(e,s,a,l,n,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var u=e.entanglements,T=e.expirationTimes,$=e.hiddenUpdates;for(a=r&~a;0<a;){var le=31-we(a),oe=1<<le;u[le]=0,T[le]=-1;var X=$[le];if(X!==null)for($[le]=null,le=0;le<X.length;le++){var P=X[le];P!==null&&(P.lane&=-536870913)}a&=~oe}l!==0&&Vs(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~s))}function Vs(e,s,a){e.pendingLanes|=s,e.suspendedLanes&=~s;var l=31-we(s);e.entangledLanes|=s,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function he(e,s){var a=e.entangledLanes|=s;for(e=e.entanglements;a;){var l=31-we(a),n=1<<l;n&s|e[l]&s&&(e[l]|=s),a&=~n}}function De(e,s){var a=s&-s;return a=(a&42)!==0?1:Ue(a),(a&(e.suspendedLanes|s))!==0?0:a}function Ue(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fe(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Oe(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:I0(e.type))}function Ct(e,s){var a=Z.p;try{return Z.p=e,s()}finally{Z.p=a}}var Mt=Math.random().toString(36).slice(2),Je="__reactFiber$"+Mt,Ee="__reactProps$"+Mt,Bt="__reactContainer$"+Mt,Os="__reactEvents$"+Mt,Lt="__reactListeners$"+Mt,Nc="__reactHandles$"+Mt,ai="__reactResources$"+Mt,Va="__reactMarker$"+Mt;function Wl(e){delete e[Je],delete e[Ee],delete e[Os],delete e[Lt],delete e[Nc]}function xl(e){var s=e[Je];if(s)return s;for(var a=e.parentNode;a;){if(s=a[Bt]||a[Je]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(e=w0(e);e!==null;){if(a=e[Je])return a;e=w0(e)}return s}e=a,a=e.parentNode}return null}function ml(e){if(e=e[Je]||e[Bt]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function en(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(o(33))}function fl(e){var s=e[ai];return s||(s=e[ai]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _t(e){e[Va]=!0}var so=new Set,ao={};function Ba(e,s){pl(e,s),pl(e+"Capture",s)}function pl(e,s){for(ao[e]=s,e=0;e<s.length;e++)so.add(s[e])}var Hm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lo={},no={};function Im(e){return Re.call(no,e)?!0:Re.call(lo,e)?!1:Hm.test(e)?no[e]=!0:(lo[e]=!0,!1)}function li(e,s,a){if(Im(s))if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+a)}}function ni(e,s,a){if(a===null)e.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+a)}}function Bs(e,s,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(s,a,""+l)}}function hs(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function io(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qm(e,s,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return n.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function wc(e){if(!e._valueTracker){var s=io(e)?"checked":"value";e._valueTracker=qm(e,s,""+e[s])}}function co(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return e&&(l=io(e)?e.checked?"true":"false":e.value),e=l,e!==a?(s.setValue(e),!0):!1}function ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gm=/[\n"\\]/g;function gs(e){return e.replace(Gm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sc(e,s,a,l,n,i,r,u){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),s!=null?r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+hs(s)):e.value!==""+hs(s)&&(e.value=""+hs(s)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),s!=null?kc(e,r,hs(s)):a!=null?kc(e,r,hs(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+hs(u):e.removeAttribute("name")}function ro(e,s,a,l,n,i,r,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),s!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||s!=null)){wc(e);return}a=a!=null?""+hs(a):"",s=s!=null?""+hs(s):a,u||s===e.value||(e.value=s),e.defaultValue=s}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=u?e.checked:!!l,e.defaultChecked=!!l,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),wc(e)}function kc(e,s,a){s==="number"&&ii(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hl(e,s,a,l){if(e=e.options,s){s={};for(var n=0;n<a.length;n++)s["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=s.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+hs(a),s=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}s!==null||e[n].disabled||(s=e[n])}s!==null&&(s.selected=!0)}}function oo(e,s,a){if(s!=null&&(s=""+hs(s),s!==e.value&&(e.value=s),a==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=a!=null?""+hs(a):""}function uo(e,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(o(92));if(se(l)){if(1<l.length)throw Error(o(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=hs(s),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),wc(e)}function gl(e,s){if(s){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=s;return}}e.textContent=s}var Vm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":l?e.setProperty(s,a):typeof a!="number"||a===0||Vm.has(s)?s==="float"?e.cssFloat=a:e[s]=(""+a).trim():e[s]=a+"px"}function mo(e,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in s)l=s[n],s.hasOwnProperty(n)&&a[n]!==l&&xo(e,n,l)}else for(var i in s)s.hasOwnProperty(i)&&xo(e,i,s[i])}function Ac(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ym=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ci(e){return Ym.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ys(){}var zc=null;function Ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bl=null,vl=null;function fo(e){var s=ml(e);if(s&&(e=s.stateNode)){var a=e[Ee]||null;e:switch(e=s.stateNode,s.type){case"input":if(Sc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gs(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==e&&l.form===e.form){var n=l[Ee]||null;if(!n)throw Error(o(90));Sc(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===e.form&&co(l)}break e;case"textarea":oo(e,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&hl(e,!!a.multiple,s,!1)}}}var Cc=!1;function po(e,s,a){if(Cc)return e(s,a);Cc=!0;try{var l=e(s);return l}finally{if(Cc=!1,(bl!==null||vl!==null)&&(Xi(),bl&&(s=bl,e=vl,vl=bl=null,fo(s),e)))for(s=0;s<e.length;s++)fo(e[s])}}function tn(e,s){var a=e.stateNode;if(a===null)return null;var l=a[Ee]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=!1;if($s)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Tc=!1}var ma=null,Mc=null,ri=null;function ho(){if(ri)return ri;var e,s=Mc,a=s.length,l,n="value"in ma?ma.value:ma.textContent,i=n.length;for(e=0;e<a&&s[e]===n[e];e++);var r=a-e;for(l=1;l<=r&&s[a-l]===n[i-l];l++);return ri=n.slice(e,1<l?1-l:void 0)}function di(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function go(){return!1}function Kt(e){function s(a,l,n,i,r){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(a=e[u],this[u]=a?a(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?oi:go,this.isPropagationStopped=go,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),s}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=Kt(Ya),an=b({},Ya,{view:0,detail:0}),$m=Kt(an),_c,Rc,ln,xi=b({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&e.type==="mousemove"?(_c=e.screenX-ln.screenX,Rc=e.screenY-ln.screenY):Rc=_c=0,ln=e),_c)},movementY:function(e){return"movementY"in e?e.movementY:Rc}}),bo=Kt(xi),Qm=b({},xi,{dataTransfer:0}),Zm=Kt(Qm),Xm=b({},an,{relatedTarget:0}),Dc=Kt(Xm),Fm=b({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Km=Kt(Fm),Jm=b({},Ya,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pm=Kt(Jm),Wm=b({},Ya,{data:0}),vo=Kt(Wm),ef={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function af(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=sf[e])?!!s[e]:!1}function Oc(){return af}var lf=b({},an,{key:function(e){if(e.key){var s=ef[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oc,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nf=Kt(lf),cf=b({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yo=Kt(cf),rf=b({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oc}),df=Kt(rf),of=b({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),uf=Kt(of),xf=b({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mf=Kt(xf),ff=b({},Ya,{newState:0,oldState:0}),pf=Kt(ff),hf=[9,13,27,32],Lc=$s&&"CompositionEvent"in window,nn=null;$s&&"documentMode"in document&&(nn=document.documentMode);var gf=$s&&"TextEvent"in window&&!nn,jo=$s&&(!Lc||nn&&8<nn&&11>=nn),No=" ",wo=!1;function So(e,s){switch(e){case"keyup":return hf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ko(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yl=!1;function bf(e,s){switch(e){case"compositionend":return ko(s);case"keypress":return s.which!==32?null:(wo=!0,No);case"textInput":return e=s.data,e===No&&wo?null:e;default:return null}}function vf(e,s){if(yl)return e==="compositionend"||!Lc&&So(e,s)?(e=ho(),ri=Mc=ma=null,yl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return jo&&s.locale!=="ko"?null:s.data;default:return null}}var yf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ao(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!yf[e.type]:s==="textarea"}function zo(e,s,a,l){bl?vl?vl.push(l):vl=[l]:bl=l,s=tc(s,"onChange"),0<s.length&&(a=new ui("onChange","change",null,a,l),e.push({event:a,listeners:s}))}var cn=null,rn=null;function jf(e){d0(e,0)}function mi(e){var s=en(e);if(co(s))return e}function Eo(e,s){if(e==="change")return s}var Co=!1;if($s){var Uc;if($s){var Hc="oninput"in document;if(!Hc){var To=document.createElement("div");To.setAttribute("oninput","return;"),Hc=typeof To.oninput=="function"}Uc=Hc}else Uc=!1;Co=Uc&&(!document.documentMode||9<document.documentMode)}function Mo(){cn&&(cn.detachEvent("onpropertychange",_o),rn=cn=null)}function _o(e){if(e.propertyName==="value"&&mi(rn)){var s=[];zo(s,rn,e,Ec(e)),po(jf,s)}}function Nf(e,s,a){e==="focusin"?(Mo(),cn=s,rn=a,cn.attachEvent("onpropertychange",_o)):e==="focusout"&&Mo()}function wf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mi(rn)}function Sf(e,s){if(e==="click")return mi(s)}function kf(e,s){if(e==="input"||e==="change")return mi(s)}function Af(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var ls=typeof Object.is=="function"?Object.is:Af;function dn(e,s){if(ls(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Re.call(s,n)||!ls(e[n],s[n]))return!1}return!0}function Ro(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Do(e,s){var a=Ro(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=s&&l>=s)return{node:a,offset:s-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ro(a)}}function Oo(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?Oo(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Lo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=ii(e.document);s instanceof e.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)e=s.contentWindow;else break;s=ii(e.document)}return s}function Ic(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var zf=$s&&"documentMode"in document&&11>=document.documentMode,jl=null,qc=null,on=null,Gc=!1;function Uo(e,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gc||jl==null||jl!==ii(l)||(l=jl,"selectionStart"in l&&Ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),on&&dn(on,l)||(on=l,l=tc(qc,"onSelect"),0<l.length&&(s=new ui("onSelect","select",null,s,a),e.push({event:s,listeners:l}),s.target=jl)))}function $a(e,s){var a={};return a[e.toLowerCase()]=s.toLowerCase(),a["Webkit"+e]="webkit"+s,a["Moz"+e]="moz"+s,a}var Nl={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Vc={},Ho={};$s&&(Ho=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Qa(e){if(Vc[e])return Vc[e];if(!Nl[e])return e;var s=Nl[e],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ho)return Vc[e]=s[a];return e}var Io=Qa("animationend"),qo=Qa("animationiteration"),Go=Qa("animationstart"),Ef=Qa("transitionrun"),Cf=Qa("transitionstart"),Tf=Qa("transitioncancel"),Vo=Qa("transitionend"),Bo=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function Es(e,s){Bo.set(e,s),Ba(s,[e])}var fi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},bs=[],wl=0,Yc=0;function pi(){for(var e=wl,s=Yc=wl=0;s<e;){var a=bs[s];bs[s++]=null;var l=bs[s];bs[s++]=null;var n=bs[s];bs[s++]=null;var i=bs[s];if(bs[s++]=null,l!==null&&n!==null){var r=l.pending;r===null?n.next=n:(n.next=r.next,r.next=n),l.pending=n}i!==0&&Yo(a,n,i)}}function hi(e,s,a,l){bs[wl++]=e,bs[wl++]=s,bs[wl++]=a,bs[wl++]=l,Yc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $c(e,s,a,l){return hi(e,s,a,l),gi(e)}function Za(e,s){return hi(e,null,null,s),gi(e)}function Yo(e,s,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&s!==null&&(n=31-we(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[s]:l.push(s),s.lane=a|536870912),i):null}function gi(e){if(50<_n)throw _n=0,ed=null,Error(o(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var Sl={};function Mf(e,s,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(e,s,a,l){return new Mf(e,s,a,l)}function Qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qs(e,s){var a=e.alternate;return a===null?(a=ns(e.tag,s,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=s,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,s=e.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function $o(e,s){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,s=a.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function bi(e,s,a,l,n,i){var r=0;if(l=e,typeof e=="function")Qc(e)&&(r=1);else if(typeof e=="string")r=Lp(e,a,xe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return e=ns(31,a,s,n),e.elementType=j,e.lanes=i,e;case D:return Xa(a.children,n,i,s);case H:r=8,n|=24;break;case F:return e=ns(12,a,s,n|2),e.elementType=F,e.lanes=i,e;case ie:return e=ns(13,a,s,n),e.elementType=ie,e.lanes=i,e;case k:return e=ns(19,a,s,n),e.elementType=k,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:r=10;break e;case g:r=9;break e;case C:r=11;break e;case v:r=14;break e;case Y:r=16,l=null;break e}r=29,a=Error(o(130,e===null?"null":typeof e,"")),l=null}return s=ns(r,a,s,n),s.elementType=e,s.type=l,s.lanes=i,s}function Xa(e,s,a,l){return e=ns(7,e,l,s),e.lanes=a,e}function Zc(e,s,a){return e=ns(6,e,null,s),e.lanes=a,e}function Qo(e){var s=ns(18,null,null,0);return s.stateNode=e,s}function Xc(e,s,a){return s=ns(4,e.children!==null?e.children:[],e.key,s),s.lanes=a,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Zo=new WeakMap;function vs(e,s){if(typeof e=="object"&&e!==null){var a=Zo.get(e);return a!==void 0?a:(s={value:e,source:s,stack:dt(s)},Zo.set(e,s),s)}return{value:e,source:s,stack:dt(s)}}var kl=[],Al=0,vi=null,un=0,ys=[],js=0,fa=null,Ls=1,Us="";function Zs(e,s){kl[Al++]=un,kl[Al++]=vi,vi=e,un=s}function Xo(e,s,a){ys[js++]=Ls,ys[js++]=Us,ys[js++]=fa,fa=e;var l=Ls;e=Us;var n=32-we(l)-1;l&=~(1<<n),a+=1;var i=32-we(s)+n;if(30<i){var r=n-n%5;i=(l&(1<<r)-1).toString(32),l>>=r,n-=r,Ls=1<<32-we(s)+n|a<<n|l,Us=i+e}else Ls=1<<i|a<<n|l,Us=e}function Fc(e){e.return!==null&&(Zs(e,1),Xo(e,1,0))}function Kc(e){for(;e===vi;)vi=kl[--Al],kl[Al]=null,un=kl[--Al],kl[Al]=null;for(;e===fa;)fa=ys[--js],ys[js]=null,Us=ys[--js],ys[js]=null,Ls=ys[--js],ys[js]=null}function Fo(e,s){ys[js++]=Ls,ys[js++]=Us,ys[js++]=fa,Ls=s.id,Us=s.overflow,fa=e}var Ut=null,ct=null,$e=!1,pa=null,Ns=!1,Jc=Error(o(519));function ha(e){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xn(vs(s,e)),Jc}function Ko(e){var s=e.stateNode,a=e.type,l=e.memoizedProps;switch(s[Je]=e,s[Ee]=l,a){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(a=0;a<Dn.length;a++)Ge(Dn[a],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":Ge("invalid",s),ro(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ge("invalid",s);break;case"textarea":Ge("invalid",s),uo(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||m0(s.textContent,a)?(l.popover!=null&&(Ge("beforetoggle",s),Ge("toggle",s)),l.onScroll!=null&&Ge("scroll",s),l.onScrollEnd!=null&&Ge("scrollend",s),l.onClick!=null&&(s.onclick=Ys),s=!0):s=!1,s||ha(e,!0)}function Jo(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 31:case 13:Ns=!1;return;case 27:case 3:Ns=!0;return;default:Ut=Ut.return}}function zl(e){if(e!==Ut)return!1;if(!$e)return Jo(e),$e=!0,!1;var s=e.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&ct&&ha(e),Jo(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ct=N0(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ct=N0(e)}else s===27?(s=ct,Ta(e.type)?(e=yd,yd=null,ct=e):ct=s):ct=Ut?Ss(e.stateNode.nextSibling):null;return!0}function Fa(){ct=Ut=null,$e=!1}function Pc(){var e=pa;return e!==null&&(es===null?es=e:es.push.apply(es,e),pa=null),e}function xn(e){pa===null?pa=[e]:pa.push(e)}var Wc=h(null),Ka=null,Xs=null;function ga(e,s,a){de(Wc,s._currentValue),s._currentValue=a}function Fs(e){e._currentValue=Wc.current,R(Wc)}function er(e,s,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),e===a)break;e=e.return}}function tr(e,s,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=n;for(var T=0;T<s.length;T++)if(u.context===s[T]){i.lanes|=a,u=i.alternate,u!==null&&(u.lanes|=a),er(i.return,a,e),l||(r=null);break e}i=u.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(o(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),er(r,a,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function El(e,s,a,l){e=null;for(var n=s,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(o(387));if(r=r.memoizedProps,r!==null){var u=n.type;ls(n.pendingProps.value,r.value)||(e!==null?e.push(u):e=[u])}}else if(n===Q.current){if(r=n.alternate,r===null)throw Error(o(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(In):e=[In])}n=n.return}e!==null&&tr(s,e,a,l),s.flags|=262144}function yi(e){for(e=e.firstContext;e!==null;){if(!ls(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ja(e){Ka=e,Xs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return Po(Ka,e)}function ji(e,s){return Ka===null&&Ja(e),Po(e,s)}function Po(e,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Xs===null){if(e===null)throw Error(o(308));Xs=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else Xs=Xs.next=s;return a}var _f=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){s.aborted=!0,e.forEach(function(a){return a()})}},Rf=c.unstable_scheduleCallback,Df=c.unstable_NormalPriority,jt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sr(){return{controller:new _f,data:new Map,refCount:0}}function mn(e){e.refCount--,e.refCount===0&&Rf(Df,function(){e.controller.abort()})}var fn=null,ar=0,Cl=0,Tl=null;function Of(e,s){if(fn===null){var a=fn=[];ar=0,Cl=id(),Tl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ar++,s.then(Wo,Wo),s}function Wo(){if(--ar===0&&fn!==null){Tl!==null&&(Tl.status="fulfilled");var e=fn;fn=null,Cl=0,Tl=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function Lf(e,s){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=s;for(var n=0;n<a.length;n++)(0,a[n])(s)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var eu=N.S;N.S=function(e,s){Ux=Ot(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Of(e,s),eu!==null&&eu(e,s)};var Pa=h(null);function lr(){var e=Pa.current;return e!==null?e:at.pooledCache}function Ni(e,s){s===null?de(Pa,Pa.current):de(Pa,s.pool)}function tu(){var e=lr();return e===null?null:{parent:jt._currentValue,pool:e}}var Ml=Error(o(460)),nr=Error(o(474)),wi=Error(o(542)),Si={then:function(){}};function su(e){return e=e.status,e==="fulfilled"||e==="rejected"}function au(e,s,a){switch(a=e[a],a===void 0?e.push(s):a!==s&&(s.then(Ys,Ys),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,nu(e),e;default:if(typeof s.status=="string")s.then(Ys,Ys);else{if(e=at,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=s,e.status="pending",e.then(function(l){if(s.status==="pending"){var n=s;n.status="fulfilled",n.value=l}},function(l){if(s.status==="pending"){var n=s;n.status="rejected",n.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,nu(e),e}throw el=s,Ml}}function Wa(e){try{var s=e._init;return s(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(el=a,Ml):a}}var el=null;function lu(){if(el===null)throw Error(o(459));var e=el;return el=null,e}function nu(e){if(e===Ml||e===wi)throw Error(o(483))}var _l=null,pn=0;function ki(e){var s=pn;return pn+=1,_l===null&&(_l=[]),au(_l,e,s)}function hn(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function Ai(e,s){throw s.$$typeof===m?Error(o(525)):(e=Object.prototype.toString.call(s),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function iu(e){function s(I,O){if(e){var B=I.deletions;B===null?(I.deletions=[O],I.flags|=16):B.push(O)}}function a(I,O){if(!e)return null;for(;O!==null;)s(I,O),O=O.sibling;return null}function l(I){for(var O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function n(I,O){return I=Qs(I,O),I.index=0,I.sibling=null,I}function i(I,O,B){return I.index=B,e?(B=I.alternate,B!==null?(B=B.index,B<O?(I.flags|=67108866,O):B):(I.flags|=67108866,O)):(I.flags|=1048576,O)}function r(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function u(I,O,B,ce){return O===null||O.tag!==6?(O=Zc(B,I.mode,ce),O.return=I,O):(O=n(O,B),O.return=I,O)}function T(I,O,B,ce){var ke=B.type;return ke===D?le(I,O,B.props.children,ce,B.key):O!==null&&(O.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Y&&Wa(ke)===O.type)?(O=n(O,B.props),hn(O,B),O.return=I,O):(O=bi(B.type,B.key,B.props,null,I.mode,ce),hn(O,B),O.return=I,O)}function $(I,O,B,ce){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Xc(B,I.mode,ce),O.return=I,O):(O=n(O,B.children||[]),O.return=I,O)}function le(I,O,B,ce,ke){return O===null||O.tag!==7?(O=Xa(B,I.mode,ce,ke),O.return=I,O):(O=n(O,B),O.return=I,O)}function oe(I,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Zc(""+O,I.mode,B),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _:return B=bi(O.type,O.key,O.props,null,I.mode,B),hn(B,O),B.return=I,B;case M:return O=Xc(O,I.mode,B),O.return=I,O;case Y:return O=Wa(O),oe(I,O,B)}if(se(O)||W(O))return O=Xa(O,I.mode,B,null),O.return=I,O;if(typeof O.then=="function")return oe(I,ki(O),B);if(O.$$typeof===z)return oe(I,ji(I,O),B);Ai(I,O)}return null}function X(I,O,B,ce){var ke=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ke!==null?null:u(I,O,""+B,ce);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return B.key===ke?T(I,O,B,ce):null;case M:return B.key===ke?$(I,O,B,ce):null;case Y:return B=Wa(B),X(I,O,B,ce)}if(se(B)||W(B))return ke!==null?null:le(I,O,B,ce,null);if(typeof B.then=="function")return X(I,O,ki(B),ce);if(B.$$typeof===z)return X(I,O,ji(I,B),ce);Ai(I,B)}return null}function P(I,O,B,ce,ke){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return I=I.get(B)||null,u(O,I,""+ce,ke);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return I=I.get(ce.key===null?B:ce.key)||null,T(O,I,ce,ke);case M:return I=I.get(ce.key===null?B:ce.key)||null,$(O,I,ce,ke);case Y:return ce=Wa(ce),P(I,O,B,ce,ke)}if(se(ce)||W(ce))return I=I.get(B)||null,le(O,I,ce,ke,null);if(typeof ce.then=="function")return P(I,O,B,ki(ce),ke);if(ce.$$typeof===z)return P(I,O,B,ji(O,ce),ke);Ai(O,ce)}return null}function be(I,O,B,ce){for(var ke=null,Xe=null,ve=O,He=O=0,Ye=null;ve!==null&&He<B.length;He++){ve.index>He?(Ye=ve,ve=null):Ye=ve.sibling;var Fe=X(I,ve,B[He],ce);if(Fe===null){ve===null&&(ve=Ye);break}e&&ve&&Fe.alternate===null&&s(I,ve),O=i(Fe,O,He),Xe===null?ke=Fe:Xe.sibling=Fe,Xe=Fe,ve=Ye}if(He===B.length)return a(I,ve),$e&&Zs(I,He),ke;if(ve===null){for(;He<B.length;He++)ve=oe(I,B[He],ce),ve!==null&&(O=i(ve,O,He),Xe===null?ke=ve:Xe.sibling=ve,Xe=ve);return $e&&Zs(I,He),ke}for(ve=l(ve);He<B.length;He++)Ye=P(ve,I,He,B[He],ce),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?He:Ye.key),O=i(Ye,O,He),Xe===null?ke=Ye:Xe.sibling=Ye,Xe=Ye);return e&&ve.forEach(function(Oa){return s(I,Oa)}),$e&&Zs(I,He),ke}function ze(I,O,B,ce){if(B==null)throw Error(o(151));for(var ke=null,Xe=null,ve=O,He=O=0,Ye=null,Fe=B.next();ve!==null&&!Fe.done;He++,Fe=B.next()){ve.index>He?(Ye=ve,ve=null):Ye=ve.sibling;var Oa=X(I,ve,Fe.value,ce);if(Oa===null){ve===null&&(ve=Ye);break}e&&ve&&Oa.alternate===null&&s(I,ve),O=i(Oa,O,He),Xe===null?ke=Oa:Xe.sibling=Oa,Xe=Oa,ve=Ye}if(Fe.done)return a(I,ve),$e&&Zs(I,He),ke;if(ve===null){for(;!Fe.done;He++,Fe=B.next())Fe=oe(I,Fe.value,ce),Fe!==null&&(O=i(Fe,O,He),Xe===null?ke=Fe:Xe.sibling=Fe,Xe=Fe);return $e&&Zs(I,He),ke}for(ve=l(ve);!Fe.done;He++,Fe=B.next())Fe=P(ve,I,He,Fe.value,ce),Fe!==null&&(e&&Fe.alternate!==null&&ve.delete(Fe.key===null?He:Fe.key),O=i(Fe,O,He),Xe===null?ke=Fe:Xe.sibling=Fe,Xe=Fe);return e&&ve.forEach(function(Zp){return s(I,Zp)}),$e&&Zs(I,He),ke}function st(I,O,B,ce){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case _:e:{for(var ke=B.key;O!==null;){if(O.key===ke){if(ke=B.type,ke===D){if(O.tag===7){a(I,O.sibling),ce=n(O,B.props.children),ce.return=I,I=ce;break e}}else if(O.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===Y&&Wa(ke)===O.type){a(I,O.sibling),ce=n(O,B.props),hn(ce,B),ce.return=I,I=ce;break e}a(I,O);break}else s(I,O);O=O.sibling}B.type===D?(ce=Xa(B.props.children,I.mode,ce,B.key),ce.return=I,I=ce):(ce=bi(B.type,B.key,B.props,null,I.mode,ce),hn(ce,B),ce.return=I,I=ce)}return r(I);case M:e:{for(ke=B.key;O!==null;){if(O.key===ke)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(I,O.sibling),ce=n(O,B.children||[]),ce.return=I,I=ce;break e}else{a(I,O);break}else s(I,O);O=O.sibling}ce=Xc(B,I.mode,ce),ce.return=I,I=ce}return r(I);case Y:return B=Wa(B),st(I,O,B,ce)}if(se(B))return be(I,O,B,ce);if(W(B)){if(ke=W(B),typeof ke!="function")throw Error(o(150));return B=ke.call(B),ze(I,O,B,ce)}if(typeof B.then=="function")return st(I,O,ki(B),ce);if(B.$$typeof===z)return st(I,O,ji(I,B),ce);Ai(I,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(I,O.sibling),ce=n(O,B),ce.return=I,I=ce):(a(I,O),ce=Zc(B,I.mode,ce),ce.return=I,I=ce),r(I)):a(I,O)}return function(I,O,B,ce){try{pn=0;var ke=st(I,O,B,ce);return _l=null,ke}catch(ve){if(ve===Ml||ve===wi)throw ve;var Xe=ns(29,ve,null,I.mode);return Xe.lanes=ce,Xe.return=I,Xe}finally{}}}var tl=iu(!0),cu=iu(!1),ba=!1;function ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cr(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ya(e,s,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var n=l.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),l.pending=s,s=gi(e),Yo(e,null,a),s}return hi(e,l,s,a),gi(e)}function gn(e,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,he(e,a)}}function rr(e,s){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?n=i=s:i=i.next=s}else n=i=s;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=s:e.next=s,a.lastBaseUpdate=s}var dr=!1;function bn(){if(dr){var e=Tl;if(e!==null)throw e}}function vn(e,s,a,l){dr=!1;var n=e.updateQueue;ba=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var T=u,$=T.next;T.next=null,r===null?i=$:r.next=$,r=T;var le=e.alternate;le!==null&&(le=le.updateQueue,u=le.lastBaseUpdate,u!==r&&(u===null?le.firstBaseUpdate=$:u.next=$,le.lastBaseUpdate=T))}if(i!==null){var oe=n.baseState;r=0,le=$=T=null,u=i;do{var X=u.lane&-536870913,P=X!==u.lane;if(P?(Be&X)===X:(l&X)===X){X!==0&&X===Cl&&(dr=!0),le!==null&&(le=le.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var be=e,ze=u;X=s;var st=a;switch(ze.tag){case 1:if(be=ze.payload,typeof be=="function"){oe=be.call(st,oe,X);break e}oe=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=ze.payload,X=typeof be=="function"?be.call(st,oe,X):be,X==null)break e;oe=b({},oe,X);break e;case 2:ba=!0}}X=u.callback,X!==null&&(e.flags|=64,P&&(e.flags|=8192),P=n.callbacks,P===null?n.callbacks=[X]:P.push(X))}else P={lane:X,tag:u.tag,payload:u.payload,callback:u.callback,next:null},le===null?($=le=P,T=oe):le=le.next=P,r|=X;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;P=u,u=P.next,P.next=null,n.lastBaseUpdate=P,n.shared.pending=null}}while(!0);le===null&&(T=oe),n.baseState=T,n.firstBaseUpdate=$,n.lastBaseUpdate=le,i===null&&(n.shared.lanes=0),ka|=r,e.lanes=r,e.memoizedState=oe}}function ru(e,s){if(typeof e!="function")throw Error(o(191,e));e.call(s)}function du(e,s){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ru(a[e],s)}var Rl=h(null),zi=h(0);function ou(e,s){e=la,de(zi,e),de(Rl,s),la=e|s.baseLanes}function or(){de(zi,la),de(Rl,Rl.current)}function ur(){la=zi.current,R(Rl),R(zi)}var is=h(null),ws=null;function ja(e){var s=e.alternate;de(gt,gt.current&1),de(is,e),ws===null&&(s===null||Rl.current!==null||s.memoizedState!==null)&&(ws=e)}function xr(e){de(gt,gt.current),de(is,e),ws===null&&(ws=e)}function uu(e){e.tag===22?(de(gt,gt.current),de(is,e),ws===null&&(ws=e)):Na()}function Na(){de(gt,gt.current),de(is,is.current)}function cs(e){R(is),ws===e&&(ws=null),R(gt)}var gt=h(0);function Ei(e){for(var s=e;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bd(a)||vd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ks=0,Le=null,et=null,Nt=null,Ci=!1,Dl=!1,sl=!1,Ti=0,yn=0,Ol=null,Uf=0;function ft(){throw Error(o(321))}function mr(e,s){if(s===null)return!1;for(var a=0;a<s.length&&a<e.length;a++)if(!ls(e[a],s[a]))return!1;return!0}function fr(e,s,a,l,n,i){return Ks=i,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,N.H=e===null||e.memoizedState===null?Xu:Cr,sl=!1,i=a(l,n),sl=!1,Dl&&(i=mu(s,a,l,n)),xu(e),i}function xu(e){N.H=wn;var s=et!==null&&et.next!==null;if(Ks=0,Nt=et=Le=null,Ci=!1,yn=0,Ol=null,s)throw Error(o(300));e===null||wt||(e=e.dependencies,e!==null&&yi(e)&&(wt=!0))}function mu(e,s,a,l){Le=e;var n=0;do{if(Dl&&(Ol=null),yn=0,Dl=!1,25<=n)throw Error(o(301));if(n+=1,Nt=et=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}N.H=Fu,i=s(a,l)}while(Dl);return i}function Hf(){var e=N.H,s=e.useState()[0];return s=typeof s.then=="function"?jn(s):s,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Le.flags|=1024),s}function pr(){var e=Ti!==0;return Ti=0,e}function hr(e,s,a){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a}function gr(e){if(Ci){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}Ci=!1}Ks=0,Nt=et=Le=null,Dl=!1,yn=Ti=0,Ol=null}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Le.memoizedState=Nt=e:Nt=Nt.next=e,Nt}function bt(){if(et===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var s=Nt===null?Le.memoizedState:Nt.next;if(s!==null)Nt=s,et=e;else{if(e===null)throw Le.alternate===null?Error(o(467)):Error(o(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Nt===null?Le.memoizedState=Nt=e:Nt=Nt.next=e}return Nt}function Mi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jn(e){var s=yn;return yn+=1,Ol===null&&(Ol=[]),e=au(Ol,e,s),s=Le,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,N.H=s===null||s.memoizedState===null?Xu:Cr),e}function _i(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return jn(e);if(e.$$typeof===z)return Ht(e)}throw Error(o(438,String(e)))}function br(e){var s=null,a=Le.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(n){return n.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Mi(),Le.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(e),l=0;l<e;l++)a[l]=V;return s.index++,a}function Js(e,s){return typeof s=="function"?s(e):s}function Ri(e){var s=bt();return vr(s,et,e)}function vr(e,s,a){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}s.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{s=n.next;var u=r=null,T=null,$=s,le=!1;do{var oe=$.lane&-536870913;if(oe!==$.lane?(Be&oe)===oe:(Ks&oe)===oe){var X=$.revertLane;if(X===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),oe===Cl&&(le=!0);else if((Ks&X)===X){$=$.next,X===Cl&&(le=!0);continue}else oe={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},T===null?(u=T=oe,r=i):T=T.next=oe,Le.lanes|=X,ka|=X;oe=$.action,sl&&a(i,oe),i=$.hasEagerState?$.eagerState:a(i,oe)}else X={lane:oe,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},T===null?(u=T=X,r=i):T=T.next=X,Le.lanes|=oe,ka|=oe;$=$.next}while($!==null&&$!==s);if(T===null?r=i:T.next=u,!ls(i,e.memoizedState)&&(wt=!0,le&&(a=Tl,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=T,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yr(e){var s=bt(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=s.memoizedState;if(n!==null){a.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);ls(i,s.memoizedState)||(wt=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),a.lastRenderedState=i}return[i,l]}function fu(e,s,a){var l=Le,n=bt(),i=$e;if(i){if(a===void 0)throw Error(o(407));a=a()}else a=s();var r=!ls((et||n).memoizedState,a);if(r&&(n.memoizedState=a,wt=!0),n=n.queue,wr(gu.bind(null,l,n,e),[e]),n.getSnapshot!==s||r||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Ll(9,{destroy:void 0},hu.bind(null,l,n,a,s),null),at===null)throw Error(o(349));i||(Ks&127)!==0||pu(l,s,a)}return a}function pu(e,s,a){e.flags|=16384,e={getSnapshot:s,value:a},s=Le.updateQueue,s===null?(s=Mi(),Le.updateQueue=s,s.stores=[e]):(a=s.stores,a===null?s.stores=[e]:a.push(e))}function hu(e,s,a,l){s.value=a,s.getSnapshot=l,bu(s)&&vu(e)}function gu(e,s,a){return a(function(){bu(s)&&vu(e)})}function bu(e){var s=e.getSnapshot;e=e.value;try{var a=s();return!ls(e,a)}catch{return!0}}function vu(e){var s=Za(e,2);s!==null&&ts(s,e,2)}function jr(e){var s=Zt();if(typeof e=="function"){var a=e;if(e=a(),sl){Ne(!0);try{a()}finally{Ne(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:e},s}function yu(e,s,a,l){return e.baseState=a,vr(e,et,typeof l=="function"?l:Js)}function If(e,s,a,l,n){if(Li(e))throw Error(o(485));if(e=s.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};N.T!==null?a(!0):i.isTransition=!1,l(i),a=s.pending,a===null?(i.next=s.pending=i,ju(s,i)):(i.next=a.next,s.pending=a.next=i)}}function ju(e,s){var a=s.action,l=s.payload,n=e.state;if(s.isTransition){var i=N.T,r={};N.T=r;try{var u=a(n,l),T=N.S;T!==null&&T(r,u),Nu(e,s,u)}catch($){Nr(e,s,$)}finally{i!==null&&r.types!==null&&(i.types=r.types),N.T=i}}else try{i=a(n,l),Nu(e,s,i)}catch($){Nr(e,s,$)}}function Nu(e,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wu(e,s,l)},function(l){return Nr(e,s,l)}):wu(e,s,a)}function wu(e,s,a){s.status="fulfilled",s.value=a,Su(s),e.state=a,s=e.pending,s!==null&&(a=s.next,a===s?e.pending=null:(a=a.next,s.next=a,ju(e,a)))}function Nr(e,s,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Su(s),s=s.next;while(s!==l)}e.action=null}function Su(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function ku(e,s){return s}function Au(e,s){if($e){var a=at.formState;if(a!==null){e:{var l=Le;if($e){if(ct){t:{for(var n=ct,i=Ns;n.nodeType!==8;){if(!i){n=null;break t}if(n=Ss(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){ct=Ss(n.nextSibling),l=n.data==="F!";break e}}ha(l)}l=!1}l&&(s=a[0])}}return a=Zt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:s},a.queue=l,a=$u.bind(null,Le,l),l.dispatch=a,l=jr(!1),i=Er.bind(null,Le,!1,l.queue),l=Zt(),n={state:s,dispatch:null,action:e,pending:null},l.queue=n,a=If.bind(null,Le,n,i,a),n.dispatch=a,l.memoizedState=e,[s,a,!1]}function zu(e){var s=bt();return Eu(s,et,e)}function Eu(e,s,a){if(s=vr(e,s,ku)[0],e=Ri(Js)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=jn(s)}catch(r){throw r===Ml?wi:r}else l=s;s=bt();var n=s.queue,i=n.dispatch;return a!==s.memoizedState&&(Le.flags|=2048,Ll(9,{destroy:void 0},qf.bind(null,n,a),null)),[l,i,e]}function qf(e,s){e.action=s}function Cu(e){var s=bt(),a=et;if(a!==null)return Eu(s,a,e);bt(),s=s.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=e,[s,l,!1]}function Ll(e,s,a,l){return e={tag:e,create:a,deps:l,inst:s,next:null},s=Le.updateQueue,s===null&&(s=Mi(),Le.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,s.lastEffect=e),e}function Tu(){return bt().memoizedState}function Di(e,s,a,l){var n=Zt();Le.flags|=e,n.memoizedState=Ll(1|s,{destroy:void 0},a,l===void 0?null:l)}function Oi(e,s,a,l){var n=bt();l=l===void 0?null:l;var i=n.memoizedState.inst;et!==null&&l!==null&&mr(l,et.memoizedState.deps)?n.memoizedState=Ll(s,i,a,l):(Le.flags|=e,n.memoizedState=Ll(1|s,i,a,l))}function Mu(e,s){Di(8390656,8,e,s)}function wr(e,s){Oi(2048,8,e,s)}function Gf(e){Le.flags|=4;var s=Le.updateQueue;if(s===null)s=Mi(),Le.updateQueue=s,s.events=[e];else{var a=s.events;a===null?s.events=[e]:a.push(e)}}function _u(e){var s=bt().memoizedState;return Gf({ref:s,nextImpl:e}),function(){if((Ke&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Ru(e,s){return Oi(4,2,e,s)}function Du(e,s){return Oi(4,4,e,s)}function Ou(e,s){if(typeof s=="function"){e=e();var a=s(e);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Lu(e,s,a){a=a!=null?a.concat([e]):null,Oi(4,4,Ou.bind(null,s,e),a)}function Sr(){}function Uu(e,s){var a=bt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&mr(s,l[1])?l[0]:(a.memoizedState=[e,s],e)}function Hu(e,s){var a=bt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&mr(s,l[1]))return l[0];if(l=e(),sl){Ne(!0);try{e()}finally{Ne(!1)}}return a.memoizedState=[l,s],l}function kr(e,s,a){return a===void 0||(Ks&1073741824)!==0&&(Be&261930)===0?e.memoizedState=s:(e.memoizedState=a,e=Ix(),Le.lanes|=e,ka|=e,a)}function Iu(e,s,a,l){return ls(a,s)?a:Rl.current!==null?(e=kr(e,a,l),ls(e,s)||(wt=!0),e):(Ks&42)===0||(Ks&1073741824)!==0&&(Be&261930)===0?(wt=!0,e.memoizedState=a):(e=Ix(),Le.lanes|=e,ka|=e,s)}function qu(e,s,a,l,n){var i=Z.p;Z.p=i!==0&&8>i?i:8;var r=N.T,u={};N.T=u,Er(e,!1,s,a);try{var T=n(),$=N.S;if($!==null&&$(u,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var le=Lf(T,l);Nn(e,s,le,os(e))}else Nn(e,s,l,os(e))}catch(oe){Nn(e,s,{then:function(){},status:"rejected",reason:oe},os())}finally{Z.p=i,r!==null&&u.types!==null&&(r.types=u.types),N.T=r}}function Vf(){}function Ar(e,s,a,l){if(e.tag!==5)throw Error(o(476));var n=Gu(e).queue;qu(e,n,s,ae,a===null?Vf:function(){return Vu(e),a(l)})}function Gu(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:ae},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:a},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Vu(e){var s=Gu(e);s.next===null&&(s=e.alternate.memoizedState),Nn(e,s.next.queue,{},os())}function zr(){return Ht(In)}function Bu(){return bt().memoizedState}function Yu(){return bt().memoizedState}function Bf(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var a=os();e=va(a);var l=ya(s,e,a);l!==null&&(ts(l,s,a),gn(l,s,a)),s={cache:sr()},e.payload=s;return}s=s.return}}function Yf(e,s,a){var l=os();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Li(e)?Qu(s,a):(a=$c(e,s,a,l),a!==null&&(ts(a,e,l),Zu(a,s,l)))}function $u(e,s,a){var l=os();Nn(e,s,a,l)}function Nn(e,s,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Li(e))Qu(s,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var r=s.lastRenderedState,u=i(r,a);if(n.hasEagerState=!0,n.eagerState=u,ls(u,r))return hi(e,s,n,0),at===null&&pi(),!1}catch{}finally{}if(a=$c(e,s,n,l),a!==null)return ts(a,e,l),Zu(a,s,l),!0}return!1}function Er(e,s,a,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Li(e)){if(s)throw Error(o(479))}else s=$c(e,a,l,2),s!==null&&ts(s,e,2)}function Li(e){var s=e.alternate;return e===Le||s!==null&&s===Le}function Qu(e,s){Dl=Ci=!0;var a=e.pending;a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s}function Zu(e,s,a){if((a&4194048)!==0){var l=s.lanes;l&=e.pendingLanes,a|=l,s.lanes=a,he(e,a)}}var wn={readContext:Ht,use:_i,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};wn.useEffectEvent=ft;var Xu={readContext:Ht,use:_i,useCallback:function(e,s){return Zt().memoizedState=[e,s===void 0?null:s],e},useContext:Ht,useEffect:Mu,useImperativeHandle:function(e,s,a){a=a!=null?a.concat([e]):null,Di(4194308,4,Ou.bind(null,s,e),a)},useLayoutEffect:function(e,s){return Di(4194308,4,e,s)},useInsertionEffect:function(e,s){Di(4,2,e,s)},useMemo:function(e,s){var a=Zt();s=s===void 0?null:s;var l=e();if(sl){Ne(!0);try{e()}finally{Ne(!1)}}return a.memoizedState=[l,s],l},useReducer:function(e,s,a){var l=Zt();if(a!==void 0){var n=a(s);if(sl){Ne(!0);try{a(s)}finally{Ne(!1)}}}else n=s;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Yf.bind(null,Le,e),[l.memoizedState,e]},useRef:function(e){var s=Zt();return e={current:e},s.memoizedState=e},useState:function(e){e=jr(e);var s=e.queue,a=$u.bind(null,Le,s);return s.dispatch=a,[e.memoizedState,a]},useDebugValue:Sr,useDeferredValue:function(e,s){var a=Zt();return kr(a,e,s)},useTransition:function(){var e=jr(!1);return e=qu.bind(null,Le,e.queue,!0,!1),Zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,a){var l=Le,n=Zt();if($e){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),at===null)throw Error(o(349));(Be&127)!==0||pu(l,s,a)}n.memoizedState=a;var i={value:a,getSnapshot:s};return n.queue=i,Mu(gu.bind(null,l,i,e),[e]),l.flags|=2048,Ll(9,{destroy:void 0},hu.bind(null,l,i,a,s),null),a},useId:function(){var e=Zt(),s=at.identifierPrefix;if($e){var a=Us,l=Ls;a=(l&~(1<<32-we(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Ti++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Uf++,s="_"+s+"r_"+a.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:zr,useFormState:Au,useActionState:Au,useOptimistic:function(e){var s=Zt();s.memoizedState=s.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Er.bind(null,Le,!0,a),a.dispatch=s,[e,s]},useMemoCache:br,useCacheRefresh:function(){return Zt().memoizedState=Bf.bind(null,Le)},useEffectEvent:function(e){var s=Zt(),a={impl:e};return s.memoizedState=a,function(){if((Ke&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Cr={readContext:Ht,use:_i,useCallback:Uu,useContext:Ht,useEffect:wr,useImperativeHandle:Lu,useInsertionEffect:Ru,useLayoutEffect:Du,useMemo:Hu,useReducer:Ri,useRef:Tu,useState:function(){return Ri(Js)},useDebugValue:Sr,useDeferredValue:function(e,s){var a=bt();return Iu(a,et.memoizedState,e,s)},useTransition:function(){var e=Ri(Js)[0],s=bt().memoizedState;return[typeof e=="boolean"?e:jn(e),s]},useSyncExternalStore:fu,useId:Bu,useHostTransitionStatus:zr,useFormState:zu,useActionState:zu,useOptimistic:function(e,s){var a=bt();return yu(a,et,e,s)},useMemoCache:br,useCacheRefresh:Yu};Cr.useEffectEvent=_u;var Fu={readContext:Ht,use:_i,useCallback:Uu,useContext:Ht,useEffect:wr,useImperativeHandle:Lu,useInsertionEffect:Ru,useLayoutEffect:Du,useMemo:Hu,useReducer:yr,useRef:Tu,useState:function(){return yr(Js)},useDebugValue:Sr,useDeferredValue:function(e,s){var a=bt();return et===null?kr(a,e,s):Iu(a,et.memoizedState,e,s)},useTransition:function(){var e=yr(Js)[0],s=bt().memoizedState;return[typeof e=="boolean"?e:jn(e),s]},useSyncExternalStore:fu,useId:Bu,useHostTransitionStatus:zr,useFormState:Cu,useActionState:Cu,useOptimistic:function(e,s){var a=bt();return et!==null?yu(a,et,e,s):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:br,useCacheRefresh:Yu};Fu.useEffectEvent=_u;function Tr(e,s,a,l){s=e.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Mr={enqueueSetState:function(e,s,a){e=e._reactInternals;var l=os(),n=va(l);n.payload=s,a!=null&&(n.callback=a),s=ya(e,n,l),s!==null&&(ts(s,e,l),gn(s,e,l))},enqueueReplaceState:function(e,s,a){e=e._reactInternals;var l=os(),n=va(l);n.tag=1,n.payload=s,a!=null&&(n.callback=a),s=ya(e,n,l),s!==null&&(ts(s,e,l),gn(s,e,l))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var a=os(),l=va(a);l.tag=2,s!=null&&(l.callback=s),s=ya(e,l,a),s!==null&&(ts(s,e,a),gn(s,e,a))}};function Ku(e,s,a,l,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,r):s.prototype&&s.prototype.isPureReactComponent?!dn(a,l)||!dn(n,i):!0}function Ju(e,s,a,l){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==e&&Mr.enqueueReplaceState(s,s.state,null)}function al(e,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(e=e.defaultProps){a===s&&(a=b({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function Pu(e){fi(e)}function Wu(e){console.error(e)}function ex(e){fi(e)}function Ui(e,s){try{var a=e.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function tx(e,s,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function _r(e,s,a){return a=va(a),a.tag=3,a.payload={element:null},a.callback=function(){Ui(e,s)},a}function sx(e){return e=va(e),e.tag=3,e}function ax(e,s,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){tx(s,a,l)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){tx(s,a,l),typeof n!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var u=l.stack;this.componentDidCatch(l.value,{componentStack:u!==null?u:""})})}function $f(e,s,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&El(s,a,n,!0),a=is.current,a!==null){switch(a.tag){case 31:case 13:return ws===null?Fi():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Si?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),ad(e,l,n)),!1;case 22:return a.flags|=65536,l===Si?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),ad(e,l,n)),!1}throw Error(o(435,a.tag))}return ad(e,l,n),Fi(),!1}if($e)return s=is.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=n,l!==Jc&&(e=Error(o(422),{cause:l}),xn(vs(e,a)))):(l!==Jc&&(s=Error(o(423),{cause:l}),xn(vs(s,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=vs(l,a),n=_r(e.stateNode,l,n),rr(e,n),pt!==4&&(pt=2)),!1;var i=Error(o(520),{cause:l});if(i=vs(i,a),Mn===null?Mn=[i]:Mn.push(i),pt!==4&&(pt=2),s===null)return!0;l=vs(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=_r(a.stateNode,l,e),rr(a,e),!1;case 1:if(s=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Aa===null||!Aa.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=sx(n),ax(n,e,a,l),rr(a,n),!1}a=a.return}while(a!==null);return!1}var Rr=Error(o(461)),wt=!1;function It(e,s,a,l){s.child=e===null?cu(s,null,a,l):tl(s,e.child,a,l)}function lx(e,s,a,l,n){a=a.render;var i=s.ref;if("ref"in l){var r={};for(var u in l)u!=="ref"&&(r[u]=l[u])}else r=l;return Ja(s),l=fr(e,s,a,r,i,n),u=pr(),e!==null&&!wt?(hr(e,s,n),Ps(e,s,n)):($e&&u&&Fc(s),s.flags|=1,It(e,s,l,n),s.child)}function nx(e,s,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!Qc(i)&&i.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=i,ix(e,s,i,l,n)):(e=bi(a.type,null,l,s,s.mode,n),e.ref=s.ref,e.return=s,s.child=e)}if(i=e.child,!Gr(e,n)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:dn,a(r,l)&&e.ref===s.ref)return Ps(e,s,n)}return s.flags|=1,e=Qs(i,l),e.ref=s.ref,e.return=s,s.child=e}function ix(e,s,a,l,n){if(e!==null){var i=e.memoizedProps;if(dn(i,l)&&e.ref===s.ref)if(wt=!1,s.pendingProps=l=i,Gr(e,n))(e.flags&131072)!==0&&(wt=!0);else return s.lanes=e.lanes,Ps(e,s,n)}return Dr(e,s,a,l,n)}function cx(e,s,a,l){var n=l.children,i=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=s.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~i}else l=0,s.child=null;return rx(e,s,i,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ni(s,i!==null?i.cachePool:null),i!==null?ou(s,i):or(),uu(s);else return l=s.lanes=536870912,rx(e,s,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(Ni(s,i.cachePool),ou(s,i),Na(),s.memoizedState=null):(e!==null&&Ni(s,null),or(),Na());return It(e,s,n,a),s.child}function Sn(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function rx(e,s,a,l,n){var i=lr();return i=i===null?null:{parent:jt._currentValue,pool:i},s.memoizedState={baseLanes:a,cachePool:i},e!==null&&Ni(s,null),or(),uu(s),e!==null&&El(e,s,l,!0),s.childLanes=n,null}function Hi(e,s){return s=qi({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function dx(e,s,a){return tl(s,e.child,null,a),e=Hi(s,s.pendingProps),e.flags|=2,cs(s),s.memoizedState=null,e}function Qf(e,s,a){var l=s.pendingProps,n=(s.flags&128)!==0;if(s.flags&=-129,e===null){if($e){if(l.mode==="hidden")return e=Hi(s,l),s.lanes=536870912,Sn(null,e);if(xr(s),(e=ct)?(e=j0(e,Ns),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:fa!==null?{id:Ls,overflow:Us}:null,retryLane:536870912,hydrationErrors:null},a=Qo(e),a.return=s,s.child=a,Ut=s,ct=null)):e=null,e===null)throw ha(s);return s.lanes=536870912,null}return Hi(s,l)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(xr(s),n)if(s.flags&256)s.flags&=-257,s=dx(e,s,a);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(o(558));else if(wt||El(e,s,a,!1),n=(a&e.childLanes)!==0,wt||n){if(l=at,l!==null&&(r=De(l,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,Za(e,r),ts(l,e,r),Rr;Fi(),s=dx(e,s,a)}else e=i.treeContext,ct=Ss(r.nextSibling),Ut=s,$e=!0,pa=null,Ns=!1,e!==null&&Fo(s,e),s=Hi(s,l),s.flags|=4096;return s}return e=Qs(e.child,{mode:l.mode,children:l.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Ii(e,s){var a=s.ref;if(a===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(s.flags|=4194816)}}function Dr(e,s,a,l,n){return Ja(s),a=fr(e,s,a,l,void 0,n),l=pr(),e!==null&&!wt?(hr(e,s,n),Ps(e,s,n)):($e&&l&&Fc(s),s.flags|=1,It(e,s,a,n),s.child)}function ox(e,s,a,l,n,i){return Ja(s),s.updateQueue=null,a=mu(s,l,a,n),xu(e),l=pr(),e!==null&&!wt?(hr(e,s,i),Ps(e,s,i)):($e&&l&&Fc(s),s.flags|=1,It(e,s,a,i),s.child)}function ux(e,s,a,l,n){if(Ja(s),s.stateNode===null){var i=Sl,r=a.contextType;typeof r=="object"&&r!==null&&(i=Ht(r)),i=new a(l,i),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Mr,s.stateNode=i,i._reactInternals=s,i=s.stateNode,i.props=l,i.state=s.memoizedState,i.refs={},ir(s),r=a.contextType,i.context=typeof r=="object"&&r!==null?Ht(r):Sl,i.state=s.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(Tr(s,a,r,l),i.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Mr.enqueueReplaceState(i,i.state,null),vn(s,l,i,n),bn(),i.state=s.memoizedState),typeof i.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(e===null){i=s.stateNode;var u=s.memoizedProps,T=al(a,u);i.props=T;var $=i.context,le=a.contextType;r=Sl,typeof le=="object"&&le!==null&&(r=Ht(le));var oe=a.getDerivedStateFromProps;le=typeof oe=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=s.pendingProps!==u,le||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||$!==r)&&Ju(s,i,l,r),ba=!1;var X=s.memoizedState;i.state=X,vn(s,l,i,n),bn(),$=s.memoizedState,u||X!==$||ba?(typeof oe=="function"&&(Tr(s,a,oe,l),$=s.memoizedState),(T=ba||Ku(s,a,T,l,X,$,r))?(le||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=$),i.props=l,i.state=$,i.context=r,l=T):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{i=s.stateNode,cr(e,s),r=s.memoizedProps,le=al(a,r),i.props=le,oe=s.pendingProps,X=i.context,$=a.contextType,T=Sl,typeof $=="object"&&$!==null&&(T=Ht($)),u=a.getDerivedStateFromProps,($=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==oe||X!==T)&&Ju(s,i,l,T),ba=!1,X=s.memoizedState,i.state=X,vn(s,l,i,n),bn();var P=s.memoizedState;r!==oe||X!==P||ba||e!==null&&e.dependencies!==null&&yi(e.dependencies)?(typeof u=="function"&&(Tr(s,a,u,l),P=s.memoizedState),(le=ba||Ku(s,a,le,l,X,P,T)||e!==null&&e.dependencies!==null&&yi(e.dependencies))?($||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,P,T),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,P,T)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&X===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&X===e.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=P),i.props=l,i.state=P,i.context=T,l=le):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&X===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&X===e.memoizedState||(s.flags|=1024),l=!1)}return i=l,Ii(e,s),l=(s.flags&128)!==0,i||l?(i=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),s.flags|=1,e!==null&&l?(s.child=tl(s,e.child,null,n),s.child=tl(s,null,a,n)):It(e,s,a,n),s.memoizedState=i.state,e=s.child):e=Ps(e,s,n),e}function xx(e,s,a,l){return Fa(),s.flags|=256,It(e,s,a,l),s.child}var Or={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lr(e){return{baseLanes:e,cachePool:tu()}}function Ur(e,s,a){return e=e!==null?e.childLanes&~a:0,s&&(e|=ds),e}function mx(e,s,a){var l=s.pendingProps,n=!1,i=(s.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(gt.current&2)!==0),r&&(n=!0,s.flags&=-129),r=(s.flags&32)!==0,s.flags&=-33,e===null){if($e){if(n?ja(s):Na(),(e=ct)?(e=j0(e,Ns),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:fa!==null?{id:Ls,overflow:Us}:null,retryLane:536870912,hydrationErrors:null},a=Qo(e),a.return=s,s.child=a,Ut=s,ct=null)):e=null,e===null)throw ha(s);return vd(e)?s.lanes=32:s.lanes=536870912,null}var u=l.children;return l=l.fallback,n?(Na(),n=s.mode,u=qi({mode:"hidden",children:u},n),l=Xa(l,n,a,null),u.return=s,l.return=s,u.sibling=l,s.child=u,l=s.child,l.memoizedState=Lr(a),l.childLanes=Ur(e,r,a),s.memoizedState=Or,Sn(null,l)):(ja(s),Hr(s,u))}var T=e.memoizedState;if(T!==null&&(u=T.dehydrated,u!==null)){if(i)s.flags&256?(ja(s),s.flags&=-257,s=Ir(e,s,a)):s.memoizedState!==null?(Na(),s.child=e.child,s.flags|=128,s=null):(Na(),u=l.fallback,n=s.mode,l=qi({mode:"visible",children:l.children},n),u=Xa(u,n,a,null),u.flags|=2,l.return=s,u.return=s,l.sibling=u,s.child=l,tl(s,e.child,null,a),l=s.child,l.memoizedState=Lr(a),l.childLanes=Ur(e,r,a),s.memoizedState=Or,s=Sn(null,l));else if(ja(s),vd(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var $=r.dgst;r=$,l=Error(o(419)),l.stack="",l.digest=r,xn({value:l,source:null,stack:null}),s=Ir(e,s,a)}else if(wt||El(e,s,a,!1),r=(a&e.childLanes)!==0,wt||r){if(r=at,r!==null&&(l=De(r,a),l!==0&&l!==T.retryLane))throw T.retryLane=l,Za(e,l),ts(r,e,l),Rr;bd(u)||Fi(),s=Ir(e,s,a)}else bd(u)?(s.flags|=192,s.child=e.child,s=null):(e=T.treeContext,ct=Ss(u.nextSibling),Ut=s,$e=!0,pa=null,Ns=!1,e!==null&&Fo(s,e),s=Hr(s,l.children),s.flags|=4096);return s}return n?(Na(),u=l.fallback,n=s.mode,T=e.child,$=T.sibling,l=Qs(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,$!==null?u=Qs($,u):(u=Xa(u,n,a,null),u.flags|=2),u.return=s,l.return=s,l.sibling=u,s.child=l,Sn(null,l),l=s.child,u=e.child.memoizedState,u===null?u=Lr(a):(n=u.cachePool,n!==null?(T=jt._currentValue,n=n.parent!==T?{parent:T,pool:T}:n):n=tu(),u={baseLanes:u.baseLanes|a,cachePool:n}),l.memoizedState=u,l.childLanes=Ur(e,r,a),s.memoizedState=Or,Sn(e.child,l)):(ja(s),a=e.child,e=a.sibling,a=Qs(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=a,s.memoizedState=null,a)}function Hr(e,s){return s=qi({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function qi(e,s){return e=ns(22,e,null,s),e.lanes=0,e}function Ir(e,s,a){return tl(s,e.child,null,a),e=Hr(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function fx(e,s,a){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s),er(e.return,s,a)}function qr(e,s,a,l,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:i}:(r.isBackwards=s,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=n,r.treeForkCount=i)}function px(e,s,a){var l=s.pendingProps,n=l.revealOrder,i=l.tail;l=l.children;var r=gt.current,u=(r&2)!==0;if(u?(r=r&1|2,s.flags|=128):r&=1,de(gt,r),It(e,s,l,a),l=$e?un:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fx(e,a,s);else if(e.tag===19)fx(e,a,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=s.child,n=null;a!==null;)e=a.alternate,e!==null&&Ei(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=s.child,s.child=null):(n=a.sibling,a.sibling=null),qr(s,!1,n,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=s.child,s.child=null;n!==null;){if(e=n.alternate,e!==null&&Ei(e)===null){s.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}qr(s,!0,a,null,i,l);break;case"together":qr(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ps(e,s,a){if(e!==null&&(s.dependencies=e.dependencies),ka|=s.lanes,(a&s.childLanes)===0)if(e!==null){if(El(e,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(o(153));if(s.child!==null){for(e=s.child,a=Qs(e,e.pendingProps),s.child=a,a.return=s;e.sibling!==null;)e=e.sibling,a=a.sibling=Qs(e,e.pendingProps),a.return=s;a.sibling=null}return s.child}function Gr(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&yi(e)))}function Zf(e,s,a){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),ga(s,jt,e.memoizedState.cache),Fa();break;case 27:case 5:pe(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:ga(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,xr(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ja(s),s.flags|=128,null):(a&s.child.childLanes)!==0?mx(e,s,a):(ja(s),e=Ps(e,s,a),e!==null?e.sibling:null);ja(s);break;case 19:var n=(e.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(El(e,s,a,!1),l=(a&s.childLanes)!==0),n){if(l)return px(e,s,a);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),de(gt,gt.current),l)break;return null;case 22:return s.lanes=0,cx(e,s,a,s.pendingProps);case 24:ga(s,jt,e.memoizedState.cache)}return Ps(e,s,a)}function hx(e,s,a){if(e!==null)if(e.memoizedProps!==s.pendingProps)wt=!0;else{if(!Gr(e,a)&&(s.flags&128)===0)return wt=!1,Zf(e,s,a);wt=(e.flags&131072)!==0}else wt=!1,$e&&(s.flags&1048576)!==0&&Xo(s,un,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(e=Wa(s.elementType),s.type=e,typeof e=="function")Qc(e)?(l=al(e,l),s.tag=1,s=ux(null,s,e,l,a)):(s.tag=0,s=Dr(null,s,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===C){s.tag=11,s=lx(null,s,e,l,a);break e}else if(n===v){s.tag=14,s=nx(null,s,e,l,a);break e}}throw s=ee(e)||e,Error(o(306,s,""))}}return s;case 0:return Dr(e,s,s.type,s.pendingProps,a);case 1:return l=s.type,n=al(l,s.pendingProps),ux(e,s,l,n,a);case 3:e:{if(te(s,s.stateNode.containerInfo),e===null)throw Error(o(387));l=s.pendingProps;var i=s.memoizedState;n=i.element,cr(e,s),vn(s,l,null,a);var r=s.memoizedState;if(l=r.cache,ga(s,jt,l),l!==i.cache&&tr(s,[jt],a,!0),bn(),l=r.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:r.cache},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){s=xx(e,s,l,a);break e}else if(l!==n){n=vs(Error(o(424)),s),xn(n),s=xx(e,s,l,a);break e}else{switch(e=s.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ct=Ss(e.firstChild),Ut=s,$e=!0,pa=null,Ns=!0,a=cu(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fa(),l===n){s=Ps(e,s,a);break e}It(e,s,l,a)}s=s.child}return s;case 26:return Ii(e,s),e===null?(a=z0(s.type,null,s.pendingProps,null))?s.memoizedState=a:$e||(a=s.type,e=s.pendingProps,l=sc(U.current).createElement(a),l[Je]=s,l[Ee]=e,qt(l,a,e),_t(l),s.stateNode=l):s.memoizedState=z0(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return pe(s),e===null&&$e&&(l=s.stateNode=S0(s.type,s.pendingProps,U.current),Ut=s,Ns=!0,n=ct,Ta(s.type)?(yd=n,ct=Ss(l.firstChild)):ct=n),It(e,s,s.pendingProps.children,a),Ii(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&$e&&((n=l=ct)&&(l=wp(l,s.type,s.pendingProps,Ns),l!==null?(s.stateNode=l,Ut=s,ct=Ss(l.firstChild),Ns=!1,n=!0):n=!1),n||ha(s)),pe(s),n=s.type,i=s.pendingProps,r=e!==null?e.memoizedProps:null,l=i.children,pd(n,i)?l=null:r!==null&&pd(n,r)&&(s.flags|=32),s.memoizedState!==null&&(n=fr(e,s,Hf,null,null,a),In._currentValue=n),Ii(e,s),It(e,s,l,a),s.child;case 6:return e===null&&$e&&((e=a=ct)&&(a=Sp(a,s.pendingProps,Ns),a!==null?(s.stateNode=a,Ut=s,ct=null,e=!0):e=!1),e||ha(s)),null;case 13:return mx(e,s,a);case 4:return te(s,s.stateNode.containerInfo),l=s.pendingProps,e===null?s.child=tl(s,null,l,a):It(e,s,l,a),s.child;case 11:return lx(e,s,s.type,s.pendingProps,a);case 7:return It(e,s,s.pendingProps,a),s.child;case 8:return It(e,s,s.pendingProps.children,a),s.child;case 12:return It(e,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,ga(s,s.type,l.value),It(e,s,l.children,a),s.child;case 9:return n=s.type._context,l=s.pendingProps.children,Ja(s),n=Ht(n),l=l(n),s.flags|=1,It(e,s,l,a),s.child;case 14:return nx(e,s,s.type,s.pendingProps,a);case 15:return ix(e,s,s.type,s.pendingProps,a);case 19:return px(e,s,a);case 31:return Qf(e,s,a);case 22:return cx(e,s,a,s.pendingProps);case 24:return Ja(s),l=Ht(jt),e===null?(n=lr(),n===null&&(n=at,i=sr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),s.memoizedState={parent:l,cache:n},ir(s),ga(s,jt,n)):((e.lanes&a)!==0&&(cr(e,s),vn(s,null,null,a),bn()),n=e.memoizedState,i=s.memoizedState,n.parent!==l?(n={parent:l,cache:l},s.memoizedState=n,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=n),ga(s,jt,l)):(l=i.cache,ga(s,jt,l),l!==n.cache&&tr(s,[jt],a,!0))),It(e,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Ws(e){e.flags|=4}function Vr(e,s,a,l,n){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Bx())e.flags|=8192;else throw el=Si,nr}else e.flags&=-16777217}function gx(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_0(s))if(Bx())e.flags|=8192;else throw el=Si,nr}function Gi(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?it():536870912,e.lanes|=s,ql|=s)}function kn(e,s){if(!$e)switch(e.tailMode){case"hidden":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function rt(e){var s=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(s)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,s}function Xf(e,s,a){var l=s.pendingProps;switch(Kc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return a=s.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Fs(jt),J(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(zl(s)?Ws(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Pc())),rt(s),null;case 26:var n=s.type,i=s.memoizedState;return e===null?(Ws(s),i!==null?(rt(s),gx(s,i)):(rt(s),Vr(s,n,null,l,a))):i?i!==e.memoizedState?(Ws(s),rt(s),gx(s,i)):(rt(s),s.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ws(s),rt(s),Vr(s,n,e,l,a)),null;case 27:if(ge(s),a=U.current,n=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Ws(s);else{if(!l){if(s.stateNode===null)throw Error(o(166));return rt(s),null}e=xe.current,zl(s)?Ko(s):(e=S0(n,l,a),s.stateNode=e,Ws(s))}return rt(s),null;case 5:if(ge(s),n=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==l&&Ws(s);else{if(!l){if(s.stateNode===null)throw Error(o(166));return rt(s),null}if(i=xe.current,zl(s))Ko(s);else{var r=sc(U.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?r.createElement("select",{is:l.is}):r.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?r.createElement(n,{is:l.is}):r.createElement(n)}}i[Je]=s,i[Ee]=l;e:for(r=s.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}s.stateNode=i;e:switch(qt(i,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ws(s)}}return rt(s),Vr(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,a),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==l&&Ws(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(o(166));if(e=U.current,zl(s)){if(e=s.stateNode,a=s.memoizedProps,l=null,n=Ut,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[Je]=s,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||m0(e.nodeValue,a)),e||ha(s,!0)}else e=sc(e).createTextNode(l),e[Je]=s,s.stateNode=e}return rt(s),null;case 31:if(a=s.memoizedState,e===null||e.memoizedState!==null){if(l=zl(s),a!==null){if(e===null){if(!l)throw Error(o(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Je]=s}else Fa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),e=!1}else a=Pc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return s.flags&256?(cs(s),s):(cs(s),null);if((s.flags&128)!==0)throw Error(o(558))}return rt(s),null;case 13:if(l=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=zl(s),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[Je]=s}else Fa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),n=!1}else n=Pc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return s.flags&256?(cs(s),s):(cs(s),null)}return cs(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=s.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)),a!==e&&a&&(s.child.flags|=8192),Gi(s,s.updateQueue),rt(s),null);case 4:return J(),e===null&&od(s.stateNode.containerInfo),rt(s),null;case 10:return Fs(s.type),rt(s),null;case 19:if(R(gt),l=s.memoizedState,l===null)return rt(s),null;if(n=(s.flags&128)!==0,i=l.rendering,i===null)if(n)kn(l,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(i=Ei(e),i!==null){for(s.flags|=128,kn(l,!1),e=i.updateQueue,s.updateQueue=e,Gi(s,e),s.subtreeFlags=0,e=a,a=s.child;a!==null;)$o(a,e),a=a.sibling;return de(gt,gt.current&1|2),$e&&Zs(s,l.treeForkCount),s.child}e=e.sibling}l.tail!==null&&Ot()>Qi&&(s.flags|=128,n=!0,kn(l,!1),s.lanes=4194304)}else{if(!n)if(e=Ei(i),e!==null){if(s.flags|=128,n=!0,e=e.updateQueue,s.updateQueue=e,Gi(s,e),kn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!$e)return rt(s),null}else 2*Ot()-l.renderingStartTime>Qi&&a!==536870912&&(s.flags|=128,n=!0,kn(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(e=l.last,e!==null?e.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ot(),e.sibling=null,a=gt.current,de(gt,n?a&1|2:a&1),$e&&Zs(s,l.treeForkCount),e):(rt(s),null);case 22:case 23:return cs(s),ur(),l=s.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),a=s.updateQueue,a!==null&&Gi(s,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),e!==null&&R(Pa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Fs(jt),rt(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function Ff(e,s){switch(Kc(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Fs(jt),J(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return ge(s),null;case 31:if(s.memoizedState!==null){if(cs(s),s.alternate===null)throw Error(o(340));Fa()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(cs(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Fa()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return R(gt),null;case 4:return J(),null;case 10:return Fs(s.type),null;case 22:case 23:return cs(s),ur(),e!==null&&R(Pa),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return Fs(jt),null;case 25:return null;default:return null}}function bx(e,s){switch(Kc(s),s.tag){case 3:Fs(jt),J();break;case 26:case 27:case 5:ge(s);break;case 4:J();break;case 31:s.memoizedState!==null&&cs(s);break;case 13:cs(s);break;case 19:R(gt);break;case 10:Fs(s.type);break;case 22:case 23:cs(s),ur(),e!==null&&R(Pa);break;case 24:Fs(jt)}}function An(e,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,r=a.inst;l=i(),r.destroy=l}a=a.next}while(a!==n)}}catch(u){We(s,s.return,u)}}function wa(e,s,a){try{var l=s.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var r=l.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,n=s;var T=a,$=u;try{$()}catch(le){We(n,T,le)}}}l=l.next}while(l!==i)}}catch(le){We(s,s.return,le)}}function vx(e){var s=e.updateQueue;if(s!==null){var a=e.stateNode;try{du(s,a)}catch(l){We(e,e.return,l)}}}function yx(e,s,a){a.props=al(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){We(e,s,l)}}function zn(e,s){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){We(e,s,n)}}function Hs(e,s){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){We(e,s,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){We(e,s,n)}else a.current=null}function jx(e){var s=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){We(e,e.return,n)}}function Br(e,s,a){try{var l=e.stateNode;gp(l,e.type,a,s),l[Ee]=s}catch(n){We(e,e.return,n)}}function Nx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ta(e.type)||e.tag===4}function Yr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ta(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $r(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(e),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ys));else if(l!==4&&(l===27&&Ta(e.type)&&(a=e.stateNode,s=null),e=e.child,e!==null))for($r(e,s,a),e=e.sibling;e!==null;)$r(e,s,a),e=e.sibling}function Vi(e,s,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,s?a.insertBefore(e,s):a.appendChild(e);else if(l!==4&&(l===27&&Ta(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Vi(e,s,a),e=e.sibling;e!==null;)Vi(e,s,a),e=e.sibling}function wx(e){var s=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);qt(s,l,a),s[Je]=e,s[Ee]=a}catch(i){We(e,e.return,i)}}var ea=!1,St=!1,Qr=!1,Sx=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Kf(e,s){if(e=e.containerInfo,md=dc,e=Lo(e),Ic(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,u=-1,T=-1,$=0,le=0,oe=e,X=null;t:for(;;){for(var P;oe!==a||n!==0&&oe.nodeType!==3||(u=r+n),oe!==i||l!==0&&oe.nodeType!==3||(T=r+l),oe.nodeType===3&&(r+=oe.nodeValue.length),(P=oe.firstChild)!==null;)X=oe,oe=P;for(;;){if(oe===e)break t;if(X===a&&++$===n&&(u=r),X===i&&++le===l&&(T=r),(P=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=P}a=u===-1||T===-1?null:{start:u,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(fd={focusedElem:e,selectionRange:a},dc=!1,Rt=s;Rt!==null;)if(s=Rt,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,Rt=e;else for(;Rt!==null;){switch(s=Rt,i=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=s,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var be=al(a.type,n);e=l.getSnapshotBeforeUpdate(be,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(ze){We(a,a.return,ze)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,a=e.nodeType,a===9)gd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=s.sibling,e!==null){e.return=s.return,Rt=e;break}Rt=s.return}}function kx(e,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sa(e,a),l&4&&An(5,a);break;case 1:if(sa(e,a),l&4)if(e=a.stateNode,s===null)try{e.componentDidMount()}catch(r){We(a,a.return,r)}else{var n=al(a.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(n,s,e.__reactInternalSnapshotBeforeUpdate)}catch(r){We(a,a.return,r)}}l&64&&vx(a),l&512&&zn(a,a.return);break;case 3:if(sa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{du(e,s)}catch(r){We(a,a.return,r)}}break;case 27:s===null&&l&4&&wx(a);case 26:case 5:sa(e,a),s===null&&l&4&&jx(a),l&512&&zn(a,a.return);break;case 12:sa(e,a);break;case 31:sa(e,a),l&4&&Ex(e,a);break;case 13:sa(e,a),l&4&&Cx(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=np.bind(null,a),kp(e,a))));break;case 22:if(l=a.memoizedState!==null||ea,!l){s=s!==null&&s.memoizedState!==null||St,n=ea;var i=St;ea=l,(St=s)&&!i?aa(e,a,(a.subtreeFlags&8772)!==0):sa(e,a),ea=n,St=i}break;case 30:break;default:sa(e,a)}}function Ax(e){var s=e.alternate;s!==null&&(e.alternate=null,Ax(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&Wl(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,Jt=!1;function ta(e,s,a){for(a=a.child;a!==null;)zx(e,s,a),a=a.sibling}function zx(e,s,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Te,a)}catch{}switch(a.tag){case 26:St||Hs(a,s),ta(e,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Hs(a,s);var l=ut,n=Jt;Ta(a.type)&&(ut=a.stateNode,Jt=!1),ta(e,s,a),Ln(a.stateNode),ut=l,Jt=n;break;case 5:St||Hs(a,s);case 6:if(l=ut,n=Jt,ut=null,ta(e,s,a),ut=l,Jt=n,ut!==null)if(Jt)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(i){We(a,s,i)}else try{ut.removeChild(a.stateNode)}catch(i){We(a,s,i)}break;case 18:ut!==null&&(Jt?(e=ut,v0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Xl(e)):v0(ut,a.stateNode));break;case 4:l=ut,n=Jt,ut=a.stateNode.containerInfo,Jt=!0,ta(e,s,a),ut=l,Jt=n;break;case 0:case 11:case 14:case 15:wa(2,a,s),St||wa(4,a,s),ta(e,s,a);break;case 1:St||(Hs(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yx(a,s,l)),ta(e,s,a);break;case 21:ta(e,s,a);break;case 22:St=(l=St)||a.memoizedState!==null,ta(e,s,a),St=l;break;default:ta(e,s,a)}}function Ex(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xl(e)}catch(a){We(s,s.return,a)}}}function Cx(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xl(e)}catch(a){We(s,s.return,a)}}function Jf(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new Sx),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new Sx),s;default:throw Error(o(435,e.tag))}}function Bi(e,s){var a=Jf(e);s.forEach(function(l){if(!a.has(l)){a.add(l);var n=ip.bind(null,e,l);l.then(n,n)}})}function Pt(e,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,r=s,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(Ta(u.type)){ut=u.stateNode,Jt=!1;break e}break;case 5:ut=u.stateNode,Jt=!1;break e;case 3:case 4:ut=u.stateNode.containerInfo,Jt=!0;break e}u=u.return}if(ut===null)throw Error(o(160));zx(i,r,n),ut=null,Jt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Tx(s,e),s=s.sibling}var Cs=null;function Tx(e,s){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pt(s,e),Wt(e),l&4&&(wa(3,e,e.return),An(3,e),wa(5,e,e.return));break;case 1:Pt(s,e),Wt(e),l&512&&(St||a===null||Hs(a,a.return)),l&64&&ea&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=Cs;if(Pt(s,e),Wt(e),l&512&&(St||a===null||Hs(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Va]||i[Je]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),qt(i,l,a),i[Je]=e,_t(i),l=i;break e;case"link":var r=T0("link","href",n).get(l+(a.href||""));if(r){for(var u=0;u<r.length;u++)if(i=r[u],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(u,1);break t}}i=n.createElement(l),qt(i,l,a),n.head.appendChild(i);break;case"meta":if(r=T0("meta","content",n).get(l+(a.content||""))){for(u=0;u<r.length;u++)if(i=r[u],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(u,1);break t}}i=n.createElement(l),qt(i,l,a),n.head.appendChild(i);break;default:throw Error(o(468,l))}i[Je]=e,_t(i),l=i}e.stateNode=l}else M0(n,e.type,e.stateNode);else e.stateNode=C0(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?M0(n,e.type,e.stateNode):C0(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Br(e,e.memoizedProps,a.memoizedProps)}break;case 27:Pt(s,e),Wt(e),l&512&&(St||a===null||Hs(a,a.return)),a!==null&&l&4&&Br(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Pt(s,e),Wt(e),l&512&&(St||a===null||Hs(a,a.return)),e.flags&32){n=e.stateNode;try{gl(n,"")}catch(be){We(e,e.return,be)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Br(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Qr=!0);break;case 6:if(Pt(s,e),Wt(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(be){We(e,e.return,be)}}break;case 3:if(nc=null,n=Cs,Cs=ac(s.containerInfo),Pt(s,e),Cs=n,Wt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(s.containerInfo)}catch(be){We(e,e.return,be)}Qr&&(Qr=!1,Mx(e));break;case 4:l=Cs,Cs=ac(e.stateNode.containerInfo),Pt(s,e),Wt(e),Cs=l;break;case 12:Pt(s,e),Wt(e);break;case 31:Pt(s,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bi(e,l)));break;case 13:Pt(s,e),Wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($i=Ot()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bi(e,l)));break;case 22:n=e.memoizedState!==null;var T=a!==null&&a.memoizedState!==null,$=ea,le=St;if(ea=$||n,St=le||T,Pt(s,e),St=le,ea=$,Wt(e),l&8192)e:for(s=e.stateNode,s._visibility=n?s._visibility&-2:s._visibility|1,n&&(a===null||T||ea||St||ll(e)),a=null,s=e;;){if(s.tag===5||s.tag===26){if(a===null){T=a=s;try{if(i=T.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=T.stateNode;var oe=T.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;u.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(be){We(T,T.return,be)}}}else if(s.tag===6){if(a===null){T=s;try{T.stateNode.nodeValue=n?"":T.memoizedProps}catch(be){We(T,T.return,be)}}}else if(s.tag===18){if(a===null){T=s;try{var P=T.stateNode;n?y0(P,!0):y0(T.stateNode,!1)}catch(be){We(T,T.return,be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bi(e,a))));break;case 19:Pt(s,e),Wt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Bi(e,l)));break;case 30:break;case 21:break;default:Pt(s,e),Wt(e)}}function Wt(e){var s=e.flags;if(s&2){try{for(var a,l=e.return;l!==null;){if(Nx(l)){a=l;break}l=l.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var n=a.stateNode,i=Yr(e);Vi(e,i,n);break;case 5:var r=a.stateNode;a.flags&32&&(gl(r,""),a.flags&=-33);var u=Yr(e);Vi(e,u,r);break;case 3:case 4:var T=a.stateNode.containerInfo,$=Yr(e);$r(e,$,T);break;default:throw Error(o(161))}}catch(le){We(e,e.return,le)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Mx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;Mx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function sa(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)kx(e,s.alternate,s),s=s.sibling}function ll(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:wa(4,s,s.return),ll(s);break;case 1:Hs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&yx(s,s.return,a),ll(s);break;case 27:Ln(s.stateNode);case 26:case 5:Hs(s,s.return),ll(s);break;case 22:s.memoizedState===null&&ll(s);break;case 30:ll(s);break;default:ll(s)}e=e.sibling}}function aa(e,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,n=e,i=s,r=i.flags;switch(i.tag){case 0:case 11:case 15:aa(n,i,a),An(4,i);break;case 1:if(aa(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch($){We(l,l.return,$)}if(l=i,n=l.updateQueue,n!==null){var u=l.stateNode;try{var T=n.shared.hiddenCallbacks;if(T!==null)for(n.shared.hiddenCallbacks=null,n=0;n<T.length;n++)ru(T[n],u)}catch($){We(l,l.return,$)}}a&&r&64&&vx(i),zn(i,i.return);break;case 27:wx(i);case 26:case 5:aa(n,i,a),a&&l===null&&r&4&&jx(i),zn(i,i.return);break;case 12:aa(n,i,a);break;case 31:aa(n,i,a),a&&r&4&&Ex(n,i);break;case 13:aa(n,i,a),a&&r&4&&Cx(n,i);break;case 22:i.memoizedState===null&&aa(n,i,a),zn(i,i.return);break;case 30:break;default:aa(n,i,a)}s=s.sibling}}function Zr(e,s){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&mn(a))}function Xr(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&mn(e))}function Ts(e,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_x(e,s,a,l),s=s.sibling}function _x(e,s,a,l){var n=s.flags;switch(s.tag){case 0:case 11:case 15:Ts(e,s,a,l),n&2048&&An(9,s);break;case 1:Ts(e,s,a,l);break;case 3:Ts(e,s,a,l),n&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&mn(e)));break;case 12:if(n&2048){Ts(e,s,a,l),e=s.stateNode;try{var i=s.memoizedProps,r=i.id,u=i.onPostCommit;typeof u=="function"&&u(r,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){We(s,s.return,T)}}else Ts(e,s,a,l);break;case 31:Ts(e,s,a,l);break;case 13:Ts(e,s,a,l);break;case 23:break;case 22:i=s.stateNode,r=s.alternate,s.memoizedState!==null?i._visibility&2?Ts(e,s,a,l):En(e,s):i._visibility&2?Ts(e,s,a,l):(i._visibility|=2,Ul(e,s,a,l,(s.subtreeFlags&10256)!==0||!1)),n&2048&&Zr(r,s);break;case 24:Ts(e,s,a,l),n&2048&&Xr(s.alternate,s);break;default:Ts(e,s,a,l)}}function Ul(e,s,a,l,n){for(n=n&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var i=e,r=s,u=a,T=l,$=r.flags;switch(r.tag){case 0:case 11:case 15:Ul(i,r,u,T,n),An(8,r);break;case 23:break;case 22:var le=r.stateNode;r.memoizedState!==null?le._visibility&2?Ul(i,r,u,T,n):En(i,r):(le._visibility|=2,Ul(i,r,u,T,n)),n&&$&2048&&Zr(r.alternate,r);break;case 24:Ul(i,r,u,T,n),n&&$&2048&&Xr(r.alternate,r);break;default:Ul(i,r,u,T,n)}s=s.sibling}}function En(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=e,l=s,n=l.flags;switch(l.tag){case 22:En(a,l),n&2048&&Zr(l.alternate,l);break;case 24:En(a,l),n&2048&&Xr(l.alternate,l);break;default:En(a,l)}s=s.sibling}}var Cn=8192;function Hl(e,s,a){if(e.subtreeFlags&Cn)for(e=e.child;e!==null;)Rx(e,s,a),e=e.sibling}function Rx(e,s,a){switch(e.tag){case 26:Hl(e,s,a),e.flags&Cn&&e.memoizedState!==null&&Up(a,Cs,e.memoizedState,e.memoizedProps);break;case 5:Hl(e,s,a);break;case 3:case 4:var l=Cs;Cs=ac(e.stateNode.containerInfo),Hl(e,s,a),Cs=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Cn,Cn=16777216,Hl(e,s,a),Cn=l):Hl(e,s,a));break;default:Hl(e,s,a)}}function Dx(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Tn(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Rt=l,Lx(l,e)}Dx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ox(e),e=e.sibling}function Ox(e){switch(e.tag){case 0:case 11:case 15:Tn(e),e.flags&2048&&wa(9,e,e.return);break;case 3:Tn(e);break;case 12:Tn(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Yi(e)):Tn(e);break;default:Tn(e)}}function Yi(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Rt=l,Lx(l,e)}Dx(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:wa(8,s,s.return),Yi(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Yi(s));break;default:Yi(s)}e=e.sibling}}function Lx(e,s){for(;Rt!==null;){var a=Rt;switch(a.tag){case 0:case 11:case 15:wa(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:mn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Rt=l;else e:for(a=e;Rt!==null;){l=Rt;var n=l.sibling,i=l.return;if(Ax(l),l===a){Rt=null;break e}if(n!==null){n.return=i,Rt=n;break e}Rt=i}}}var Pf={getCacheForType:function(e){var s=Ht(jt),a=s.data.get(e);return a===void 0&&(a=e(),s.data.set(e,a)),a},cacheSignal:function(){return Ht(jt).controller.signal}},Wf=typeof WeakMap=="function"?WeakMap:Map,Ke=0,at=null,qe=null,Be=0,Pe=0,rs=null,Sa=!1,Il=!1,Fr=!1,la=0,pt=0,ka=0,nl=0,Kr=0,ds=0,ql=0,Mn=null,es=null,Jr=!1,$i=0,Ux=0,Qi=1/0,Zi=null,Aa=null,Tt=0,za=null,Gl=null,na=0,Pr=0,Wr=null,Hx=null,_n=0,ed=null;function os(){return(Ke&2)!==0&&Be!==0?Be&-Be:N.T!==null?id():Oe()}function Ix(){if(ds===0)if((Be&536870912)===0||$e){var e=yt;yt<<=1,(yt&3932160)===0&&(yt=262144),ds=e}else ds=536870912;return e=is.current,e!==null&&(e.flags|=32),ds}function ts(e,s,a){(e===at&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(Vl(e,0),Ea(e,Be,ds,!1)),ps(e,a),((Ke&2)===0||e!==at)&&(e===at&&((Ke&2)===0&&(nl|=a),pt===4&&Ea(e,Be,ds,!1)),Is(e))}function qx(e,s,a){if((Ke&6)!==0)throw Error(o(327));var l=!a&&(s&127)===0&&(s&e.expiredLanes)===0||Vt(e,s),n=l?sp(e,s):sd(e,s,!0),i=l;do{if(n===0){Il&&!l&&Ea(e,s,0,!1);break}else{if(a=e.current.alternate,i&&!ep(a)){n=sd(e,s,!1),i=!1;continue}if(n===2){if(i=s,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){s=r;e:{var u=e;n=Mn;var T=u.current.memoizedState.isDehydrated;if(T&&(Vl(u,r).flags|=256),r=sd(u,r,!1),r!==2){if(Fr&&!T){u.errorRecoveryDisabledLanes|=i,nl|=i,n=4;break e}i=es,es=n,i!==null&&(es===null?es=i:es.push.apply(es,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){Vl(e,0),Ea(e,s,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Ea(l,s,ds,!Sa);break e;case 2:es=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(n=$i+300-Ot(),10<n)){if(Ea(l,s,ds,!Sa),Ft(l,0,!0)!==0)break e;na=s,l.timeoutHandle=g0(Gx.bind(null,l,a,es,Zi,Jr,s,ds,nl,ql,Sa,i,"Throttled",-0,0),n);break e}Gx(l,a,es,Zi,Jr,s,ds,nl,ql,Sa,i,null,-0,0)}}break}while(!0);Is(e)}function Gx(e,s,a,l,n,i,r,u,T,$,le,oe,X,P){if(e.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ys},Rx(s,i,oe);var be=(i&62914560)===i?$i-Ot():(i&4194048)===i?Ux-Ot():0;if(be=Hp(oe,be),be!==null){na=i,e.cancelPendingCommit=be(Fx.bind(null,e,s,i,a,l,n,r,u,T,le,oe,null,X,P)),Ea(e,i,r,!$);return}}Fx(e,s,i,a,l,n,r,u,T)}function ep(e){for(var s=e;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!ls(i(),n))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ea(e,s,a,l){s&=~Kr,s&=~nl,e.suspendedLanes|=s,e.pingedLanes&=~s,l&&(e.warmLanes|=s),l=e.expirationTimes;for(var n=s;0<n;){var i=31-we(n),r=1<<i;l[i]=-1,n&=~r}a!==0&&Vs(e,a,s)}function Xi(){return(Ke&6)===0?(Rn(0),!1):!0}function td(){if(qe!==null){if(Pe===0)var e=qe.return;else e=qe,Xs=Ka=null,gr(e),_l=null,pn=0,e=qe;for(;e!==null;)bx(e.alternate,e),e=e.return;qe=null}}function Vl(e,s){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),na=0,td(),at=e,qe=a=Qs(e.current,null),Be=s,Pe=0,rs=null,Sa=!1,Il=Vt(e,s),Fr=!1,ql=ds=Kr=nl=ka=pt=0,es=Mn=null,Jr=!1,(s&8)!==0&&(s|=s&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=s;0<l;){var n=31-we(l),i=1<<n;s|=e[n],l&=~i}return la=s,pi(),a}function Vx(e,s){Le=null,N.H=wn,s===Ml||s===wi?(s=lu(),Pe=3):s===nr?(s=lu(),Pe=4):Pe=s===Rr?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,rs=s,qe===null&&(pt=1,Ui(e,vs(s,e.current)))}function Bx(){var e=is.current;return e===null?!0:(Be&4194048)===Be?ws===null:(Be&62914560)===Be||(Be&536870912)!==0?e===ws:!1}function Yx(){var e=N.H;return N.H=wn,e===null?wn:e}function $x(){var e=N.A;return N.A=Pf,e}function Fi(){pt=4,Sa||(Be&4194048)!==Be&&is.current!==null||(Il=!0),(ka&134217727)===0&&(nl&134217727)===0||at===null||Ea(at,Be,ds,!1)}function sd(e,s,a){var l=Ke;Ke|=2;var n=Yx(),i=$x();(at!==e||Be!==s)&&(Zi=null,Vl(e,s)),s=!1;var r=pt;e:do try{if(Pe!==0&&qe!==null){var u=qe,T=rs;switch(Pe){case 8:td(),r=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(s=!0);var $=Pe;if(Pe=0,rs=null,Bl(e,u,T,$),a&&Il){r=0;break e}break;default:$=Pe,Pe=0,rs=null,Bl(e,u,T,$)}}tp(),r=pt;break}catch(le){Vx(e,le)}while(!0);return s&&e.shellSuspendCounter++,Xs=Ka=null,Ke=l,N.H=n,N.A=i,qe===null&&(at=null,Be=0,pi()),r}function tp(){for(;qe!==null;)Qx(qe)}function sp(e,s){var a=Ke;Ke|=2;var l=Yx(),n=$x();at!==e||Be!==s?(Zi=null,Qi=Ot()+500,Vl(e,s)):Il=Vt(e,s);e:do try{if(Pe!==0&&qe!==null){s=qe;var i=rs;t:switch(Pe){case 1:Pe=0,rs=null,Bl(e,s,i,1);break;case 2:case 9:if(su(i)){Pe=0,rs=null,Zx(s);break}s=function(){Pe!==2&&Pe!==9||at!==e||(Pe=7),Is(e)},i.then(s,s);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:su(i)?(Pe=0,rs=null,Zx(s)):(Pe=0,rs=null,Bl(e,s,i,7));break;case 5:var r=null;switch(qe.tag){case 26:r=qe.memoizedState;case 5:case 27:var u=qe;if(r?_0(r):u.stateNode.complete){Pe=0,rs=null;var T=u.sibling;if(T!==null)qe=T;else{var $=u.return;$!==null?(qe=$,Ki($)):qe=null}break t}}Pe=0,rs=null,Bl(e,s,i,5);break;case 6:Pe=0,rs=null,Bl(e,s,i,6);break;case 8:td(),pt=6;break e;default:throw Error(o(462))}}ap();break}catch(le){Vx(e,le)}while(!0);return Xs=Ka=null,N.H=l,N.A=n,Ke=a,qe!==null?0:(at=null,Be=0,pi(),pt)}function ap(){for(;qe!==null&&!Pl();)Qx(qe)}function Qx(e){var s=hx(e.alternate,e,la);e.memoizedProps=e.pendingProps,s===null?Ki(e):qe=s}function Zx(e){var s=e,a=s.alternate;switch(s.tag){case 15:case 0:s=ox(a,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=ox(a,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:gr(s);default:bx(a,s),s=qe=$o(s,la),s=hx(a,s,la)}e.memoizedProps=e.pendingProps,s===null?Ki(e):qe=s}function Bl(e,s,a,l){Xs=Ka=null,gr(s),_l=null,pn=0;var n=s.return;try{if($f(e,n,s,a,Be)){pt=1,Ui(e,vs(a,e.current)),qe=null;return}}catch(i){if(n!==null)throw qe=n,i;pt=1,Ui(e,vs(a,e.current)),qe=null;return}s.flags&32768?($e||l===1?e=!0:Il||(Be&536870912)!==0?e=!1:(Sa=e=!0,(l===2||l===9||l===3||l===6)&&(l=is.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xx(s,e)):Ki(s)}function Ki(e){var s=e;do{if((s.flags&32768)!==0){Xx(s,Sa);return}e=s.return;var a=Xf(s.alternate,s,la);if(a!==null){qe=a;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=e}while(s!==null);pt===0&&(pt=5)}function Xx(e,s){do{var a=Ff(e.alternate,e);if(a!==null){a.flags&=32767,qe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(e=e.sibling,e!==null)){qe=e;return}qe=e=a}while(e!==null);pt=6,qe=null}function Fx(e,s,a,l,n,i,r,u,T){e.cancelPendingCommit=null;do Ji();while(Tt!==0);if((Ke&6)!==0)throw Error(o(327));if(s!==null){if(s===e.current)throw Error(o(177));if(i=s.lanes|s.childLanes,i|=Yc,Qt(e,a,i,r,u,T),e===at&&(qe=at=null,Be=0),Gl=s,za=e,na=a,Pr=i,Wr=n,Hx=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cp(Gs,function(){return e0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=N.T,N.T=null,n=Z.p,Z.p=2,r=Ke,Ke|=4;try{Kf(e,s,a)}finally{Ke=r,Z.p=n,N.T=l}}Tt=1,Kx(),Jx(),Px()}}function Kx(){if(Tt===1){Tt=0;var e=za,s=Gl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=N.T,N.T=null;var l=Z.p;Z.p=2;var n=Ke;Ke|=4;try{Tx(s,e);var i=fd,r=Lo(e.containerInfo),u=i.focusedElem,T=i.selectionRange;if(r!==u&&u&&u.ownerDocument&&Oo(u.ownerDocument.documentElement,u)){if(T!==null&&Ic(u)){var $=T.start,le=T.end;if(le===void 0&&(le=$),"selectionStart"in u)u.selectionStart=$,u.selectionEnd=Math.min(le,u.value.length);else{var oe=u.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var P=X.getSelection(),be=u.textContent.length,ze=Math.min(T.start,be),st=T.end===void 0?ze:Math.min(T.end,be);!P.extend&&ze>st&&(r=st,st=ze,ze=r);var I=Do(u,ze),O=Do(u,st);if(I&&O&&(P.rangeCount!==1||P.anchorNode!==I.node||P.anchorOffset!==I.offset||P.focusNode!==O.node||P.focusOffset!==O.offset)){var B=oe.createRange();B.setStart(I.node,I.offset),P.removeAllRanges(),ze>st?(P.addRange(B),P.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),P.addRange(B))}}}}for(oe=[],P=u;P=P.parentNode;)P.nodeType===1&&oe.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<oe.length;u++){var ce=oe[u];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}dc=!!md,fd=md=null}finally{Ke=n,Z.p=l,N.T=a}}e.current=s,Tt=2}}function Jx(){if(Tt===2){Tt=0;var e=za,s=Gl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=N.T,N.T=null;var l=Z.p;Z.p=2;var n=Ke;Ke|=4;try{kx(e,s.alternate,s)}finally{Ke=n,Z.p=l,N.T=a}}Tt=3}}function Px(){if(Tt===4||Tt===3){Tt=0,rl();var e=za,s=Gl,a=na,l=Hx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Tt=5:(Tt=0,Gl=za=null,Wx(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Aa=null),fe(a),s=s.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Te,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=N.T,n=Z.p,Z.p=2,N.T=null;try{for(var i=e.onRecoverableError,r=0;r<l.length;r++){var u=l[r];i(u.value,{componentStack:u.stack})}}finally{N.T=s,Z.p=n}}(na&3)!==0&&Ji(),Is(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===ed?_n++:(_n=0,ed=e):_n=0,Rn(0)}}function Wx(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,mn(s)))}function Ji(){return Kx(),Jx(),Px(),e0()}function e0(){if(Tt!==5)return!1;var e=za,s=Pr;Pr=0;var a=fe(na),l=N.T,n=Z.p;try{Z.p=32>a?32:a,N.T=null,a=Wr,Wr=null;var i=za,r=na;if(Tt=0,Gl=za=null,na=0,(Ke&6)!==0)throw Error(o(331));var u=Ke;if(Ke|=4,Ox(i.current),_x(i,i.current,r,a),Ke=u,Rn(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Te,i)}catch{}return!0}finally{Z.p=n,N.T=l,Wx(e,s)}}function t0(e,s,a){s=vs(a,s),s=_r(e.stateNode,s,2),e=ya(e,s,2),e!==null&&(ps(e,2),Is(e))}function We(e,s,a){if(e.tag===3)t0(e,e,a);else for(;s!==null;){if(s.tag===3){t0(s,e,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Aa===null||!Aa.has(l))){e=vs(a,e),a=sx(2),l=ya(s,a,2),l!==null&&(ax(a,l,s,e),ps(l,2),Is(l));break}}s=s.return}}function ad(e,s,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Wf;var n=new Set;l.set(s,n)}else n=l.get(s),n===void 0&&(n=new Set,l.set(s,n));n.has(a)||(Fr=!0,n.add(a),e=lp.bind(null,e,s,a),s.then(e,e))}function lp(e,s,a){var l=e.pingCache;l!==null&&l.delete(s),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,at===e&&(Be&a)===a&&(pt===4||pt===3&&(Be&62914560)===Be&&300>Ot()-$i?(Ke&2)===0&&Vl(e,0):Kr|=a,ql===Be&&(ql=0)),Is(e)}function s0(e,s){s===0&&(s=it()),e=Za(e,s),e!==null&&(ps(e,s),Is(e))}function np(e){var s=e.memoizedState,a=0;s!==null&&(a=s.retryLane),s0(e,a)}function ip(e,s){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(s),s0(e,a)}function cp(e,s){return Ds(e,s)}var Pi=null,Yl=null,ld=!1,Wi=!1,nd=!1,Ca=0;function Is(e){e!==Yl&&e.next===null&&(Yl===null?Pi=Yl=e:Yl=Yl.next=e),Wi=!0,ld||(ld=!0,dp())}function Rn(e,s){if(!nd&&Wi){nd=!0;do for(var a=!1,l=Pi;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var r=l.suspendedLanes,u=l.pingedLanes;i=(1<<31-we(42|e)+1)-1,i&=n&~(r&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,i0(l,i))}else i=Be,i=Ft(l,l===at?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||Vt(l,i)||(a=!0,i0(l,i));l=l.next}while(a);nd=!1}}function rp(){a0()}function a0(){Wi=ld=!1;var e=0;Ca!==0&&vp()&&(e=Ca);for(var s=Ot(),a=null,l=Pi;l!==null;){var n=l.next,i=l0(l,s);i===0?(l.next=null,a===null?Pi=n:a.next=n,n===null&&(Yl=a)):(a=l,(e!==0||(i&3)!==0)&&(Wi=!0)),l=n}Tt!==0&&Tt!==5||Rn(e),Ca!==0&&(Ca=0)}function l0(e,s){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-we(i),u=1<<r,T=n[r];T===-1?((u&a)===0||(u&l)!==0)&&(n[r]=ot(u,s)):T<=s&&(e.expiredLanes|=u),i&=~u}if(s=at,a=Be,a=Ft(e,e===s?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===s&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&xa(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Vt(e,a)){if(s=a&-a,s===e.callbackPriority)return s;switch(l!==null&&xa(l),fe(a)){case 2:case 8:a=Ga;break;case 32:a=Gs;break;case 268435456:a=ye;break;default:a=Gs}return l=n0.bind(null,e),a=Ds(a,l),e.callbackPriority=s,e.callbackNode=a,s}return l!==null&&l!==null&&xa(l),e.callbackPriority=2,e.callbackNode=null,2}function n0(e,s){if(Tt!==0&&Tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ji()&&e.callbackNode!==a)return null;var l=Be;return l=Ft(e,e===at?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(qx(e,l,s),l0(e,Ot()),e.callbackNode!=null&&e.callbackNode===a?n0.bind(null,e):null)}function i0(e,s){if(Ji())return null;qx(e,s,!0)}function dp(){jp(function(){(Ke&6)!==0?Ds(ol,rp):a0()})}function id(){if(Ca===0){var e=Cl;e===0&&(e=zt,zt<<=1,(zt&261888)===0&&(zt=256)),Ca=e}return Ca}function c0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ci(""+e)}function r0(e,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,e.id&&a.setAttribute("form",e.id),s.parentNode.insertBefore(a,s),e=new FormData(e),a.parentNode.removeChild(a),e}function op(e,s,a,l,n){if(s==="submit"&&a&&a.stateNode===n){var i=c0((n[Ee]||null).action),r=l.submitter;r&&(s=(s=r[Ee]||null)?c0(s.formAction):r.getAttribute("formAction"),s!==null&&(i=s,r=null));var u=new ui("action","action",null,l,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var T=r?r0(n,r):new FormData(n);Ar(a,{pending:!0,data:T,method:n.method,action:i},null,T)}}else typeof i=="function"&&(u.preventDefault(),T=r?r0(n,r):new FormData(n),Ar(a,{pending:!0,data:T,method:n.method,action:i},i,T))},currentTarget:n}]})}}for(var cd=0;cd<Bc.length;cd++){var rd=Bc[cd],up=rd.toLowerCase(),xp=rd[0].toUpperCase()+rd.slice(1);Es(up,"on"+xp)}Es(Io,"onAnimationEnd"),Es(qo,"onAnimationIteration"),Es(Go,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(Ef,"onTransitionRun"),Es(Cf,"onTransitionStart"),Es(Tf,"onTransitionCancel"),Es(Vo,"onTransitionEnd"),pl("onMouseEnter",["mouseout","mouseover"]),pl("onMouseLeave",["mouseout","mouseover"]),pl("onPointerEnter",["pointerout","pointerover"]),pl("onPointerLeave",["pointerout","pointerover"]),Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dn));function d0(e,s){s=(s&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(s)for(var r=l.length-1;0<=r;r--){var u=l[r],T=u.instance,$=u.currentTarget;if(u=u.listener,T!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=$;try{i(n)}catch(le){fi(le)}n.currentTarget=null,i=T}else for(r=0;r<l.length;r++){if(u=l[r],T=u.instance,$=u.currentTarget,u=u.listener,T!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=$;try{i(n)}catch(le){fi(le)}n.currentTarget=null,i=T}}}}function Ge(e,s){var a=s[Os];a===void 0&&(a=s[Os]=new Set);var l=e+"__bubble";a.has(l)||(o0(s,e,2,!1),a.add(l))}function dd(e,s,a){var l=0;s&&(l|=4),o0(a,e,l,s)}var ec="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[ec]){e[ec]=!0,so.forEach(function(a){a!=="selectionchange"&&(mp.has(a)||dd(a,!1,e),dd(a,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[ec]||(s[ec]=!0,dd("selectionchange",!1,s))}}function o0(e,s,a,l){switch(I0(s)){case 2:var n=Gp;break;case 8:n=Vp;break;default:n=kd}a=n.bind(null,s,a,e),n=void 0,!Tc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(s,a,{capture:!0,passive:n}):e.addEventListener(s,a,!0):n!==void 0?e.addEventListener(s,a,{passive:n}):e.addEventListener(s,a,!1)}function ud(e,s,a,l,n){var i=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var r=l.tag;if(r===3||r===4){var u=l.stateNode.containerInfo;if(u===n)break;if(r===4)for(r=l.return;r!==null;){var T=r.tag;if((T===3||T===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;u!==null;){if(r=xl(u),r===null)return;if(T=r.tag,T===5||T===6||T===26||T===27){l=i=r;continue e}u=u.parentNode}}l=l.return}po(function(){var $=i,le=Ec(a),oe=[];e:{var X=Bo.get(e);if(X!==void 0){var P=ui,be=e;switch(e){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":P=nf;break;case"focusin":be="focus",P=Dc;break;case"focusout":be="blur",P=Dc;break;case"beforeblur":case"afterblur":P=Dc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=df;break;case Io:case qo:case Go:P=Km;break;case Vo:P=uf;break;case"scroll":case"scrollend":P=$m;break;case"wheel":P=mf;break;case"copy":case"cut":case"paste":P=Pm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=yo;break;case"toggle":case"beforetoggle":P=pf}var ze=(s&4)!==0,st=!ze&&(e==="scroll"||e==="scrollend"),I=ze?X!==null?X+"Capture":null:X;ze=[];for(var O=$,B;O!==null;){var ce=O;if(B=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||B===null||I===null||(ce=tn(O,I),ce!=null&&ze.push(On(O,ce,B))),st)break;O=O.return}0<ze.length&&(X=new P(X,be,null,a,le),oe.push({event:X,listeners:ze}))}}if((s&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",X&&a!==zc&&(be=a.relatedTarget||a.fromElement)&&(xl(be)||be[Bt]))break e;if((P||X)&&(X=le.window===le?le:(X=le.ownerDocument)?X.defaultView||X.parentWindow:window,P?(be=a.relatedTarget||a.toElement,P=$,be=be?xl(be):null,be!==null&&(st=S(be),ze=be.tag,be!==st||ze!==5&&ze!==27&&ze!==6)&&(be=null)):(P=null,be=$),P!==be)){if(ze=bo,ce="onMouseLeave",I="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ze=yo,ce="onPointerLeave",I="onPointerEnter",O="pointer"),st=P==null?X:en(P),B=be==null?X:en(be),X=new ze(ce,O+"leave",P,a,le),X.target=st,X.relatedTarget=B,ce=null,xl(le)===$&&(ze=new ze(I,O+"enter",be,a,le),ze.target=B,ze.relatedTarget=st,ce=ze),st=ce,P&&be)t:{for(ze=fp,I=P,O=be,B=0,ce=I;ce;ce=ze(ce))B++;ce=0;for(var ke=O;ke;ke=ze(ke))ce++;for(;0<B-ce;)I=ze(I),B--;for(;0<ce-B;)O=ze(O),ce--;for(;B--;){if(I===O||O!==null&&I===O.alternate){ze=I;break t}I=ze(I),O=ze(O)}ze=null}else ze=null;P!==null&&u0(oe,X,P,ze,!1),be!==null&&st!==null&&u0(oe,st,be,ze,!0)}}e:{if(X=$?en($):window,P=X.nodeName&&X.nodeName.toLowerCase(),P==="select"||P==="input"&&X.type==="file")var Xe=Eo;else if(Ao(X))if(Co)Xe=kf;else{Xe=wf;var ve=Nf}else P=X.nodeName,!P||P.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?$&&Ac($.elementType)&&(Xe=Eo):Xe=Sf;if(Xe&&(Xe=Xe(e,$))){zo(oe,Xe,a,le);break e}ve&&ve(e,X,$),e==="focusout"&&$&&X.type==="number"&&$.memoizedProps.value!=null&&kc(X,"number",X.value)}switch(ve=$?en($):window,e){case"focusin":(Ao(ve)||ve.contentEditable==="true")&&(jl=ve,qc=$,on=null);break;case"focusout":on=qc=jl=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,Uo(oe,a,le);break;case"selectionchange":if(zf)break;case"keydown":case"keyup":Uo(oe,a,le)}var He;if(Lc)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else yl?So(e,a)&&(Ye="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ye="onCompositionStart");Ye&&(jo&&a.locale!=="ko"&&(yl||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&yl&&(He=ho()):(ma=le,Mc="value"in ma?ma.value:ma.textContent,yl=!0)),ve=tc($,Ye),0<ve.length&&(Ye=new vo(Ye,e,null,a,le),oe.push({event:Ye,listeners:ve}),He?Ye.data=He:(He=ko(a),He!==null&&(Ye.data=He)))),(He=gf?bf(e,a):vf(e,a))&&(Ye=tc($,"onBeforeInput"),0<Ye.length&&(ve=new vo("onBeforeInput","beforeinput",null,a,le),oe.push({event:ve,listeners:Ye}),ve.data=He)),op(oe,e,$,a,le)}d0(oe,s)})}function On(e,s,a){return{instance:e,listener:s,currentTarget:a}}function tc(e,s){for(var a=s+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=tn(e,a),n!=null&&l.unshift(On(e,n,i)),n=tn(e,s),n!=null&&l.push(On(e,n,i))),e.tag===3)return l;e=e.return}return[]}function fp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u0(e,s,a,l,n){for(var i=s._reactName,r=[];a!==null&&a!==l;){var u=a,T=u.alternate,$=u.stateNode;if(u=u.tag,T!==null&&T===l)break;u!==5&&u!==26&&u!==27||$===null||(T=$,n?($=tn(a,i),$!=null&&r.unshift(On(a,$,T))):n||($=tn(a,i),$!=null&&r.push(On(a,$,T)))),a=a.return}r.length!==0&&e.push({event:s,listeners:r})}var pp=/\r\n?/g,hp=/\u0000|\uFFFD/g;function x0(e){return(typeof e=="string"?e:""+e).replace(pp,`
`).replace(hp,"")}function m0(e,s){return s=x0(s),x0(e)===s}function tt(e,s,a,l,n,i){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||gl(e,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&gl(e,""+l);break;case"className":ni(e,"class",l);break;case"tabIndex":ni(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(e,a,l);break;case"style":mo(e,l,i);break;case"data":if(s!=="object"){ni(e,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ci(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(s!=="input"&&tt(e,s,"name",n.name,n,null),tt(e,s,"formEncType",n.formEncType,n,null),tt(e,s,"formMethod",n.formMethod,n,null),tt(e,s,"formTarget",n.formTarget,n,null)):(tt(e,s,"encType",n.encType,n,null),tt(e,s,"method",n.method,n,null),tt(e,s,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ci(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ys);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ci(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),li(e,"popover",l);break;case"xlinkActuate":Bs(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bs(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bs(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bs(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bs(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bs(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bs(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bs(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bs(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":li(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bm.get(a)||a,li(e,a,l))}}function xd(e,s,a,l,n,i){switch(a){case"style":mo(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof l=="string"?gl(e,l):(typeof l=="number"||typeof l=="bigint")&&gl(e,""+l);break;case"onScroll":l!=null&&Ge("scroll",e);break;case"onScrollEnd":l!=null&&Ge("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ys);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ao.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),s=a.slice(2,n?a.length-7:void 0),i=e[Ee]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(s,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(s,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):li(e,a,l)}}}function qt(e,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:tt(e,s,i,r,a,null)}}n&&tt(e,s,"srcSet",a.srcSet,a,null),l&&tt(e,s,"src",a.src,a,null);return;case"input":Ge("invalid",e);var u=i=r=n=null,T=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var le=a[l];if(le!=null)switch(l){case"name":n=le;break;case"type":r=le;break;case"checked":T=le;break;case"defaultChecked":$=le;break;case"value":i=le;break;case"defaultValue":u=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(o(137,s));break;default:tt(e,s,l,le,a,null)}}ro(e,i,u,T,$,r,n,!1);return;case"select":Ge("invalid",e),l=r=i=null;for(n in a)if(a.hasOwnProperty(n)&&(u=a[n],u!=null))switch(n){case"value":i=u;break;case"defaultValue":r=u;break;case"multiple":l=u;default:tt(e,s,n,u,a,null)}s=i,a=r,e.multiple=!!l,s!=null?hl(e,!!l,s,!1):a!=null&&hl(e,!!l,a,!0);return;case"textarea":Ge("invalid",e),i=n=l=null;for(r in a)if(a.hasOwnProperty(r)&&(u=a[r],u!=null))switch(r){case"value":l=u;break;case"defaultValue":n=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:tt(e,s,r,u,a,null)}uo(e,l,n,i);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(l=a[T],l!=null))switch(T){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(e,s,T,l,a,null)}return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(l=0;l<Dn.length;l++)Ge(Dn[l],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:tt(e,s,$,l,a,null)}return;default:if(Ac(s)){for(le in a)a.hasOwnProperty(le)&&(l=a[le],l!==void 0&&xd(e,s,le,l,a,void 0));return}}for(u in a)a.hasOwnProperty(u)&&(l=a[u],l!=null&&tt(e,s,u,l,a,null))}function gp(e,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,u=null,T=null,$=null,le=null;for(P in a){var oe=a[P];if(a.hasOwnProperty(P)&&oe!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":T=oe;default:l.hasOwnProperty(P)||tt(e,s,P,null,l,oe)}}for(var X in l){var P=l[X];if(oe=a[X],l.hasOwnProperty(X)&&(P!=null||oe!=null))switch(X){case"type":i=P;break;case"name":n=P;break;case"checked":$=P;break;case"defaultChecked":le=P;break;case"value":r=P;break;case"defaultValue":u=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,s));break;default:P!==oe&&tt(e,s,X,P,l,oe)}}Sc(e,r,u,T,$,le,i,n);return;case"select":P=r=u=X=null;for(i in a)if(T=a[i],a.hasOwnProperty(i)&&T!=null)switch(i){case"value":break;case"multiple":P=T;default:l.hasOwnProperty(i)||tt(e,s,i,null,l,T)}for(n in l)if(i=l[n],T=a[n],l.hasOwnProperty(n)&&(i!=null||T!=null))switch(n){case"value":X=i;break;case"defaultValue":u=i;break;case"multiple":r=i;default:i!==T&&tt(e,s,n,i,l,T)}s=u,a=r,l=P,X!=null?hl(e,!!a,X,!1):!!l!=!!a&&(s!=null?hl(e,!!a,s,!0):hl(e,!!a,a?[]:"",!1));return;case"textarea":P=X=null;for(u in a)if(n=a[u],a.hasOwnProperty(u)&&n!=null&&!l.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:tt(e,s,u,null,l,n)}for(r in l)if(n=l[r],i=a[r],l.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":X=n;break;case"defaultValue":P=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==i&&tt(e,s,r,n,l,i)}oo(e,X,P);return;case"option":for(var be in a)if(X=a[be],a.hasOwnProperty(be)&&X!=null&&!l.hasOwnProperty(be))switch(be){case"selected":e.selected=!1;break;default:tt(e,s,be,null,l,X)}for(T in l)if(X=l[T],P=a[T],l.hasOwnProperty(T)&&X!==P&&(X!=null||P!=null))switch(T){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:tt(e,s,T,X,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in a)X=a[ze],a.hasOwnProperty(ze)&&X!=null&&!l.hasOwnProperty(ze)&&tt(e,s,ze,null,l,X);for($ in l)if(X=l[$],P=a[$],l.hasOwnProperty($)&&X!==P&&(X!=null||P!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,s));break;default:tt(e,s,$,X,l,P)}return;default:if(Ac(s)){for(var st in a)X=a[st],a.hasOwnProperty(st)&&X!==void 0&&!l.hasOwnProperty(st)&&xd(e,s,st,void 0,l,X);for(le in l)X=l[le],P=a[le],!l.hasOwnProperty(le)||X===P||X===void 0&&P===void 0||xd(e,s,le,X,l,P);return}}for(var I in a)X=a[I],a.hasOwnProperty(I)&&X!=null&&!l.hasOwnProperty(I)&&tt(e,s,I,null,l,X);for(oe in l)X=l[oe],P=a[oe],!l.hasOwnProperty(oe)||X===P||X==null&&P==null||tt(e,s,oe,X,l,P)}function f0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],i=n.transferSize,r=n.initiatorType,u=n.duration;if(i&&u&&f0(r)){for(r=0,u=n.responseEnd,l+=1;l<a.length;l++){var T=a[l],$=T.startTime;if($>u)break;var le=T.transferSize,oe=T.initiatorType;le&&f0(oe)&&(T=T.responseEnd,r+=le*(T<u?1:(u-$)/(T-$)))}if(--l,s+=8*(i+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,fd=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function p0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function pd(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hd=null;function vp(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,yp=typeof clearTimeout=="function"?clearTimeout:void 0,b0=typeof Promise=="function"?Promise:void 0,jp=typeof queueMicrotask=="function"?queueMicrotask:typeof b0<"u"?function(e){return b0.resolve(null).then(e).catch(Np)}:g0;function Np(e){setTimeout(function(){throw e})}function Ta(e){return e==="head"}function v0(e,s){var a=s,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),Xl(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ln(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ln(a);for(var i=a.firstChild;i;){var r=i.nextSibling,u=i.nodeName;i[Va]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&Ln(e.ownerDocument.body);a=n}while(a);Xl(s)}function y0(e,s){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function gd(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gd(a),Wl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wp(e,s,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Va])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Ss(e.nextSibling),e===null)break}return null}function Sp(e,s,a){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ss(e.nextSibling),e===null))return null;return e}function j0(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ss(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function kp(e,s){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ss(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var yd=null;function N0(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(s===0)return Ss(e.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}e=e.nextSibling}return null}function w0(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return e;s--}else a!=="/$"&&a!=="/&"||s++}e=e.previousSibling}return null}function S0(e,s,a){switch(s=sc(a),e){case"html":if(e=s.documentElement,!e)throw Error(o(452));return e;case"head":if(e=s.head,!e)throw Error(o(453));return e;case"body":if(e=s.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Ln(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Wl(e)}var ks=new Map,k0=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ia=Z.d;Z.d={f:Ap,r:zp,D:Ep,C:Cp,L:Tp,m:Mp,X:Rp,S:_p,M:Dp};function Ap(){var e=ia.f(),s=Xi();return e||s}function zp(e){var s=ml(e);s!==null&&s.tag===5&&s.type==="form"?Vu(s):ia.r(e)}var $l=typeof document>"u"?null:document;function A0(e,s,a){var l=$l;if(l&&typeof s=="string"&&s){var n=gs(s);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),k0.has(n)||(k0.add(n),e={rel:e,crossOrigin:a,href:s},l.querySelector(n)===null&&(s=l.createElement("link"),qt(s,"link",e),_t(s),l.head.appendChild(s)))}}function Ep(e){ia.D(e),A0("dns-prefetch",e,null)}function Cp(e,s){ia.C(e,s),A0("preconnect",e,s)}function Tp(e,s,a){ia.L(e,s,a);var l=$l;if(l&&e&&s){var n='link[rel="preload"][as="'+gs(s)+'"]';s==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+gs(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+gs(a.imageSizes)+'"]')):n+='[href="'+gs(e)+'"]';var i=n;switch(s){case"style":i=Ql(e);break;case"script":i=Zl(e)}ks.has(i)||(e=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:e,as:s},a),ks.set(i,e),l.querySelector(n)!==null||s==="style"&&l.querySelector(Un(i))||s==="script"&&l.querySelector(Hn(i))||(s=l.createElement("link"),qt(s,"link",e),_t(s),l.head.appendChild(s)))}}function Mp(e,s){ia.m(e,s);var a=$l;if(a&&e){var l=s&&typeof s.as=="string"?s.as:"script",n='link[rel="modulepreload"][as="'+gs(l)+'"][href="'+gs(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Zl(e)}if(!ks.has(i)&&(e=b({rel:"modulepreload",href:e},s),ks.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hn(i)))return}l=a.createElement("link"),qt(l,"link",e),_t(l),a.head.appendChild(l)}}}function _p(e,s,a){ia.S(e,s,a);var l=$l;if(l&&e){var n=fl(l).hoistableStyles,i=Ql(e);s=s||"default";var r=n.get(i);if(!r){var u={loading:0,preload:null};if(r=l.querySelector(Un(i)))u.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},a),(a=ks.get(i))&&jd(e,a);var T=r=l.createElement("link");_t(T),qt(T,"link",e),T._p=new Promise(function($,le){T.onload=$,T.onerror=le}),T.addEventListener("load",function(){u.loading|=1}),T.addEventListener("error",function(){u.loading|=2}),u.loading|=4,lc(r,s,l)}r={type:"stylesheet",instance:r,count:1,state:u},n.set(i,r)}}}function Rp(e,s){ia.X(e,s);var a=$l;if(a&&e){var l=fl(a).hoistableScripts,n=Zl(e),i=l.get(n);i||(i=a.querySelector(Hn(n)),i||(e=b({src:e,async:!0},s),(s=ks.get(n))&&Nd(e,s),i=a.createElement("script"),_t(i),qt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function Dp(e,s){ia.M(e,s);var a=$l;if(a&&e){var l=fl(a).hoistableScripts,n=Zl(e),i=l.get(n);i||(i=a.querySelector(Hn(n)),i||(e=b({src:e,async:!0,type:"module"},s),(s=ks.get(n))&&Nd(e,s),i=a.createElement("script"),_t(i),qt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function z0(e,s,a,l){var n=(n=U.current)?ac(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Ql(a.href),a=fl(n).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ql(a.href);var i=fl(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(Un(e)))&&!i._p&&(r.instance=i,r.state.loading=5),ks.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ks.set(e,a),i||Op(n,e,a,r.state))),s&&l===null)throw Error(o(528,""));return r}if(s&&l!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zl(a),a=fl(n).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ql(e){return'href="'+gs(e)+'"'}function Un(e){return'link[rel="stylesheet"]['+e+"]"}function E0(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Op(e,s,a,l){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=e.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),qt(s,"link",a),_t(s),e.head.appendChild(s))}function Zl(e){return'[src="'+gs(e)+'"]'}function Hn(e){return"script[async]"+e}function C0(e,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=e.querySelector('style[data-href~="'+gs(a.href)+'"]');if(l)return s.instance=l,_t(l),l;var n=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),_t(l),qt(l,"style",n),lc(l,a.precedence,e),s.instance=l;case"stylesheet":n=Ql(a.href);var i=e.querySelector(Un(n));if(i)return s.state.loading|=4,s.instance=i,_t(i),i;l=E0(a),(n=ks.get(n))&&jd(l,n),i=(e.ownerDocument||e).createElement("link"),_t(i);var r=i;return r._p=new Promise(function(u,T){r.onload=u,r.onerror=T}),qt(i,"link",l),s.state.loading|=4,lc(i,a.precedence,e),s.instance=i;case"script":return i=Zl(a.src),(n=e.querySelector(Hn(i)))?(s.instance=n,_t(n),n):(l=a,(n=ks.get(i))&&(l=b({},a),Nd(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),_t(n),qt(n,"link",l),e.head.appendChild(n),s.instance=n);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,lc(l,a.precedence,e));return s.instance}function lc(e,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,r=0;r<l.length;r++){var u=l[r];if(u.dataset.precedence===s)i=u;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(e,s.firstChild))}function jd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function Nd(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var nc=null;function T0(e,s,a){if(nc===null){var l=new Map,n=nc=new Map;n.set(a,l)}else n=nc,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[Va]||i[Je]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(s)||"";r=e+r;var u=l.get(r);u?u.push(i):l.set(r,[i])}}return l}function M0(e,s,a){e=e.ownerDocument||e,e.head.insertBefore(a,s==="title"?e.querySelector("head > title"):null)}function Lp(e,s,a){if(a===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return e=s.disabled,typeof s.precedence=="string"&&e==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Up(e,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=Ql(l.href),i=s.querySelector(Un(n));if(i){s=i._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=ic.bind(e),s.then(e,e)),a.state.loading|=4,a.instance=i,_t(i);return}i=s.ownerDocument||s,l=E0(l),(n=ks.get(n))&&jd(l,n),i=i.createElement("link"),_t(i);var r=i;r._p=new Promise(function(u,T){r.onload=u,r.onerror=T}),qt(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ic.bind(e),s.addEventListener("load",a),s.addEventListener("error",a))}}var wd=0;function Hp(e,s){return e.stylesheets&&e.count===0&&rc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&rc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+s);0<e.imgBytes&&wd===0&&(wd=62500*bp());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&rc(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>wd?50:800)+s);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function rc(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,s.forEach(Ip,e),cc=null,ic.call(e))}function Ip(e,s){if(!(s.state.loading&4)){var a=cc.get(e);if(a)var l=a.get(null);else{a=new Map,cc.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),l=r)}l&&a.set(null,l)}n=s.instance,r=n.getAttribute("data-precedence"),i=a.get(r)||l,i===l&&a.set(null,n),a.set(r,n),this.count++,l=ic.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),s.state.loading|=4}}var In={$$typeof:z,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function qp(e,s,a,l,n,i,r,u,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$t(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$t(0),this.hiddenUpdates=$t(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function R0(e,s,a,l,n,i,r,u,T,$,le,oe){return e=new qp(e,s,a,r,T,$,le,oe,u),s=1,i===!0&&(s|=24),i=ns(3,null,null,s),e.current=i,i.stateNode=e,s=sr(),s.refCount++,e.pooledCache=s,s.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:s},ir(i),e}function D0(e){return e?(e=Sl,e):Sl}function O0(e,s,a,l,n,i){n=D0(n),l.context===null?l.context=n:l.pendingContext=n,l=va(s),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=ya(e,l,s),a!==null&&(ts(a,e,s),gn(a,e,s))}function L0(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<s?a:s}}function Sd(e,s){L0(e,s),(e=e.alternate)&&L0(e,s)}function U0(e){if(e.tag===13||e.tag===31){var s=Za(e,67108864);s!==null&&ts(s,e,67108864),Sd(e,67108864)}}function H0(e){if(e.tag===13||e.tag===31){var s=os();s=Ue(s);var a=Za(e,s);a!==null&&ts(a,e,s),Sd(e,s)}}var dc=!0;function Gp(e,s,a,l){var n=N.T;N.T=null;var i=Z.p;try{Z.p=2,kd(e,s,a,l)}finally{Z.p=i,N.T=n}}function Vp(e,s,a,l){var n=N.T;N.T=null;var i=Z.p;try{Z.p=8,kd(e,s,a,l)}finally{Z.p=i,N.T=n}}function kd(e,s,a,l){if(dc){var n=Ad(l);if(n===null)ud(e,s,l,oc,a),q0(e,l);else if(Yp(n,e,s,a,l))l.stopPropagation();else if(q0(e,l),s&4&&-1<Bp.indexOf(e)){for(;n!==null;){var i=ml(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Et(i.pendingLanes);if(r!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var T=1<<31-we(r);u.entanglements[1]|=T,r&=~T}Is(i),(Ke&6)===0&&(Qi=Ot()+500,Rn(0))}}break;case 31:case 13:u=Za(i,2),u!==null&&ts(u,i,2),Xi(),Sd(i,2)}if(i=Ad(l),i===null&&ud(e,s,l,oc,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else ud(e,s,l,null,a)}}function Ad(e){return e=Ec(e),zd(e)}var oc=null;function zd(e){if(oc=null,e=xl(e),e!==null){var s=S(e);if(s===null)e=null;else{var a=s.tag;if(a===13){if(e=q(s),e!==null)return e;e=null}else if(a===31){if(e=A(s),e!==null)return e;e=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return oc=e,null}function I0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dl()){case ol:return 2;case Ga:return 8;case Gs:case ul:return 32;case ye:return 268435456;default:return 32}default:return 32}}var Ed=!1,Ma=null,_a=null,Ra=null,qn=new Map,Gn=new Map,Da=[],Bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(e,s){switch(e){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":qn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(s.pointerId)}}function Vn(e,s,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},s!==null&&(s=ml(s),s!==null&&U0(s)),e):(e.eventSystemFlags|=l,s=e.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),e)}function Yp(e,s,a,l,n){switch(s){case"focusin":return Ma=Vn(Ma,e,s,a,l,n),!0;case"dragenter":return _a=Vn(_a,e,s,a,l,n),!0;case"mouseover":return Ra=Vn(Ra,e,s,a,l,n),!0;case"pointerover":var i=n.pointerId;return qn.set(i,Vn(qn.get(i)||null,e,s,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Gn.set(i,Vn(Gn.get(i)||null,e,s,a,l,n)),!0}return!1}function G0(e){var s=xl(e.target);if(s!==null){var a=S(s);if(a!==null){if(s=a.tag,s===13){if(s=q(a),s!==null){e.blockedOn=s,Ct(e.priority,function(){H0(a)});return}}else if(s===31){if(s=A(a),s!==null){e.blockedOn=s,Ct(e.priority,function(){H0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var a=Ad(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);zc=l,a.target.dispatchEvent(l),zc=null}else return s=ml(a),s!==null&&U0(s),e.blockedOn=a,!1;s.shift()}return!0}function V0(e,s,a){uc(e)&&a.delete(s)}function $p(){Ed=!1,Ma!==null&&uc(Ma)&&(Ma=null),_a!==null&&uc(_a)&&(_a=null),Ra!==null&&uc(Ra)&&(Ra=null),qn.forEach(V0),Gn.forEach(V0)}function xc(e,s){e.blockedOn===s&&(e.blockedOn=null,Ed||(Ed=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,$p)))}var mc=null;function B0(e){mc!==e&&(mc=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){mc===e&&(mc=null);for(var s=0;s<e.length;s+=3){var a=e[s],l=e[s+1],n=e[s+2];if(typeof l!="function"){if(zd(l||a)===null)continue;break}var i=ml(a);i!==null&&(e.splice(s,3),s-=3,Ar(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Xl(e){function s(T){return xc(T,e)}Ma!==null&&xc(Ma,e),_a!==null&&xc(_a,e),Ra!==null&&xc(Ra,e),qn.forEach(s),Gn.forEach(s);for(var a=0;a<Da.length;a++){var l=Da[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Da.length&&(a=Da[0],a.blockedOn===null);)G0(a),a.blockedOn===null&&Da.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],r=n[Ee]||null;if(typeof i=="function")r||B0(a);else if(r){var u=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[Ee]||null)u=r.formAction;else if(zd(n)!==null)continue}else u=r.action;typeof u=="function"?a[l+1]=u:(a.splice(l,3),l-=3),B0(a)}}}function Y0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function s(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),n!==null&&(n(),n=null)}}}function Cd(e){this._internalRoot=e}fc.prototype.render=Cd.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,l=os();O0(a,l,e,s,null,null)},fc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;O0(e.current,2,null,e,null,null),Xi(),s[Bt]=null}};function fc(e){this._internalRoot=e}fc.prototype.unstable_scheduleHydration=function(e){if(e){var s=Oe();e={blockedOn:null,target:e,priority:s};for(var a=0;a<Da.length&&s!==0&&s<Da[a].priority;a++);Da.splice(a,0,e),a===0&&G0(e)}};var $0=d.version;if($0!=="19.2.3")throw Error(o(527,$0,"19.2.3"));Z.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=f(s),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Qp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Te=pc.inject(Qp),je=pc}catch{}}return Yn.createRoot=function(e,s){if(!y(e))throw Error(o(299));var a=!1,l="",n=Pu,i=Wu,r=ex;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(n=s.onUncaughtError),s.onCaughtError!==void 0&&(i=s.onCaughtError),s.onRecoverableError!==void 0&&(r=s.onRecoverableError)),s=R0(e,1,!1,null,null,a,l,null,n,i,r,Y0),e[Bt]=s.current,od(e),new Cd(s)},Yn.hydrateRoot=function(e,s,a){if(!y(e))throw Error(o(299));var l=!1,n="",i=Pu,r=Wu,u=ex,T=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(u=a.onRecoverableError),a.formState!==void 0&&(T=a.formState)),s=R0(e,1,!0,s,a??null,l,n,T,i,r,u,Y0),s.context=D0(null),a=s.current,l=os(),l=Ue(l),n=va(l),n.callback=null,ya(a,n,l),a=l,s.current.lanes=a,ps(s,a),Is(s),e[Bt]=s.current,od(e),new fc(s)},Yn.version="19.2.3",Yn}var tm;function sh(){if(tm)return _d.exports;tm=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(d){console.error(d)}}return c(),_d.exports=th(),_d.exports}var ah=sh();const lh=um(ah),nh="modulepreload",ih=function(c){return"/workshop-hub/"+c},sm={},Ld=function(d,x,o){let y=Promise.resolve();if(x&&x.length>0){let q=function(f){return Promise.all(f.map(E=>Promise.resolve(E).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),w=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));y=q(x.map(f=>{if(f=ih(f),f in sm)return;sm[f]=!0;const E=f.endsWith(".css"),b=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${b}`))return;const m=document.createElement("link");if(m.rel=E?"stylesheet":nh,E||(m.as="script"),m.crossOrigin="",m.href=f,w&&m.setAttribute("nonce",w),document.head.appendChild(m),E)return new Promise((_,M)=>{m.addEventListener("load",_),m.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${f}`)))})}))}function S(q){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=q,window.dispatchEvent(A),!A.defaultPrevented)throw q}return y.then(q=>{for(const A of q||[])A.status==="rejected"&&S(A.reason);return d().catch(S)})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rh=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(d,x,o)=>o?o.toUpperCase():x.toLowerCase()),am=c=>{const d=rh(c);return d.charAt(0).toUpperCase()+d.slice(1)},xm=(...c)=>c.filter((d,x,o)=>!!d&&d.trim()!==""&&o.indexOf(d)===x).join(" ").trim(),dh=c=>{for(const d in c)if(d.startsWith("aria-")||d==="role"||d==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=p.forwardRef(({color:c="currentColor",size:d=24,strokeWidth:x=2,absoluteStrokeWidth:o,className:y="",children:S,iconNode:q,...A},w)=>p.createElement("svg",{ref:w,...oh,width:d,height:d,stroke:c,strokeWidth:o?Number(x)*24/Number(d):x,className:xm("lucide",y),...!S&&!dh(A)&&{"aria-hidden":"true"},...A},[...q.map(([f,E])=>p.createElement(f,E)),...Array.isArray(S)?S:[S]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(c,d)=>{const x=p.forwardRef(({className:o,...y},S)=>p.createElement(uh,{ref:S,iconNode:d,className:xm(`lucide-${ch(am(c))}`,`lucide-${c}`,o),...y}));return x.displayName=am(c),x};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ra=me("activity",xh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Hd=me("archive",mh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],mm=me("arrow-down-left",fh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fm=me("arrow-left",ph);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],pm=me("arrow-up-right",hh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],bh=me("bell",gh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Zn=me("box",vh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Yd=me("briefcase",yh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],lm=me("calculator",jh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],wh=me("calendar-clock",Nh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cl=me("calendar",Sh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Xn=me("camera",kh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$d=me("check",Ah);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],as=me("chevron-down",zh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ha=me("chevron-left",Eh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qs=me("chevron-right",Ch);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Kl=me("circle-alert",Th);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qd=me("circle-check-big",Mh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nt=me("circle-check",_h);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Zd=me("circle-plus",Rh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],nm=me("circle-user",Dh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Id=me("circle-x",Oh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hm=me("circle",Lh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Jn=me("clipboard-check",Uh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],vc=me("clipboard-list",Hh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_s=me("clock",Ih);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],Xd=me("contact",qh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Fd=me("database",Gh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],yc=me("dollar-sign",Vh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],qd=me("download",Bh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$h=me("eye-off",Yh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gm=me("eye",Qh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],Xh=me("file-pen-line",Zh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Gd=me("file-text",Fh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],qa=me("fingerprint-pattern",Kh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Ph=me("flag",Jh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],eg=me("gavel",Wh);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],sg=me("gem",tg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],lg=me("globe",ag);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],ua=me("hammer",ng);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],Pn=me("hard-hat",ig);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ss=me("history",cg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],dg=me("image",rg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],ug=me("inbox",og);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Fn=me("info",xg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],fg=me("key-round",mg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],da=me("layers",pg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],hc=me("layout-dashboard",hg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],bg=me("layout-grid",gg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bm=me("loader-circle",vg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gc=me("lock",yg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Ng=me("log-in",jg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Sg=me("log-out",wg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vm=me("mail",kg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ym=me("map-pin",Ag);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Kd=me("message-square",zg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=[["path",{d:"M5 12h14",key:"1ays0h"}]],Wn=me("minus",Eg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=[["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],jc=me("monitor-check",Cg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ei=me("moon",Tg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],_g=me("package-search",Mg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]],Rs=me("package-x",Rg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Og=me("pen-line",Dg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Ug=me("pen-tool",Lg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Jd=me("pen",Hg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Pd=me("phone",Ig);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],us=me("plus",qg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Vg=me("printer",Gg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ti=me("refresh-cw",Bg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ia=me("rotate-ccw",Yg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Wd=me("save",$g);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],jm=me("scale",Qg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xs=me("search",Zg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Fg=me("send",Xg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eo=me("settings",Kg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Nm=me("settings-2",Jg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],mt=me("shield-alert",Pg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ve=me("shield-check",Wg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],im=me("shield-x",eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],wm=me("shield",tb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kn=me("square-check-big",sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],bc=me("square",ab);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],si=me("sun",lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],ib=me("table",nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],rb=me("tags",cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Jl=me("timer",db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],il=me("trash-2",ob);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xb=me("trending-up",ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ms=me("triangle-alert",mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fs=me("user-check",fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hb=me("user-cog",pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],bb=me("user-minus",gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],to=me("user-plus",vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],jb=me("user-x",yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ms=me("user",Nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oa=me("users",wb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cm=me("wifi-off",Sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Dt=me("wrench",kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ht=me("x",Ab);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Eb=me("zap",zb);var lt=(c=>(c.DAY="DAY",c.NIGHT="NIGHT",c))(lt||{}),Fl=(c=>(c.STANDARD="STANDARD",c.SUNDAY="SUNDAY",c.HOLIDAY="HOLIDAY",c))(Fl||{});const Sm={"Operations Manager":"Management","Workshop Manager":"Workshop","Workshop Supervisor":"Workshop","Safety Manager":"HSE & Compliance","Driver Manager":"Transport","Loading Supervisor":"Logistics","Stores Supervisor":"Inventory","Security Personnel":"Security",Electrician:"Electrical","Senior Mechanic":"Mechanical","Junior Mechanic":"Mechanical","Intern Mechanic":"Mechanical",Welders:"Fabrication","Tools Attendant":"Logistics","Auto body Mechanic":"Bodywork",Stores:"Inventory",General:"Operations"},km=Object.keys(Sm),Cb=[{id:"s1",name:"Shift A",type:lt.NIGHT,startTime:"20:00",endTime:"05:00"},{id:"s2",name:"Shift B",type:lt.NIGHT,startTime:"20:00",endTime:"05:00"},{id:"s3",name:"Shift C",type:lt.DAY,startTime:"07:30",endTime:"16:30"}],Tb={standardHoursPerDay:8,standardDaysPerWeek:6,rotationIntervalWeeks:1,nightToDayTransition:"Saturday 05:00 to Monday 07:30",dayToNightTransition:"1 Full Day Off (Sunday)",sections:km},rm=[{id:"t1",name:"Shift A",supervisorId:"",assistantSupervisorId:"",members:[]},{id:"t2",name:"Shift B",supervisorId:"",assistantSupervisorId:"",members:[]},{id:"t3",name:"Shift C",supervisorId:"",assistantSupervisorId:"",members:[]}],Vd={Admin:{scope:"ALL",permissions:["dashboard_view","dashboard_create","dashboard_update","dashboard_delete","registry_view","registry_create","registry_update","registry_delete","shifts_view","shifts_create","shifts_update","shifts_delete","shifts_attendance_view","shifts_attendance_create","shifts_attendance_update","shifts_attendance_delete","shifts_teams_view","shifts_teams_create","shifts_teams_update","shifts_teams_delete","shifts_history_view","shifts_history_delete","inventory_view","inventory_create","inventory_update","inventory_delete","inventory_master_view","inventory_master_create","inventory_master_update","inventory_master_delete","inventory_sectional_view","inventory_sectional_create","inventory_sectional_update","inventory_sectional_delete","inventory_archives_view","inventory_archives_create","inventory_archives_update","inventory_archives_delete","inventory_audit_view","inventory_audit_create","inventory_audit_update","inventory_audit_delete","inventory_maintenance_view","inventory_maintenance_create","inventory_maintenance_update","inventory_maintenance_delete","managerial_view","managerial_snapshot_view","managerial_audit_view","managerial_resolution_view","settings_view","settings_create","settings_update","settings_delete"]},Manager:{scope:"ALL",permissions:["dashboard_view","registry_view","registry_update","shifts_view","shifts_attendance_view","shifts_attendance_create","shifts_teams_view","shifts_history_view","inventory_view","inventory_master_view","inventory_sectional_view","inventory_archives_view","inventory_audit_view","inventory_maintenance_view","inventory_maintenance_update","managerial_view","managerial_snapshot_view","managerial_audit_view","managerial_resolution_view"]},Supervisor:{scope:"TEAM",permissions:["dashboard_view","shifts_view","shifts_attendance_view","shifts_attendance_create","shifts_teams_view","shifts_history_view","inventory_view","inventory_sectional_view","inventory_sectional_create","inventory_sectional_update","inventory_maintenance_view","inventory_maintenance_update","managerial_view","managerial_resolution_view"]},Stores:{scope:"ALL",permissions:["inventory_view","inventory_update","inventory_master_view","inventory_master_create","inventory_master_update","inventory_sectional_view","inventory_sectional_create","inventory_sectional_update","inventory_archives_view","inventory_archives_create","inventory_maintenance_view","inventory_maintenance_create","inventory_maintenance_update"]},Audit:{scope:"ALL",permissions:["dashboard_view","registry_view","shifts_view","shifts_history_view","inventory_view","inventory_master_view","inventory_archives_view","inventory_audit_view","inventory_maintenance_view","managerial_view","managerial_audit_view"]},HR:{scope:"ALL",permissions:["dashboard_view","registry_view","registry_update","registry_create","managerial_view","managerial_audit_view","managerial_resolution_view"]},HSSEQ:{scope:"ALL",permissions:["dashboard_view","managerial_view","managerial_audit_view"]},Fleet:{scope:"ALL",permissions:["shifts_view","shifts_teams_view","shifts_history_view"]},Staff:{scope:"SELF",permissions:["dashboard_view","shifts_view","inventory_view","inventory_sectional_view"]}},Am="https://script.google.com/macros/s/AKfycbx0tD1XwiNYRdkq4eQAKEuNkCgAKh0yY6mzcK5WWWUOfPHhbZmCruvA1TZsVrsBwkBK/exec",zm=async(c,d={},x=3,o=1e3)=>{try{const y=await fetch(c,d);if(!y.ok&&x>0)throw new Error(`HTTP Error: ${y.status}`);return y}catch(y){if(x>0)return console.warn(`Fetch failed. Retrying in ${o}ms... (${x} attempts left)`),await new Promise(S=>setTimeout(S,o)),zm(c,d,x-1,o*2);throw y}},Em=async()=>{try{const d=await(await zm(Am,{method:"GET",mode:"cors",cache:"no-store"})).text();try{return JSON.parse(d)}catch{return console.error("Database response was not valid JSON. Response received:",d.substring(0,100)),null}}catch(c){return console.error("Connection attempt exhausted. System operating in disconnected mode:",c),null}},Xt=async c=>{try{const d=await fetch(Am,{method:"POST",mode:"cors",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(c)});return d.ok||d.status===0}catch(d){return console.warn("Network sync acknowledged with potential redirect or blip:",d),!0}},$n=async c=>{const d=[c.id,c.toolId,c.toolName,c.reportedBy,c.reportedDate,c.breakdownContext,c.isRepairable===null?"":c.isRepairable?"TRUE":"FALSE",c.status,c.resolutionDate||"",c.technicianNotes||"",c.estimatedCost||0,c.assignedStaffId||"",c.assignedStaffName||"",c.isEscalatedToSupervisor?"TRUE":"FALSE",c.escalationNotes||""];return Xt({sheet:"Tools_Maintenance",action:"update",id:c.id,row:d})},Cm=async c=>{const d=[c.id,c.name,c.role,c.department,c.section,c.teamId,c.teamName,c.supervisorName,c.contractHours,c.status,c.phone||"",c.email||"",c.hasSystemAccess?"TRUE":"FALSE",c.visibilityScope||"SELF"];return Xt({sheet:"Staff_Registry",action:"update",id:c.id,row:d})},Tm=async c=>Xt({sheet:"Staff_Registry",action:"delete",id:c}),Ua=async c=>{const d=[c.id,c.serialNumber||"",c.name,c.category,c.zone,c.quantity,c.available,c.condition,c.responsibleStaffId||"",c.monetaryValue,c.lastVerified,c.imageUrl||"",c.assetClass||"Pc",JSON.stringify(c.composition||[]),c.submissionDate,c.addedBy];return Xt({sheet:"Tools_Master",action:"update",id:c.id,row:d})},Qn=async c=>{const d=[c.id,c.batchId||"",c.toolId,c.toolName,c.quantity||1,c.staffId,c.staffName,c.shiftType,c.date,c.timeOut,c.timeIn||"",c.isReturned?"TRUE":"FALSE",c.conditionOnReturn||"",c.attendantId,c.issuanceType,c.comment||"",c.recipientSignature||"",c.escalationStatus||"Pending",c.discoveryDate||"",c.monetaryValue||"",c.evidenceImage||"",c.escalationStage||"Store",c.graceExpiryDate||"",JSON.stringify(c.actionHistory||[]),c.physicalArchiveId||"",c.attendantName];return Xt({sheet:"Tools_Usage_Logs",action:"update",id:c.id,row:d})},Mm=async c=>{const d=c.map(x=>[x.date,x.employeeId,x.shiftId,x.status,x.overtimeHours,x.comment||"",x.dayType]);return Xt({sheet:"Attendance_Logs",action:"batchCreate",rows:d})},_m=async(c,d)=>{const x=c.map(y=>[y.id,y.name,y.type,y.startTime,y.endTime]);await Xt({sheet:"Shifts",action:"clear"}),await Xt({sheet:"Shifts",action:"batchCreate",rows:x});const o=[d.standardHoursPerDay,d.standardDaysPerWeek,d.rotationIntervalWeeks,d.nightToDayTransition,d.dayToNightTransition,JSON.stringify(d.sections)];return await Xt({sheet:"System_Config",action:"clear"}),Xt({sheet:"System_Config",action:"create",row:o})},Rm=async(c,d,x,o,y=[],S="SELF")=>{const q=[c,d,o||"ENCRYPTED",x,"FALSE",new Date().toISOString(),"Active",y.join(","),S];return Xt({sheet:"Staff_Credentials",action:"update",id:c,row:q})},Dm=async c=>Xt({sheet:"Staff_Credentials",action:"delete",id:c}),Om=async c=>{const d=[c.id,c.date,c.shiftType,c.attendantId,c.attendantName||"",JSON.stringify(c.imageUrls),c.pageNumber||"",c.notes||"",c.timestamp];return Xt({sheet:"Tools_Physical_Archives",action:"update",id:c.id,row:d})},Lm=async c=>{const d=[c.id,c.date,c.section,c.inspector,c.shiftType,JSON.stringify(c.issues||[]),c.signature||""];return Xt({sheet:"Tools_Audit_History",action:"create",row:d})},Ud=Object.freeze(Object.defineProperty({__proto__:null,deleteAccessProvision:Dm,deleteStaffMember:Tm,fetchCloudDatabase:Em,provisionAccess:Rm,sendPost:Xt,syncAuditHistory:Lm,syncMaintenanceRecord:$n,syncPhysicalArchive:Om,syncSettings:_m,syncStaffMember:Cm,syncToGoogleSheets:Mm,syncToolAsset:Ua,syncToolUsage:Qn},Symbol.toStringTag,{value:"Module"})),dm="SHIFTPRO_PERSISTED_DATABASE",Mb="SHIFTPRO_STAFF_DELETION_BLACKLIST",_b="SHIFTPRO_TOOL_DELETION_BLACKLIST",Rb=()=>{const[c,d]=p.useState(!1),[x,o]=p.useState(null),[y,S]=p.useState(!1),[q,A]=p.useState(!1),[w,f]=p.useState(""),[E,b]=p.useState(!1),[m,_]=p.useState("dashboard"),[M,D]=p.useState("attendance"),[H,F]=p.useState("snapshot"),[g,z]=p.useState(!1),[C,ie]=p.useState(!1),[k,v]=p.useState(!1),[Y,j]=p.useState("standard"),[V,K]=p.useState(!1),[W,ue]=p.useState(Cb),[ee,se]=p.useState(Tb),[N,Z]=p.useState(rm),[ae,L]=p.useState([]),[re,h]=p.useState(km),[R,de]=p.useState([]),[xe,G]=p.useState(!0),[U,Q]=p.useState(!1),[te,J]=p.useState(!navigator.onLine),pe=p.useRef(0),ge=p.useRef(0),[Ce,_e]=p.useState(()=>{const he=sessionStorage.getItem(Mb);return he?new Set(JSON.parse(he)):new Set}),[Qe,vt]=p.useState(()=>{const he=sessionStorage.getItem(_b);return he?new Set(JSON.parse(he)):new Set}),[At,Gt]=p.useState([]),[dt,Re]=p.useState([]),[Ds,xa]=p.useState([]),[Pl,rl]=p.useState([]),[Ot,dl]=p.useState([]),[ol,Ga]=p.useState([]),[Gs,ul]=p.useState([]),[ye,Ae]=p.useState([]),[Ie,Te]=p.useState([]),[je,Ne]=p.useState([]),[we,xt]=p.useState([]),[Se,Ze]=p.useState([]),zt=Vd,yt=p.useCallback(he=>String(he||"").replace(/[^a-z0-9]/gi,"").toLowerCase(),[]),ne=p.useCallback((he,De)=>{if(!he)return;const Ue=De.toLowerCase().replace(/_/g,"").replace(/\s/g,""),fe=Object.keys(he),Oe=fe.find(Mt=>Mt.toLowerCase().replace(/_/g,"").replace(/\s/g,"")===Ue);if(Oe)return he[Oe];const Ct=fe.find(Mt=>{const Je=Mt.toLowerCase().replace(/_/g,"").replace(/\s/g,"");return Je.includes(Ue)||Ue.includes(Je)});return Ct?he[Ct]:void 0},[]),Et=p.useCallback((he,De=[],Ue=!0)=>{if(!he)return De;if(typeof he!="string")return he;const fe=he.trim();if(!fe)return De;if(fe.startsWith("data:image"))return Ue?[fe]:fe;try{const Oe=JSON.parse(fe);return Ue&&!Array.isArray(Oe)?[Oe]:Oe}catch{return Ue&&fe.length>0?[fe]:De}},[]),Ft=he=>{if(typeof he=="boolean")return he;if(!he)return!1;const De=String(he).toUpperCase().trim();return De==="TRUE"||De==="1"||De==="YES"},Vt=he=>ne(he,"staffid")||ne(he,"employeeid")||ne(he,"id")||ne(he,"staffnumber")||ne(he,"code")||ne(he,"employeecode"),ot=()=>{pe.current=Date.now()},it=p.useCallback(he=>{if(!he)return;const Ue=Date.now()-pe.current<2e4;if(!Ue){const fe=he.Staff_Registry||[],Oe=he.Staff_Credentials||[],Ct=new Map;Oe.forEach(Ee=>{const Bt=yt(ne(Ee,"staffid")||Vt(Ee));Bt&&Ct.set(Bt,Ee)});const Mt=fe.map(Ee=>{const Bt=Vt(Ee),Os=Bt?String(Bt).trim():"",Lt=Ct.get(yt(Os)),Nc=String(ne(Lt,"passhash")||ne(Lt,"temppassword")||ne(Lt,"password")||"").trim(),ai=String(ne(Lt,"status")||"").toUpperCase(),Va=Ft(ne(Ee,"systemaccess")),Wl=Lt&&(ai==="ACTIVE"||String(ne(Lt,"active")||"").toUpperCase()==="TRUE");return{id:Os,name:ne(Ee,"fullname")||ne(Ee,"name")||"Personnel",role:ne(Ee,"role")||"Member",department:ne(Ee,"department")||"Operations",section:ne(Ee,"section")||"General",teamId:(ne(Ee,"teamid")||"").toString(),teamName:ne(Ee,"teamname")||"",supervisorName:ne(Ee,"supervisorname")||ne(Ee,"superior")||"",status:ne(Ee,"status")||"Active",phone:ne(Ee,"phone")||ne(Ee,"contact")||ne(Ee,"phonenumber")||ne(Ee,"tel")||"",email:ne(Ee,"email")||ne(Ee,"emailaddress")||ne(Ee,"mail")||"",hasSystemAccess:Va||Wl,accessLevel:ne(Lt,"accesslevel")||"Staff",permissions:(ne(Lt,"permissions")||"").split(",").filter(Boolean),username:ne(Lt,"username"),tempPassword:Nc,visibilityScope:ne(Lt,"visibilityscope")||"SELF"}}).filter(Ee=>Ee.id&&!Ce.has(yt(Ee.id)));Gt(Mt);const Je=rm.map(Ee=>{const Bt=Mt.filter(Lt=>Lt.teamId===Ee.id||Lt.teamName===Ee.name),Os=Bt.find(Lt=>Lt.role.includes("Supervisor"))||Bt[0];return{...Ee,members:Bt,supervisorId:(Os==null?void 0:Os.id)||""}});Z(Je)}if(he.Tools_Master&&!Ue&&Re(he.Tools_Master.map(fe=>({id:String(ne(fe,"id")),name:ne(fe,"name"),category:ne(fe,"category"),zone:ne(fe,"zone"),quantity:parseInt(ne(fe,"quantity"))||0,available:parseInt(ne(fe,"available"))||0,condition:ne(fe,"condition"),monetaryValue:parseFloat(ne(fe,"monetaryvalue"))||0,lastVerified:ne(fe,"lastverified")||ne(fe,"date")||"",submissionDate:ne(fe,"submissiondate")||ne(fe,"lastverified")||ne(fe,"date")||"",addedBy:ne(fe,"addedby")||"",imageUrl:ne(fe,"imageurl"),assetClass:ne(fe,"assetclass")||"Pc",composition:Et(ne(fe,"composition"),[])})).filter(fe=>fe.id&&!Qe.has(yt(fe.id)))),he.Tools_Usage_Logs&&!Ue&&xa(he.Tools_Usage_Logs.map(fe=>({id:String(ne(fe,"id")),batchId:ne(fe,"batchid"),toolId:ne(fe,"toolid"),toolName:ne(fe,"toolname"),quantity:parseInt(ne(fe,"quantity"))||1,staffId:String(ne(fe,"staffid")),staffName:ne(fe,"staffname"),shiftType:ne(fe,"shifttype"),date:ne(fe,"date"),timeOut:ne(fe,"timeout"),timeIn:ne(fe,"timein"),isReturned:Ft(ne(fe,"isreturned")),conditionOnReturn:ne(fe,"conditiononreturn"),attendantId:ne(fe,"attendantid"),attendantName:ne(fe,"attendantname")||"",issuanceType:ne(fe,"issuancetype")||"Daily",comment:ne(fe,"comment"),escalationStatus:ne(fe,"escalationstatus"),escalationStage:ne(fe,"escalationstage"),monetaryValue:parseFloat(ne(fe,"monetaryvalue"))||0,physicalArchiveId:ne(fe,"physicalarchiveid"),actionHistory:Et(ne(fe,"actionhistory"),[])}))),he.Tools_Physical_Archives&&!Ue&&rl(he.Tools_Physical_Archives.map(fe=>({id:String(ne(fe,"id")),date:ne(fe,"date"),shiftType:ne(fe,"shifttype"),attendantId:ne(fe,"attendantid"),attendantName:ne(fe,"attendantname"),imageUrls:Et(ne(fe,"imageurls"),[]),pageNumber:ne(fe,"pagenumber"),notes:ne(fe,"notes"),timestamp:ne(fe,"timestamp")}))),he.Tools_Audit_History&&!Ue&&dl(he.Tools_Audit_History.map(fe=>({id:String(ne(fe,"id")),date:ne(fe,"date"),section:ne(fe,"section"),inspector:ne(fe,"inspector"),shiftType:ne(fe,"shifttype"),issues:Et(ne(fe,"issues"),[]),signature:ne(fe,"signature")}))),he.Tools_Maintenance&&!Ue){const fe=he.Tools_Maintenance.map(Oe=>({id:String(ne(Oe,"id")),toolId:ne(Oe,"toolid"),toolName:ne(Oe,"toolname"),reportedBy:ne(Oe,"reportedby"),reportedDate:ne(Oe,"reporteddate"),breakdownContext:ne(Oe,"breakdowncontext"),isRepairable:Ft(ne(Oe,"isrepairable")),status:ne(Oe,"status"),resolutionDate:ne(Oe,"resolutiondate"),technicianNotes:ne(Oe,"techniciannotes"),estimatedCost:parseFloat(ne(Oe,"estimatedcost"))||0,assignedStaffId:ne(Oe,"assignedstaffid"),assignedStaffName:ne(Oe,"assignedstaffname"),isEscalatedToSupervisor:Ft(ne(Oe,"isescalatedtosupervisor")),escalationNotes:ne(Oe,"escalationnotes")}));Ga(fe),x&&de(Oe=>{const Ct=new Set(Oe.map(Je=>Je.id)),Mt=[];return fe.forEach(Je=>{Je.assignedStaffId===x.id&&Je.status==="Staged"&&!Ct.has(`MNT-ASG-${Je.id}`)&&Mt.push({id:`MNT-ASG-${Je.id}`,title:"New Repair Assignment",message:`Urgent breakdown reported for ${Je.toolName}.`,type:"alert",timestamp:new Date,read:!1})}),[...Mt,...Oe]})}he.Attendance_Logs&&!Ue&&L(he.Attendance_Logs.map(fe=>{const Oe=Vt(fe);return{date:ne(fe,"date"),employeeId:Oe?String(Oe).trim():"UNKNOWN",shiftId:ne(fe,"shiftid"),status:ne(fe,"status"),overtimeHours:parseFloat(ne(fe,"overtimehours"))||0,comment:ne(fe,"comment"),dayType:ne(fe,"daytype")}}))},[Et,Ce,Qe,yt,ne,x]),$t=p.useCallback(async(he=!1)=>{if(!navigator.onLine)return;const De=Date.now();if(he&&De-ge.current<15e3)return;he?Q(!0):G(!0);const Ue=await Em();Ue&&(it(Ue),localStorage.setItem(dm,JSON.stringify(Ue)),ge.current=Date.now()),Q(!1),G(!1)},[it]);p.useEffect(()=>{const he=localStorage.getItem(dm);if(he)try{it(JSON.parse(he)),G(!1)}catch{}$t();const De=setInterval(()=>$t(!0),12e4);return()=>clearInterval(De)},[$t,it]);const ps=p.useCallback((he,De="view",Ue)=>{var Oe;if(!x||!x.hasSystemAccess)return!1;if(x.accessLevel==="Admin")return!0;const fe=Ue?`${he}_${Ue}_${De}`:`${he}_${De}`;return((Oe=x.permissions)==null?void 0:Oe.includes(fe))||!1},[x]);return{auth:{isAuthenticated:c,currentUser:x,handleLogin:async(he,De)=>{S(!0),f(""),A(!1);const Ue=yt(he),fe=De.trim();await new Promise(Ct=>setTimeout(Ct,1200));let Oe=null;Ue==="admin"&&fe==="admin"?Oe={id:"ADM-ROOT",name:"System Administrator",role:"Group Maintenance Manager",department:"Management",section:"General",teamId:"",teamName:"Management",supervisorName:"Root",contractHours:48,status:"Active",hasSystemAccess:!0,username:"admin",tempPassword:"admin",accessLevel:"Admin",permissions:Vd.Admin.permissions,visibilityScope:"ALL"}:Oe=At.find(Ct=>(yt(Ct.username)===Ue||yt(Ct.id)===Ue)&&String(Ct.tempPassword||"").trim()===fe&&Ct.hasSystemAccess)||null,Oe?(A(!0),o(Oe),await new Promise(Ct=>setTimeout(Ct,1e3)),d(!0)):f("Invalid credentials. Check Staff ID or Password."),S(!1)},handleLogout:()=>{d(!1),A(!1),o(null)},isAuthenticating:y,loginSuccess:q,authError:w},navigation:{activeTab:m,setActiveTab:_,isSidebarCollapsed:g,setIsSidebarCollapsed:z,shiftsSubPage:M,setShiftsSubPage:D,managerialSubPage:H,setManagerialSubPage:F,hasPermission:ps},data:{teams:N,shifts:W,attendanceHistory:ae,masterEmployees:At,sections:re,tierDefaults:zt,bulletins:Gs,setBulletins:ul,documents:ye,setDocuments:Ae,resources:Ie,setResources:Te,observations:je,setObservations:Ne,grievances:we,setGrievances:xt,engagementInquiries:Se,setEngagementInquiries:Ze,addMember:async he=>{ot(),Gt(De=>[he,...De])},updateMember:async he=>{ot(),Gt(De=>De.map(Ue=>Ue.id===he.id?he:Ue))},deleteMember:async he=>{ot(),Gt(De=>De.filter(Ue=>Ue.id!==he))},setShifts:ue,setConfig:se,config:ee,resolveStaffIdentity:he=>At.find(De=>yt(De.id)===yt(he))||{id:he,name:he,status:"Inactive"},setAttendanceHistory:he=>{ot(),L(he)},inventory:{tools:dt,setTools:he=>{ot(),Re(he)},deleteTool:async he=>{ot(),Re(De=>De.filter(Ue=>Ue.id!==he))},usageLogs:Ds,setUsageLogs:he=>{ot(),xa(he)},physicalLogs:Pl,setPhysicalLogs:he=>{ot(),rl(he)},auditHistory:Ot,setAuditHistory:he=>{ot(),dl(he)},maintenanceHistory:ol,setMaintenanceHistory:he=>{ot(),Ga(he)}}},notifications:{list:R,show:V,setShow:K},modals:{isRotating:C,setIsRotating:ie,showRotationModal:k,setShowRotationModal:v,rotationMode:Y,setMode:j},system:{isBusy:E,setBusy:b,isSyncingBackground:U,isOffline:te,onRefresh:()=>$t(!0)},isCloudLoading:xe}},La=({icon:c,label:d,active:x,collapsed:o,onClick:y,badgeCount:S})=>t.jsxs("button",{onClick:y,title:o?d:"",className:`w-full flex items-center transition-all duration-300 group relative rounded-xl h-10 ${x?"bg-slate-50 text-indigo-700 font-bold":"text-slate-400 hover:bg-slate-50 hover:text-slate-900"} ${o?"justify-center px-0":"space-x-3 px-4"}`,children:[x&&t.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-4 bg-indigo-600 rounded-r-full"}),t.jsxs("div",{className:`transition-colors duration-300 flex-shrink-0 relative ${x?"text-indigo-600":"text-slate-300 group-hover:text-slate-600"}`,children:[zs.cloneElement(c,{size:16}),S!==void 0&&S>0&&o&&t.jsx("span",{className:"absolute -top-1.5 -right-1.5 w-3 h-3 bg-rose-600 border border-white rounded-full text-[6px] font-bold text-white flex items-center justify-center animate-pulse shadow-sm",children:S})]}),!o&&t.jsxs("div",{className:"flex items-center justify-between w-full min-w-0",children:[t.jsx("span",{className:"text-[9.5px] tracking-wider uppercase font-bold truncate",children:d}),S!==void 0&&S>0&&t.jsxs("span",{className:"ml-2 px-1.5 py-0.5 bg-rose-600 rounded-md text-[6px] font-bold text-white uppercase tracking-wider animate-pulse shadow-sm",children:[S," ALERTS"]})]})]}),Db=({children:c,activeTab:d,onTabChange:x,isCollapsed:o,setIsCollapsed:y,onLogout:S,onRefresh:q,notifications:A,shiftsSubPage:w,managerialSubPage:f,currentUser:E,hasPermission:b,shifts:m=[],isSyncingBackground:_=!1,isOffline:M=!1})=>{var ie;const D=p.useRef(null),[H,F]=p.useState(new Date);p.useEffect(()=>{const k=setInterval(()=>F(new Date),1e4);return()=>clearInterval(k)},[]),p.useEffect(()=>{const k=v=>{D.current&&!D.current.contains(v.target)&&A.setShow(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[A]);const g=p.useMemo(()=>{if(!m||m.length===0)return null;const k=H.getHours()*60+H.getMinutes();return m.find(v=>{const[Y,j]=v.startTime.split(":").map(Number),[V,K]=v.endTime.split(":").map(Number),W=Y*60+j,ue=V*60+K;return W<ue?k>=W&&k<ue:k>=W||k<ue})},[m,H]),z=A.list.filter(k=>!k.read).length,C=A.list.filter(k=>k.type==="alert"&&!k.read).length;return t.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden text-slate-900",children:[t.jsxs("aside",{className:`bg-white border-r border-slate-100 flex-shrink-0 hidden md:flex flex-col sticky top-0 h-screen transition-all duration-300 ease-in-out z-20 ${o?"w-[70px]":"w-64"}`,children:[t.jsxs("div",{className:`flex items-center p-5 mb-3 overflow-hidden ${o?"justify-center":"space-x-3"}`,children:[t.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-xl flex items-center justify-center text-white font-black text-base shadow-lg shrink-0",children:"W"}),!o&&t.jsxs("div",{className:"flex flex-col animate-in fade-in slide-in-from-left-2",children:[t.jsx("h1",{className:"text-base font-black text-slate-900 leading-none uppercase",children:"Workshop Hub"}),t.jsx("p",{className:"text-[7px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Staff & Tool Management"})]})]}),t.jsx("button",{onClick:()=>y(!o),className:"absolute -right-2.5 top-16 bg-white border border-slate-100 rounded-full p-1 shadow-sm hover:bg-slate-50 z-30 transition-transform active:scale-90",children:o?t.jsx(qs,{size:12,className:"text-slate-400"}):t.jsx(Ha,{size:12,className:"text-slate-400"})}),t.jsxs("nav",{className:"flex-1 px-2.5 space-y-0.5 overflow-y-auto no-scrollbar pt-3",children:[b("dashboard")&&t.jsx(La,{icon:t.jsx(hc,{}),label:"Dashboard",active:d==="dashboard",collapsed:o,onClick:()=>x("dashboard")}),b("registry")&&t.jsx(La,{icon:t.jsx(Xd,{}),label:"Staff List",active:d==="registry",collapsed:o,onClick:()=>x("registry")}),b("shifts")&&t.jsx(La,{icon:t.jsx(da,{}),label:"Shifts",active:d==="shifts",collapsed:o,onClick:()=>x("shifts")}),b("inventory")&&t.jsx(La,{icon:t.jsx(Dt,{}),label:"Tools",active:d==="inventory",collapsed:o,onClick:()=>x("inventory"),badgeCount:C}),b("managerial")&&t.jsx(La,{icon:t.jsx(mt,{}),label:"Management",active:d==="managerial",collapsed:o,onClick:()=>x("managerial")})]}),t.jsxs("div",{className:"p-2.5 mt-auto border-t border-slate-50 space-y-0.5",children:[t.jsx(La,{icon:t.jsx(nm,{}),label:"My Profile",active:d==="profile",collapsed:o,onClick:()=>x("profile")}),b("settings")&&t.jsx(La,{icon:t.jsx(eo,{}),label:"Settings",active:d==="settings",collapsed:o,onClick:()=>x("settings")}),t.jsx(La,{icon:t.jsx(Sg,{}),label:"Logout",active:!1,collapsed:o,onClick:S})]})]}),t.jsxs("main",{className:"flex-1 flex flex-col min-w-0 h-full relative overflow-hidden",children:[t.jsxs("header",{className:"bg-white border-b border-slate-100 h-14 md:h-16 flex items-center justify-between px-4 md:px-8 shrink-0 z-10",children:[t.jsxs("div",{className:"flex items-center space-x-2 md:space-x-5 min-w-0",children:[t.jsx("div",{className:"w-7 h-7 md:hidden bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold text-xs shrink-0",children:"W"}),t.jsxs("div",{className:"hidden lg:flex items-center space-x-2.5 bg-slate-50 border border-slate-100 px-2 md:px-2.5 py-1 rounded-xl shrink-0",children:[t.jsx("div",{className:"relative",children:t.jsx("div",{className:`w-1 h-1 rounded-full ${M?"bg-rose-500":"bg-emerald-500"} animate-pulse`})}),t.jsxs("div",{className:"flex items-center space-x-1.5",children:[t.jsx("span",{className:`text-[6px] font-bold uppercase tracking-wider hidden lg:inline ${M?"text-rose-500":"text-slate-400"}`,children:M?"OFFLINE":"STATUS"}),g?t.jsxs("div",{className:`flex items-center space-x-1 ${g.type===lt.DAY?"text-orange-600":"text-indigo-600"}`,children:[g.type===lt.DAY?t.jsx(si,{size:10}):t.jsx(ei,{size:10}),t.jsx("span",{className:"text-[8px] font-semibold uppercase tracking-tight",children:g.name})]}):t.jsx("span",{className:"text-[8px] font-semibold text-slate-400 uppercase tracking-tight",children:"Resting"})]})]}),t.jsx("h2",{className:"text-[8px] md:text-[10px] font-bold text-slate-900 uppercase tracking-wider truncate border-l border-slate-100 pl-2 md:pl-5 min-w-0",children:d==="shifts"?`SHIFTS > ${w.toUpperCase()}`:d==="inventory"?"TOOLS":d==="profile"?"PROFILE":d.toUpperCase()})]}),t.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 shrink-0",children:[(_||q)&&t.jsx("button",{onClick:q,disabled:_||M,className:"p-1.5 text-slate-400 hover:text-indigo-600 transition-all active:scale-90",title:"Sync Data",children:t.jsx(ti,{size:14,className:_?"animate-spin":""})}),t.jsxs("div",{className:"relative",ref:D,children:[t.jsxs("button",{onClick:()=>A.setShow(!A.show),className:`p-1.5 md:p-2 rounded-lg border transition-all relative shrink-0 ${A.show?"bg-indigo-600 text-white border-indigo-600 shadow-lg":"bg-white border-slate-100 text-slate-400 hover:border-slate-300 shadow-sm"}`,children:[t.jsx(bh,{size:16}),z>0&&t.jsx("span",{className:"absolute -top-1 -right-1 h-3.5 w-3.5 bg-rose-600 border-2 border-white rounded-full text-[6px] font-bold text-white flex items-center justify-center animate-pulse",children:z})]}),A.show&&t.jsxs("div",{className:"absolute right-0 mt-3 w-[280px] sm:w-[350px] bg-white rounded-[2rem] shadow-[0_20px_50px_rgba(0,0,0,0.15)] border border-slate-100 overflow-hidden z-[50] animate-in slide-in-from-top-2 duration-300",children:[t.jsxs("div",{className:"px-6 py-4 bg-slate-50/80 backdrop-blur-md border-b border-slate-100 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:"Workshop Alerts"}),t.jsx("p",{className:"text-[7px] text-slate-400 font-bold uppercase mt-0.5",children:"Live Updates"})]}),t.jsxs("div",{className:"flex items-center gap-1 bg-white px-2 py-1 rounded-lg border border-slate-200",children:[t.jsx("div",{className:"w-1 h-1 rounded-full bg-emerald-500 animate-pulse"}),t.jsx("span",{className:"text-[6px] font-black text-slate-400 uppercase",children:"System Active"})]})]}),t.jsx("div",{className:"max-h-[400px] overflow-y-auto no-scrollbar divide-y divide-slate-50",children:A.list.length===0?t.jsxs("div",{className:"py-16 text-center",children:[t.jsx(ug,{size:32,className:"mx-auto text-slate-100 mb-3"}),t.jsx("p",{className:"text-[8px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"No Messages"})]}):A.list.map(k=>t.jsxs("div",{className:`p-5 hover:bg-slate-50 transition-colors flex gap-4 items-start ${k.read?"":"bg-indigo-50/10"}`,children:[t.jsx("div",{className:`w-9 h-9 rounded-xl shrink-0 flex items-center justify-center shadow-sm ${k.type==="alert"?"bg-rose-50 text-rose-500 border border-rose-100":k.type==="success"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-indigo-50 text-indigo-500 border border-indigo-100"}`,children:k.type==="alert"?t.jsx(Kl,{size:16}):k.type==="success"?t.jsx(nt,{size:16}):t.jsx(Fn,{size:16})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("h5",{className:"text-[10px] font-black text-slate-900 uppercase tracking-tight truncate leading-none mb-1.5",children:k.title}),t.jsx("p",{className:"text-[9px] font-medium text-slate-500 leading-relaxed mb-2",children:k.message}),t.jsxs("div",{className:"flex items-center gap-1.5 text-[7px] font-black text-slate-300 uppercase tracking-widest",children:[t.jsx(_s,{size:10}),t.jsx("span",{children:new Date(k.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),!k.read&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-indigo-200",children:""}),t.jsx("span",{className:"text-indigo-500",children:"New"})]})]})]})]},k.id))}),t.jsx("div",{className:"px-6 py-3 bg-slate-50/50 border-t border-slate-100 text-center",children:t.jsx("button",{onClick:()=>A.setShow(!1),className:"text-[8px] font-black text-slate-400 uppercase tracking-widest hover:text-indigo-600 transition-colors",children:"Close"})})]})]}),t.jsx("div",{className:"px-2 h-8 md:h-10 rounded-lg bg-slate-900 items-center justify-center text-white font-semibold shadow-md text-[8px] md:text-[9px] flex shrink-0 border border-slate-100 uppercase tracking-tight",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("span",{className:"leading-none",children:(ie=E==null?void 0:E.name)==null?void 0:ie.split(" ")[0]}),t.jsx("span",{className:"text-[5px] opacity-60 mt-0.5 hidden md:inline",children:E==null?void 0:E.accessLevel})]})})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-slate-50/50 p-3 md:p-6 lg:p-8",children:t.jsx("div",{className:"max-w-[1400px] mx-auto w-full pb-20 md:pb-0",children:c})})]}),t.jsxs("nav",{className:"md:hidden fixed bottom-4 left-4 right-4 bg-slate-900/95 backdrop-blur-md rounded-2xl border border-white/10 p-2 z-[100] flex justify-around shadow-[0_20px_50px_rgba(0,0,0,0.3)]",children:[b("dashboard")&&t.jsx("button",{onClick:()=>x("dashboard"),className:`p-3 rounded-xl transition-all ${d==="dashboard"?"text-white bg-indigo-600 shadow-lg scale-110":"text-slate-400"}`,children:t.jsx(hc,{size:20})}),b("shifts")&&t.jsx("button",{onClick:()=>x("shifts"),className:`p-3 rounded-xl transition-all ${d==="shifts"?"text-white bg-indigo-600 shadow-lg scale-110":"text-slate-400"}`,children:t.jsx(da,{size:20})}),b("inventory")&&t.jsxs("button",{onClick:()=>x("inventory"),className:`p-3 rounded-xl transition-all relative ${d==="inventory"?"text-white bg-indigo-600 shadow-lg scale-110":"text-slate-400"}`,children:[t.jsx(Dt,{size:20}),z>0&&t.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-rose-600 border border-white rounded-full"})]}),t.jsx("button",{onClick:()=>x("profile"),className:`p-3 rounded-xl transition-all ${d==="profile"?"text-white bg-indigo-600 shadow-lg scale-110":"text-slate-400"}`,children:t.jsx(nm,{size:20})})]})]})},Ob=({onLogin:c,isAuthenticating:d,loginSuccess:x,error:o,isReady:y})=>{const[S,q]=p.useState({user:"",pass:""}),[A,w]=p.useState(!navigator.onLine);p.useEffect(()=>{const E=()=>w(!1),b=()=>w(!0);return window.addEventListener("online",E),window.addEventListener("offline",b),()=>{window.removeEventListener("online",E),window.removeEventListener("offline",b)}},[]);const f=E=>{E.preventDefault(),!(A||d||x)&&c(S.user,S.pass)};return t.jsxs("div",{className:"h-screen w-full flex flex-col md:flex-row bg-white overflow-hidden",children:[t.jsxs("div",{className:"w-full md:w-[35%] lg:w-[30%] bg-[#0F1135] flex flex-col justify-between p-6 md:p-10 shrink-0",children:[t.jsxs("div",{className:"flex md:flex-col items-center md:items-start gap-4",children:[t.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-xl flex items-center justify-center text-[#0F1135] font-black text-xl md:text-2xl shadow-xl",children:"W"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl md:text-2xl font-black text-white tracking-tight leading-none uppercase",children:"Workshop Hub"}),t.jsx("p",{className:"text-[8px] md:text-[9px] text-indigo-400 font-bold uppercase tracking-widest mt-1 md:mt-2",children:"Staff & Tool Management"})]})]}),t.jsxs("div",{className:"hidden md:block space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-1 h-6 rounded-full transition-all duration-500 ${A?"bg-rose-500":y?"bg-emerald-500":"bg-amber-500 animate-pulse"}`}),t.jsx("div",{children:t.jsx("p",{className:"text-white text-[10px] font-black uppercase tracking-widest",children:A?"No Connection":y?"System Online":"Syncing..."})})]}),A&&t.jsxs("div",{className:"flex items-center space-x-2 text-rose-400",children:[t.jsx(cm,{size:14}),t.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Internet Required"})]})]}),t.jsx("div",{className:"hidden md:block",children:t.jsx("p",{className:"text-white/20 text-[8px] font-black uppercase tracking-widest",children:"Internal Use Only"})})]}),t.jsx("div",{className:"flex-1 bg-slate-50 flex items-center justify-center p-6 md:p-12 relative overflow-hidden",children:t.jsxs("div",{className:"w-full max-w-sm",children:[t.jsxs("div",{className:"mb-6 md:mb-10 text-center md:text-left",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-black text-slate-900 tracking-tight mb-1 uppercase",children:"Sign In"}),t.jsx("p",{className:"text-[9px] md:text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Authorized entry only"})]}),t.jsxs("form",{onSubmit:f,className:"space-y-4 md:space-y-6",children:[t.jsxs("div",{className:"space-y-1.5",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Staff ID"}),t.jsxs("div",{className:"relative",children:[t.jsx(oa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),t.jsx("input",{type:"text",required:!0,disabled:d||x,className:"w-full bg-white border border-slate-200 rounded-xl pl-12 pr-4 py-3.5 md:py-4 text-sm font-bold text-slate-800 outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all shadow-sm disabled:opacity-50",placeholder:"ID Number",value:S.user,onChange:E=>q({...S,user:E.target.value})})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(qa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),t.jsx("input",{type:"password",required:!0,disabled:d||x,className:"w-full bg-white border border-slate-200 rounded-xl pl-12 pr-4 py-3.5 md:py-4 text-sm font-bold text-slate-800 outline-none focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all shadow-sm disabled:opacity-50",placeholder:"",value:S.pass,onChange:E=>q({...S,pass:E.target.value})})]})]}),o&&t.jsxs("div",{className:"p-3 bg-rose-50 text-[9px] font-black text-rose-600 uppercase border border-rose-100 rounded-xl flex items-center space-x-3 animate-in shake-in",children:[t.jsx(mt,{size:14}),t.jsx("span",{children:o})]}),t.jsx("button",{type:"submit",disabled:d||x||A,className:`w-full py-4 md:py-5 rounded-2xl font-black uppercase tracking-widest text-[10px] transition-all flex items-center justify-center space-x-3 shadow-lg relative overflow-hidden active:scale-[0.98] ${A?"bg-slate-200 text-slate-400 cursor-not-allowed border border-slate-200":x?"bg-emerald-600 text-white":d?"bg-indigo-600 text-white":"bg-[#0F1135] text-white hover:bg-indigo-700"}`,children:A?t.jsxs(t.Fragment,{children:[t.jsx(cm,{size:16}),t.jsx("span",{children:"Offline"})]}):x?t.jsxs(t.Fragment,{children:[t.jsx(nt,{size:16}),t.jsx("span",{children:"Logged in"})]}):d?t.jsxs(t.Fragment,{children:[t.jsx(Ia,{size:16,className:"animate-spin"}),t.jsx("span",{children:"Checking..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ng,{size:16}),t.jsx("span",{children:"Login"})]})})]})]})})]})},Lb=({onConfirm:c,onCancel:d})=>t.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:d}),t.jsxs("div",{className:"relative bg-white w-full max-w-sm rounded-[1.5rem] shadow-2xl p-6 text-center animate-in zoom-in-95",children:[t.jsx("div",{className:"w-12 h-12 bg-rose-50 rounded-xl flex items-center justify-center text-rose-500 mx-auto mb-4",children:t.jsx(mt,{size:24})}),t.jsx("h3",{className:"text-base font-black text-slate-900 uppercase tracking-tight mb-1",children:"Logout?"}),t.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:"Ending active operational session."}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[t.jsx("button",{onClick:d,className:"py-3 bg-slate-50 border border-slate-100 rounded-xl text-[9px] font-black text-slate-400 uppercase tracking-widest hover:bg-slate-100",children:"Cancel"}),t.jsx("button",{onClick:c,className:"py-3 bg-rose-600 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-lg shadow-rose-100 hover:bg-rose-700",children:"Logout"})]})]})]}),Ub=({isVisible:c,message:d="Saving Records"})=>c?t.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-6 bg-slate-950/20 backdrop-blur-md animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white/95 border border-white/20 p-8 rounded-[2.5rem] shadow-2xl flex flex-col items-center space-y-5 max-w-sm w-full text-center",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl",children:t.jsx(Fd,{size:24})}),t.jsx("div",{className:"absolute -top-1 -right-1 w-8 h-8 bg-white rounded-xl shadow-md flex items-center justify-center text-indigo-600 animate-spin",children:t.jsx(Ia,{size:14,strokeWidth:3})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("h3",{className:"text-[11px] font-black text-slate-900 uppercase tracking-widest",children:d}),t.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tight",children:"Updating the system database"})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-emerald-500 bg-emerald-50 px-4 py-1.5 rounded-xl border border-emerald-100",children:[t.jsx(Qd,{size:12}),t.jsx("span",{className:"text-[7.5px] font-black uppercase tracking-widest",children:"Active Connection"})]})]})}):null,kt=({title:c,children:d,className:x="",headerAction:o})=>t.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-6 ${x}`,children:[(c||o)&&t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c&&t.jsx("h3",{className:"text-lg font-semibold text-gray-800 tracking-tight",children:c}),o]}),d]}),Hb=({teams:c,shifts:d,history:x,tools:o=[],usageLogs:y=[],maintenanceRecords:S=[]})=>{const q=x.filter(E=>E.date===new Date().toISOString().split("T")[0]&&E.status==="Present").length,A=c.reduce((E,b)=>E+b.members.length,0),w=p.useMemo(()=>{const E=o.reduce((_,M)=>_+M.monetaryValue*M.quantity,0),b=o.filter(_=>_.condition==="Damaged"||_.condition==="Lost").length,m={};return o.forEach(_=>{m[_.zone]=(m[_.zone]||0)+_.available}),{totalValue:E,criticalCount:b,zoneMap:m}},[o]),f=p.useMemo(()=>{const E=new Date,b=E.getHours()*60+E.getMinutes();return d.find(m=>{if(!m.startTime||!m.endTime)return!1;const[_,M]=m.startTime.split(":").map(Number),[D,H]=m.endTime.split(":").map(Number),F=_*60+M,g=D*60+H;return F<g?b>=F&&b<g:b>=F||b<g})},[d]);return t.jsxs("div",{className:"space-y-4 md:space-y-8 animate-in fade-in duration-700",children:[t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[t.jsx(ra,{size:18,className:"text-indigo-600 hidden sm:inline"}),t.jsx("h2",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-slate-900",children:"Operational Pulse"})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-indigo-600 text-white px-2 py-1 md:px-3 md:py-1.5 rounded-lg md:rounded-xl shadow-lg shadow-indigo-100",children:[t.jsx(ti,{size:12,className:"animate-spin-slow"}),t.jsxs("span",{className:"text-[8px] md:text-[9px] font-black uppercase",children:["Live Sync: ",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 md:gap-6",children:[t.jsxs(kt,{className:"flex items-center space-x-3 md:space-x-4 p-4 md:p-5 border-none shadow-sm transition-all",children:[t.jsx("div",{className:"p-2 md:p-3 bg-slate-100 rounded-lg md:rounded-2xl shrink-0",children:t.jsx(oa,{className:"text-slate-600 h-4 w-4 md:h-5 md:w-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] md:text-[9px] font-black text-slate-400 uppercase tracking-widest truncate",children:"Workforce"}),t.jsx("p",{className:"text-sm md:text-xl font-black text-slate-900",children:A})]})]}),t.jsxs(kt,{className:"flex items-center space-x-3 md:space-x-4 p-4 md:p-5 border-none shadow-sm transition-all",children:[t.jsx("div",{className:"p-2 md:p-3 bg-emerald-50 rounded-lg md:rounded-2xl shrink-0",children:t.jsx(nt,{className:"text-emerald-600 h-4 w-4 md:h-5 md:w-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] md:text-[9px] font-black text-emerald-600 uppercase tracking-widest truncate",children:"Filed Today"}),t.jsx("p",{className:"text-sm md:text-xl font-black text-slate-900",children:q||0})]})]}),t.jsxs(kt,{className:"flex items-center space-x-3 md:space-x-4 p-4 md:p-5 border-none shadow-sm transition-all bg-[#0F1135] text-white col-span-2 md:col-span-1",children:[t.jsx("div",{className:"p-2 md:p-3 bg-indigo-500 text-white rounded-lg md:rounded-2xl shrink-0",children:t.jsx(Eb,{className:"h-4 w-4 md:h-5 md:w-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] md:text-[9px] font-black text-indigo-300 uppercase tracking-widest truncate",children:"Live Cycle"}),t.jsx("p",{className:"text-sm md:text-xl font-black truncate",children:f?f.name:"Resting"})]})]}),t.jsxs(kt,{className:"flex items-center space-x-3 md:space-x-4 p-4 md:p-5 border-none shadow-sm transition-all",children:[t.jsx("div",{className:"p-2 md:p-3 bg-orange-50 rounded-lg md:rounded-2xl shrink-0",children:t.jsx(yc,{className:"text-orange-600 h-4 w-4 md:h-5 md:w-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] md:text-[9px] font-black text-slate-400 uppercase tracking-widest truncate",children:"Liquidity"}),t.jsxs("p",{className:"text-sm md:text-xl font-black text-slate-900 leading-none",children:["$",(w.totalValue/1e3).toFixed(1),"k"]})]})]}),t.jsxs(kt,{className:"flex items-center space-x-3 md:space-x-4 p-4 md:p-5 border-none shadow-sm transition-all",children:[t.jsx("div",{className:`p-2 md:p-3 rounded-lg md:rounded-2xl shrink-0 ${w.criticalCount>0?"bg-rose-50 text-rose-600 animate-pulse":"bg-slate-100 text-slate-400"}`,children:t.jsx(mt,{className:"h-4 w-4 md:h-5 md:w-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:`text-[7px] md:text-[9px] font-black uppercase tracking-widest truncate ${w.criticalCount>0?"text-rose-500":"text-slate-400"}`,children:"Flags"}),t.jsx("p",{className:"text-sm md:text-xl font-black text-slate-900 leading-none",children:w.criticalCount})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 md:gap-6",children:[t.jsxs(kt,{className:"lg:col-span-5 p-0 overflow-hidden border-slate-100 shadow-sm rounded-2xl md:rounded-[2rem]",children:[t.jsxs("div",{className:"p-5 md:p-6 border-b border-slate-100 flex items-center justify-between bg-white",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ra,{size:16,className:"text-indigo-600"}),t.jsx("h3",{className:"text-[10px] md:text-[11px] font-black text-slate-900 uppercase tracking-widest",children:"Shift Protocol"})]}),t.jsx("span",{className:"text-[7px] font-black text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg uppercase",children:"Verified"})]}),t.jsx("div",{className:"p-5 md:p-6",children:t.jsx("div",{className:"p-4 md:p-5 bg-slate-900 rounded-xl md:rounded-[2rem] space-y-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-white/5 pt-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-[7px] font-black text-white/30 uppercase",children:"End Session"}),t.jsx("p",{className:"text-[10px] font-black text-white uppercase",children:"SAT 05:00"})]}),t.jsxs("div",{className:"space-y-1 text-right",children:[t.jsx("p",{className:"text-[7px] font-black text-white/30 uppercase",children:"Resume Session"}),t.jsx("p",{className:"text-[10px] font-black text-emerald-400 uppercase",children:"MON 07:30"})]})]})})})]}),t.jsxs(kt,{className:"lg:col-span-7 p-0 overflow-hidden border-slate-100 shadow-sm rounded-2xl md:rounded-[2rem]",children:[t.jsx("div",{className:"p-5 md:p-6 border-b border-slate-100 flex items-center justify-between bg-white",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(oa,{size:16,className:"text-indigo-600"}),t.jsx("h3",{className:"text-[10px] md:text-[11px] font-black text-slate-900 uppercase tracking-widest",children:"Active Cycle"})]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50/50 text-[8px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-50",children:[t.jsx("th",{className:"py-3 px-6",children:"Shift Domain"}),t.jsx("th",{className:"py-3 px-6 text-right",children:"Coverage"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-50",children:d.map((E,b)=>{var m;return t.jsxs("tr",{className:"hover:bg-slate-50/30 transition-colors",children:[t.jsx("td",{className:"py-3 px-6",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`p-1 rounded-lg ${E.type===lt.DAY?"bg-orange-50 text-orange-600":"bg-slate-900 text-white"}`,children:E.type===lt.DAY?t.jsx(si,{size:12}):t.jsx(ei,{size:12})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-black text-slate-900 uppercase text-[10px] leading-none",children:E.name}),t.jsxs("p",{className:"text-[7px] font-bold text-slate-400 uppercase mt-1",children:[E.startTime,"  ",E.endTime]})]})]})}),t.jsx("td",{className:"py-3 px-6 text-right",children:t.jsxs("span",{className:"text-[10px] font-black text-indigo-600 uppercase",children:[((m=c[b])==null?void 0:m.members.length)||0," PERS"]})})]},E.id)})})]})})]})]})]})},om=({initialMember:c,teamId:d,sections:x=[],onSave:o,onCancel:y})=>{const[S,q]=p.useState((c==null?void 0:c.name)||""),[A,w]=p.useState((c==null?void 0:c.role)||"Member"),[f,E]=p.useState((c==null?void 0:c.section)||x[0]||"General"),[b,m]=p.useState(!1),[_,M]=p.useState(""),D=H=>{if(H.preventDefault(),!S.trim())return;const F=b?_.trim():f;if(!F)return alert("Please specify a section.");o({name:S,role:A,section:F,teamId:(c==null?void 0:c.teamId)||d,id:c==null?void 0:c.id})};return t.jsx("tr",{className:"bg-indigo-50/30",children:t.jsx("td",{colSpan:6,className:"py-6 px-10",children:t.jsxs("form",{onSubmit:D,className:"flex flex-wrap items-end gap-6 max-w-5xl",children:[t.jsxs("div",{className:"flex flex-col flex-1 min-w-[240px]",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:"Full Name"}),t.jsx("input",{autoFocus:!0,className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-2.5 text-sm font-bold text-slate-800 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm transition-all",value:S,onChange:H=>q(H.target.value),placeholder:"Full Name"})]}),t.jsxs("div",{className:"flex flex-col min-w-[180px]",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:"Role"}),t.jsxs("select",{className:"bg-white border border-slate-200 rounded-xl px-4 py-2.5 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm appearance-none cursor-pointer",value:A,onChange:H=>w(H.target.value),children:[t.jsx("option",{value:"Member",children:"Staff"}),t.jsx("option",{value:"Assistant Supervisor",children:"Assistant Supervisor"}),t.jsx("option",{value:"Workshop Supervisor",children:"Shift Supervisor"}),A!=="Member"&&A!=="Assistant Supervisor"&&A!=="Workshop Supervisor"&&t.jsx("option",{value:A,children:A})]})]}),t.jsxs("div",{className:"flex flex-col min-w-[220px]",children:[t.jsxs("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-1",children:["Section",t.jsx("button",{type:"button",onClick:()=>m(!b),className:"ml-2 text-indigo-600 hover:underline normal-case font-black text-[8px] uppercase",children:b?"(List)":"(Custom)"})]}),b?t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-2.5 text-sm font-bold text-slate-800 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm transition-all",value:_,onChange:H=>M(H.target.value),placeholder:"Section Name"}):t.jsx("select",{className:"bg-white border border-slate-200 rounded-xl px-4 py-2.5 text-sm font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm appearance-none cursor-pointer",value:f,onChange:H=>E(H.target.value),children:(x||[]).map(H=>t.jsx("option",{value:H,children:H},H))})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{type:"submit",className:"bg-slate-900 text-white px-8 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 flex items-center shadow-xl shadow-indigo-100 transition-all active:scale-95",children:[t.jsx(nt,{size:14,className:"mr-2"})," Save"]}),t.jsxs("button",{type:"button",onClick:y,className:"bg-white border border-slate-200 text-slate-400 px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-slate-50 flex items-center transition-all",children:[t.jsx(ht,{size:14,className:"mr-2"})," Cancel"]})]})]})})})},Ib=({teams:c=[],shifts:d=[],sections:x=[],onMoveMember:o,onAddMember:y,onUpdateMember:S,onDeleteMember:q,hasPermission:A})=>{const[w,f]=p.useState(!1),[E,b]=p.useState(null),[m,_]=p.useState(null),M=A("shifts","update","teams"),D=A("shifts","create","teams"),H=A("shifts","delete","teams"),F=(g,z)=>{H&&confirm(`Remove ${z} from this roster?`)&&q(g)};return t.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500 max-w-full",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 bg-white p-4 rounded-2xl border border-slate-100 shadow-sm mx-1",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("h2",{className:"text-sm font-black text-slate-900 uppercase tracking-tight truncate",children:"Team Management"}),t.jsx("p",{className:"text-[8px] text-slate-400 font-black uppercase tracking-widest mt-0.5",children:"Staff Assignments"})]}),M&&t.jsxs("button",{onClick:()=>{f(!w),b(null),_(null)},className:`w-full sm:w-auto flex items-center justify-center space-x-2 px-5 py-2.5 rounded-xl font-black uppercase text-[8.5px] tracking-widest transition-all border ${w?"bg-slate-900 border-slate-900 text-white shadow-md":"bg-white border-slate-100 text-slate-400 hover:border-indigo-100"}`,children:[t.jsx(hb,{size:14}),t.jsx("span",{children:w?"Done":"Edit Teams"})]})]}),t.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 lg:gap-6 mx-1",children:d.map((g,z)=>{const C=c[z];if(!C)return null;const ie=C.members.find(j=>j.id===C.supervisorId)||C.members.find(j=>j.role==="Workshop Supervisor"),k=C.members.find(j=>j.id===C.assistantSupervisorId)||C.members.find(j=>j.role==="Assistant Supervisor"),v=C.members.length,Y=(x||[]).reduce((j,V)=>{const K=C.members.filter(W=>W.section===V);return K.length>0&&(j[V]=K),j},{});return t.jsxs(kt,{className:"p-0 overflow-hidden border-slate-100 shadow-sm rounded-[2rem]",title:"",headerAction:t.jsxs("div",{className:"flex flex-col items-start gap-3 p-5 w-full border-b border-slate-50 bg-slate-50/20",children:[t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-md shrink-0 ${g.type===lt.DAY?"bg-orange-50 text-orange-600":"bg-slate-900 text-white"}`,children:g.type===lt.DAY?t.jsx(si,{size:20}):t.jsx(ei,{size:20})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-tight leading-none truncate",children:g.name}),t.jsxs("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.15em] mt-1.5",children:[g.type," SHIFT"]})]})]}),t.jsxs("div",{className:"text-right shrink-0",children:[t.jsx("p",{className:"text-xl font-black text-slate-900 leading-none",children:v}),t.jsx("p",{className:"text-[8px] font-black text-slate-300 uppercase mt-1 tracking-widest",children:"Staff"})]})]}),w&&D&&t.jsxs("button",{onClick:()=>b(E===C.id?null:C.id),className:"w-full bg-indigo-50 text-indigo-700 py-3 rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-indigo-100 transition-colors flex items-center justify-center border border-indigo-100 shadow-sm",children:[t.jsx(to,{size:14,className:"mr-2"})," Add Employee"]})]}),children:[t.jsxs("div",{className:"bg-white px-5 py-4 flex gap-4 sm:items-center border-b border-slate-50",children:[t.jsxs("div",{className:"flex items-center space-x-3 bg-slate-50/50 p-2.5 rounded-xl border border-slate-100 flex-1 min-w-0 shadow-inner",children:[t.jsx(Ve,{size:14,className:"text-indigo-500 shrink-0"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Supervisor"}),t.jsx("p",{className:"text-[9px] font-black text-slate-800 leading-none truncate uppercase",children:(ie==null?void 0:ie.name)||"Unassigned"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 bg-slate-50/50 p-2.5 rounded-xl border border-slate-100 flex-1 min-w-0 shadow-inner",children:[t.jsx(fs,{size:14,className:"text-slate-400 shrink-0"}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Assistant"}),t.jsx("p",{className:"text-[9px] font-black text-slate-800 leading-none truncate uppercase",children:(k==null?void 0:k.name)||"Unassigned"})]})]})]}),t.jsxs("div",{className:"max-h-[500px] overflow-y-auto no-scrollbar",children:[E===C.id&&t.jsx("div",{className:"p-4 bg-indigo-50/30 border-b border-indigo-100 animate-in slide-in-from-top-2",children:t.jsx(om,{teamId:C.id,sections:x,onSave:j=>{y({...j,teamName:g.name}),b(null)},onCancel:()=>b(null)})}),Object.keys(Y).length===0?t.jsx("div",{className:"py-20 text-center",children:t.jsx("p",{className:"text-[10px] font-black text-slate-200 uppercase tracking-widest",children:"No staff assigned"})}):Object.entries(Y).map(([j,V])=>t.jsxs("div",{className:"flex flex-col",children:[t.jsx("div",{className:"bg-slate-50/50 sticky top-0 z-10 px-5 py-2.5 border-b border-slate-100 backdrop-blur-sm",children:t.jsxs("h4",{className:"text-[8px] font-black text-indigo-600/60 uppercase tracking-[0.2em]",children:[j," UNIT"]})}),t.jsx("div",{className:"divide-y divide-slate-50",children:V.map(K=>t.jsx("div",{className:"group hover:bg-indigo-50/10 transition-all duration-300",children:m===K.id?t.jsx("div",{className:"p-4 bg-white border-y border-indigo-100",children:t.jsx(om,{initialMember:K,teamId:C.id,sections:x,onSave:W=>{S(W),_(null)},onCancel:()=>_(null)})}):t.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[t.jsxs("div",{className:"flex items-center space-x-4 min-w-0",children:[t.jsx("div",{className:"w-10 h-10 bg-white border border-slate-100 rounded-xl flex items-center justify-center text-indigo-600 font-black text-sm shrink-0 shadow-sm transition-all group-hover:shadow-indigo-100",children:K.name.charAt(0)}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm font-black text-slate-900 uppercase tracking-tight truncate",children:K.name}),K.role!=="Member"&&t.jsx("span",{className:"text-[7px] font-black uppercase text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded-md border border-indigo-100/50 shrink-0",children:K.role==="Workshop Supervisor"?"SUP":"ASST"})]}),t.jsx("span",{className:"text-[8px] font-black text-slate-200 uppercase tracking-widest mt-1",children:K.id})]})]}),t.jsx("div",{className:"flex items-center space-x-3",children:w?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center bg-slate-50 rounded-xl border border-slate-100 p-0.5 shadow-inner",children:[M&&t.jsx("button",{onClick:()=>_(K.id),className:"p-2 text-slate-400 hover:text-indigo-600 transition-colors",children:t.jsx(Jd,{size:14})}),H&&t.jsx("button",{onClick:()=>F(K.id,K.name),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:t.jsx(bb,{size:14})})]}),t.jsxs("div",{className:"relative",children:[t.jsx("select",{className:"text-[8px] font-black uppercase bg-white border border-slate-200 rounded-xl pl-3 pr-8 py-2.5 outline-none appearance-none text-indigo-600 w-24 shadow-sm",value:C.id,onChange:W=>o(K.id,W.target.value),disabled:!M,children:c.map(W=>t.jsx("option",{value:W.id,children:W.name},W.id))}),t.jsx(as,{className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:12})]})]}):t.jsxs("div",{className:"text-right hidden sm:block",children:[t.jsx("p",{className:"text-[7px] font-black text-slate-300 uppercase tracking-widest leading-none",children:"Access Level"}),t.jsx("p",{className:"text-[9px] font-black text-slate-500 uppercase mt-1",children:K.accessLevel||"Staff"})]})})]})},K.id))})]},j))]})]},g.id)})})]})},qb=({teams:c,shifts:d,history:x,onSave:o,setSystemBusy:y,hasPermission:S,currentUser:q})=>{var se;const[A,w]=p.useState(((se=d[0])==null?void 0:se.id)||""),[f,E]=p.useState(new Date().toISOString().split("T")[0]),[b,m]=p.useState(!1),[_,M]=p.useState({}),[D,H]=p.useState(!1),[F,g]=p.useState(!1),z=S("shifts","create","attendance"),C=q.visibilityScope||"SELF",ie=p.useMemo(()=>x.some(N=>N.date===f&&N.shiftId===A),[x,f,A]);p.useEffect(()=>{if(ie){const N=x.filter(ae=>ae.date===f&&ae.shiftId===A),Z={};N.forEach(ae=>{Z[ae.employeeId]={status:ae.status,totalHours:ae.status==="Present"?ae.overtimeHours+8:0,comment:ae.comment||""}}),M(Z)}else M({})},[ie,f,A,x]);const k=p.useMemo(()=>{const N=new Date(f);return b?Fl.HOLIDAY:N.getDay()===0?Fl.SUNDAY:Fl.STANDARD},[b,f]),v=p.useMemo(()=>k===Fl.STANDARD?1.5:2,[k]),Y=d.findIndex(N=>N.id===A),j=c[Y],V=p.useMemo(()=>j?C==="ALL"?j.members:C==="TEAM"?q.teamId===j.id||q.teamName===j.name?j.members:j.members.filter(Z=>Z.id===q.id):j.members.filter(N=>N.id===q.id):[],[j,C,q]),K=(N,Z)=>{ie||!z||M(ae=>{var L;return{...ae,[N]:{status:Z,totalHours:Z==="Present"?8:0,comment:((L=ae[N])==null?void 0:L.comment)||""}}})},W=(N,Z)=>{if(ie||!z)return;const ae=parseFloat(Z)||0;M(L=>({...L,[N]:{...L[N],totalHours:ae,status:ae>0?"Present":"Absent"}}))},ue=(N,Z)=>{ie||!z||M(ae=>({...ae,[N]:{...ae[N]||{status:"Present",totalHours:8},comment:Z}}))},ee=async()=>{if(!j||ie||!z)return;H(!0),y(!0);const N=V.map(Z=>{const ae=_[Z.id]||{status:"Present",totalHours:8,comment:""},L=Math.max(0,ae.totalHours-8);return{date:f,employeeId:Z.id,shiftId:A,status:ae.status,overtimeHours:L,comment:ae.comment,dayType:k}});try{await Mm(N),o(N),g(!0),setTimeout(()=>g(!1),5e3)}catch{alert("Error: Attendance save failed.")}finally{H(!1),y(!1)}};return t.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500 max-w-full",children:[C!=="ALL"&&t.jsxs("div",{className:"bg-indigo-50 text-indigo-600 p-3 rounded-xl border border-indigo-100 flex items-center space-x-3 mx-1",children:[t.jsx(Ve,{size:14}),t.jsxs("p",{className:"text-[8px] font-black uppercase tracking-widest leading-none",children:["Access: View limited to ",C==="TEAM"?"Team":"Personal"," records."]})]}),F&&t.jsx("div",{className:"bg-emerald-600 text-white p-3 rounded-xl shadow-lg flex items-center justify-between mx-1",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(nt,{size:14}),t.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest",children:"Attendance Saved"})]})}),ie&&t.jsx("div",{className:"bg-slate-900 text-white p-3 rounded-xl shadow-md flex items-center justify-between border border-white/5 mx-1",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(mt,{size:14,className:"text-indigo-400"}),t.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest",children:"Record Locked"})]})}),t.jsxs("div",{className:`p-4 rounded-[1.5rem] border transition-all duration-300 mx-1 ${ie?"bg-slate-50 border-slate-200":"bg-white border-slate-100 shadow-sm"}`,children:[t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 flex-1",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Date"}),t.jsx("input",{type:"date",disabled:D,className:"w-full bg-slate-50 border border-slate-100 rounded-lg px-3 py-2.5 text-[10px] font-black text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500",value:f,onChange:N=>E(N.target.value)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Shift"}),t.jsxs("div",{className:"relative",children:[t.jsx("select",{disabled:D,className:"w-full bg-slate-50 border border-slate-200 rounded-lg pl-3 pr-10 py-2.5 text-[10px] font-black text-slate-700 outline-none appearance-none uppercase focus:ring-1 focus:ring-indigo-500 shadow-sm",value:A,onChange:N=>w(N.target.value),children:d.map(N=>t.jsxs("option",{value:N.id,children:[N.name," (",N.type,")"]},N.id))}),t.jsx(as,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:14})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Day Type"}),t.jsxs("button",{disabled:ie||D||!z,onClick:()=>m(!b),className:`w-full flex items-center justify-center space-x-2 py-2.5 rounded-lg border transition-all font-black text-[10px] uppercase ${b?"bg-indigo-600 border-indigo-600 text-white shadow-sm":"bg-white border-slate-100 text-slate-400"}`,children:[t.jsx(sg,{size:14}),t.jsx("span",{children:b?"Holiday":"Standard"})]})]})]}),t.jsx("div",{className:"lg:w-48 flex items-end",children:z&&t.jsxs("button",{onClick:ee,disabled:D||ie,className:`w-full py-3 rounded-xl font-black uppercase text-[9px] tracking-widest shadow-lg transition-all flex items-center justify-center space-x-2 ${ie||D?"bg-slate-200 text-slate-400":"bg-slate-900 text-white hover:bg-indigo-600"}`,children:[D?t.jsx(Ia,{className:"animate-spin",size:14}):t.jsx(Wd,{size:14}),t.jsx("span",{children:D?"Saving...":ie?"Locked":"Save Attendance"})]})})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3 px-1 border-t border-slate-50 pt-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 border border-slate-100 px-3 py-1.5 rounded-lg",children:[t.jsx(lm,{size:12,className:"text-indigo-600"}),t.jsxs("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-[0.1em]",children:["Standard OT: ",t.jsx("span",{className:"text-slate-900 ml-1",children:"1.5x"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-indigo-50 border border-indigo-100 px-3 py-1.5 rounded-lg",children:[t.jsx(lm,{size:12,className:"text-indigo-600"}),t.jsxs("p",{className:"text-[8px] font-black text-indigo-700 uppercase tracking-[0.1em]",children:["Double OT: ",t.jsx("span",{className:"text-indigo-900 ml-1",children:"2.0x"})]})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-100 shadow-xl rounded-[2rem] overflow-hidden mx-1",children:[t.jsxs("div",{className:"hidden md:grid grid-cols-12 bg-slate-50/80 backdrop-blur-md text-[8px] font-black text-slate-400 uppercase tracking-[0.25em] border-b border-slate-100 px-8 py-4",children:[t.jsx("div",{className:"col-span-5",children:"Employee"}),t.jsx("div",{className:"col-span-2 text-center",children:"Status"}),t.jsx("div",{className:"col-span-2 text-center",children:"Total Hours"}),t.jsx("div",{className:"col-span-3 text-right",children:"Summary"})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:V.length===0?t.jsxs("div",{className:"py-24 text-center",children:[t.jsx(oa,{size:48,className:"mx-auto text-slate-100 mb-4"}),t.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em]",children:"No staff found"})]}):V.map(N=>{const Z=_[N.id]||{status:"Present",totalHours:8,comment:""},ae=Math.max(0,Z.totalHours-8),L=Z.totalHours-ae+ae*v;return t.jsx("div",{className:"group p-5 md:px-8 md:py-4 hover:bg-indigo-50/20 transition-all duration-300",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-5 items-center",children:[t.jsx("div",{className:"col-span-1 md:col-span-5",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-10 h-10 bg-white border border-slate-100 rounded-xl flex items-center justify-center text-indigo-600 font-black text-sm shrink-0 shadow-sm group-hover:shadow-indigo-100 transition-all duration-500",children:N.name.charAt(0)}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("span",{className:`font-black text-slate-900 text-sm uppercase tracking-tight truncate ${N.role!=="Member"?"text-indigo-600":"text-slate-900"}`,children:N.name}),t.jsxs("div",{className:"flex items-center space-x-2 mt-0.5",children:[t.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest truncate",children:N.section}),t.jsx("span",{className:"text-[8px] font-bold text-slate-100",children:"|"}),t.jsx("span",{className:"text-[8px] font-black text-slate-200 uppercase tracking-widest",children:N.id})]}),Z.status==="Absent"&&t.jsxs("div",{className:"mt-3 flex items-center space-x-2 animate-in slide-in-from-top-1 duration-300",children:[t.jsx("div",{className:"w-6 h-6 bg-rose-50 text-rose-500 rounded-lg flex items-center justify-center shadow-inner border border-rose-100",children:t.jsx(Kd,{size:10,className:"shrink-0"})}),t.jsx("input",{type:"text",disabled:ie||D||!z,className:"bg-white border-2 border-rose-100 rounded-xl px-3 py-2 text-[8px] font-black uppercase text-rose-700 w-full outline-none focus:ring-4 focus:ring-rose-500/5 focus:border-rose-300 transition-all placeholder:text-rose-200 shadow-sm",placeholder:"REASON FOR ABSENCE...",value:Z.comment||"",onChange:re=>ue(N.id,re.target.value)})]})]})]})}),t.jsxs("div",{className:"col-span-1 md:col-span-4 flex items-center justify-between md:justify-around gap-4 md:gap-0",children:[t.jsxs("div",{className:"flex items-center space-x-1.5 p-0.5 bg-slate-50 border border-slate-100 rounded-xl w-fit",children:[t.jsx("button",{disabled:ie||D||!z,onClick:()=>K(N.id,"Present"),className:`px-4 py-1.5 rounded-lg text-[9px] font-black uppercase transition-all active:scale-90 ${Z.status==="Present"?"bg-emerald-600 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:"P"}),t.jsx("button",{disabled:ie||D||!z,onClick:()=>K(N.id,"Absent"),className:`px-4 py-1.5 rounded-lg text-[9px] font-black uppercase transition-all active:scale-90 ${Z.status==="Absent"?"bg-rose-600 text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:"A"})]}),t.jsx("div",{className:"flex items-center space-x-2 bg-white md:bg-transparent px-3 py-1.5 md:p-0 rounded-xl md:rounded-none border border-slate-100 md:border-0 shadow-sm md:shadow-none",children:t.jsx("input",{type:"number",step:"0.5",disabled:ie||D||!z,className:"w-14 bg-slate-50 md:bg-white border border-slate-200 rounded-lg text-center text-sm font-black py-2 outline-none focus:ring-2 focus:ring-indigo-500 shadow-inner",value:Z.totalHours||"",onChange:re=>W(N.id,re.target.value),placeholder:"8.0"})})]}),t.jsx("div",{className:"col-span-1 md:col-span-3 text-right",children:t.jsxs("div",{className:"flex md:flex-col items-center md:items-end justify-between md:justify-center border-t md:border-0 border-slate-50 pt-3 md:pt-0",children:[t.jsx("span",{className:"md:hidden text-[8px] font-black text-slate-300 uppercase tracking-widest",children:"Total:"}),t.jsxs("div",{className:"flex flex-col items-end",children:[t.jsx("span",{className:`text-[11px] font-black ${ae>0?"text-indigo-600":"text-slate-200"}`,children:ae>0?`+${ae.toFixed(1)}H OT`:"Standard"}),t.jsxs("span",{className:"text-[7px] font-black text-slate-400 uppercase mt-1 tracking-widest leading-none",children:[L.toFixed(1),"H Weighted"]})]})]})})]})},N.id)})})]}),t.jsxs("div",{className:"px-8 py-4 bg-[#0F1135] rounded-[1.5rem] flex flex-col md:flex-row items-center justify-between text-white shadow-2xl border border-white/5 gap-3 mx-1",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${D?"bg-amber-500":"bg-emerald-500"}`}),t.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:D?"Synchronizing...":"Register Connection Ready"})]}),t.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-[0.1em]",children:["Total Personnel: ",t.jsx("span",{className:"text-white font-black ml-1.5",children:V.length})]})]})]})},Gb=({history:c=[],shifts:d=[],teams:x=[],currentUser:o,resolveStaffIdentity:y})=>{const[S,q]=p.useState(null),A=p.useMemo(()=>x.flatMap(m=>m.members||[]),[x]),w=o.visibilityScope||"SELF",f=p.useMemo(()=>{if(w==="ALL")return c;if(w==="TEAM"){const m=A.filter(_=>_.teamId===o.teamId||_.teamName===o.teamName).map(_=>_.id);return c.filter(_=>m.includes(_.employeeId))}return c.filter(m=>m.employeeId===o.id)},[c,w,o,A]),E=p.useMemo(()=>(f||[]).reduce((m,_)=>{if(!_||!_.date)return m;const M=_.shiftId||"s1",D=`${_.date}-${M}`;m[D]||(m[D]={key:D,date:_.date,shiftId:M,present:0,absent:0,totalOT:0,records:[],dayType:_.dayType||Fl.STANDARD});const H=m[D];return _.status==="Present"?H.present++:H.absent++,H.totalOT+=_.overtimeHours||0,H.records.push(_),m},{}),[f]),b=p.useMemo(()=>Object.values(E).sort((m,_)=>String(_.date||"").localeCompare(String(m.date||""))),[E]);return t.jsx("div",{className:"space-y-4 animate-in fade-in duration-500 max-w-full",children:t.jsxs("div",{className:"bg-white border border-slate-100 shadow-xl rounded-[2rem] overflow-hidden mx-1",children:[t.jsxs("div",{className:"hidden md:grid grid-cols-12 bg-slate-50/80 backdrop-blur-md text-[8px] font-black text-slate-400 uppercase tracking-[0.25em] border-b border-slate-100 px-8 py-4",children:[t.jsx("div",{className:"col-span-3",children:"Filing Date"}),t.jsx("div",{className:"col-span-3 text-center",children:"Domain"}),t.jsx("div",{className:"col-span-3 text-center",children:"Metrics"}),t.jsx("div",{className:"col-span-3 text-right",children:"Registry Hash"})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:b.length===0?t.jsxs("div",{className:"py-24 text-center",children:[t.jsx(Fd,{size:48,className:"mx-auto text-slate-100 mb-4"}),t.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em]",children:"No archive records"})]}):b.map(m=>{const _=d.find(C=>C.id===m.shiftId),M=d.findIndex(C=>C.id===m.shiftId),D=x[M],H=(D==null?void 0:D.members.find(C=>C.id===D.supervisorId))||(D==null?void 0:D.members.find(C=>C.role.includes("Supervisor"))),F=(H==null?void 0:H.name)||"Shift Supervisor",g=S===m.key,z=String(m.date||"").split(" ")[0].split("T")[0];return t.jsxs(zs.Fragment,{children:[t.jsx("div",{onClick:()=>q(g?null:m.key),className:`group p-5 md:px-8 md:py-5 hover:bg-indigo-50/20 transition-all duration-300 cursor-pointer ${g?"bg-indigo-50/30":""}`,children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-center",children:[t.jsx("div",{className:"col-span-1 md:col-span-3",children:t.jsx("div",{className:"flex items-center space-x-3",children:t.jsx("div",{className:"bg-indigo-600 text-white px-3 py-1.5 rounded-xl shadow-lg shadow-indigo-100 animate-in slide-in-from-left-2",children:t.jsx("span",{className:"text-[11px] font-black tracking-tight uppercase",children:z})})})}),t.jsx("div",{className:"col-span-1 md:col-span-3 text-center",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{className:"flex items-center space-x-2 justify-center",children:[t.jsx("div",{className:`p-1.5 rounded-lg border shadow-inner ${(_==null?void 0:_.type)===lt.DAY?"bg-orange-50 border-orange-100 text-orange-600":"bg-slate-900 border-slate-800 text-white"}`,children:(_==null?void 0:_.type)===lt.DAY?t.jsx(si,{size:12}):t.jsx(ei,{size:12})}),t.jsx("span",{className:"text-[10px] font-black text-slate-700 uppercase tracking-tight",children:(_==null?void 0:_.name)||"Shift"})]}),t.jsxs("p",{className:"text-[7px] font-bold text-slate-400 uppercase mt-1 tracking-widest truncate max-w-[120px]",children:["Sup: ",F]})]})}),t.jsx("div",{className:"col-span-1 md:col-span-3 text-center",children:t.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[t.jsxs("span",{className:"text-[9px] font-black text-emerald-600 uppercase bg-emerald-50 px-2 py-0.5 rounded border border-emerald-100",children:[m.present,"P"]}),t.jsxs("span",{className:"text-[9px] font-black text-rose-600 uppercase bg-rose-50 px-2 py-0.5 rounded border border-rose-100",children:[m.absent,"A"]}),t.jsxs("span",{className:"text-[9px] font-black text-indigo-600 uppercase",children:["+",m.totalOT.toFixed(1),"H"]})]})}),t.jsx("div",{className:"col-span-1 md:col-span-3 text-right",children:t.jsxs("div",{className:"flex items-center justify-end space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-1.5 text-slate-300 font-bold uppercase tracking-[0.15em] text-[8px] opacity-40 group-hover:opacity-100 transition-opacity",children:[t.jsx(ss,{size:10,className:"opacity-50"}),t.jsxs("span",{children:["ID: ",m.key.split("-")[0]]})]}),t.jsx(as,{size:18,className:`transition-transform duration-500 text-slate-300 ${g?"rotate-180 text-indigo-600":""}`})]})})]})}),g&&t.jsxs("div",{className:"bg-slate-50 border-y border-slate-100 p-6 md:px-12 animate-in slide-in-from-top-4 duration-500 shadow-inner",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between px-2",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-indigo-600",children:[t.jsx(fs,{size:14}),t.jsxs("span",{className:"text-[9px] font-black uppercase tracking-widest",children:["Certified By: ",F]})]}),t.jsx("div",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest",children:"Master Register Log"})]}),t.jsx("div",{className:"bg-white border border-slate-200 rounded-[1.8rem] overflow-hidden shadow-xl",children:t.jsx("div",{className:"divide-y divide-slate-50",children:m.records.map((C,ie)=>{const k=y(C.employeeId),v=k!=null&&k.name&&k.name!==C.employeeId?k.name:C.employeeId==="UNKNOWN"?"System Personnel":C.employeeId,Y=(k==null?void 0:k.section)||"Operations";return t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 px-8 py-4 items-center",children:[t.jsx("div",{className:"col-span-1 md:col-span-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-50 flex items-center justify-center text-slate-400 font-black text-[10px] border border-slate-100 shadow-inner",children:v.charAt(0)}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-[11px] font-black uppercase text-slate-800 truncate",children:v}),t.jsxs("span",{className:"text-[8px] font-bold text-slate-400 opacity-60",children:["| ",Y]})]}),C.comment&&t.jsxs("span",{className:"text-[8px] font-black text-rose-500 uppercase tracking-widest mt-1 flex items-center gap-1.5",children:[t.jsx(Kd,{size:8}),C.comment]}),t.jsxs("span",{className:"text-[8px] font-medium text-slate-400 uppercase tracking-widest opacity-30 mt-0.5",children:["Trace Ref: ",C.employeeId]})]})]})}),t.jsx("div",{className:"col-span-1 md:col-span-3 text-center",children:t.jsx("span",{className:`text-[8px] font-black uppercase px-3 py-1 rounded-lg border tracking-widest ${C.status==="Present"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:C.status})}),t.jsx("div",{className:"col-span-1 md:col-span-3 text-right",children:t.jsxs("div",{className:"flex flex-col items-end",children:[t.jsxs("span",{className:"text-[10px] font-black text-slate-900 tabular-nums",children:[(8+C.overtimeHours).toFixed(1),"H Total"]}),C.overtimeHours>0&&t.jsxs("span",{className:"text-[7px] font-black text-indigo-500 uppercase",children:["+",C.overtimeHours.toFixed(1),"H OT"]})]})})]},ie)})})})]})]},m.key)})})]})})},Vb=[{id:"dashboard",label:"Dashboard",icon:t.jsx(hc,{size:14})},{id:"registry",label:"Staff List",icon:t.jsx(Xd,{size:14}),subHubs:[{id:"enrollment",label:"Enrollment"},{id:"audit",label:"Audit Vault"}]},{id:"shifts",label:"Shifts",icon:t.jsx(da,{size:14}),subHubs:[{id:"attendance",label:"Daily Register"},{id:"teams",label:"Teams & Roster"},{id:"history",label:"Archive"}]},{id:"inventory",label:"Tools",icon:t.jsx(Dt,{size:14}),subHubs:[{id:"master",label:"Tool Registry"},{id:"sectional",label:"Section Tools"},{id:"archives",label:"Daily Logs"},{id:"audit",label:"Inspection"},{id:"resolution",label:"Repairs"}]},{id:"settings",label:"System Settings",icon:t.jsx(eo,{size:14})}],As=({active:c,color:d="bg-indigo-600"})=>t.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-500 ${c?d+" shadow-[0_0_8px_rgba(79,70,229,0.4)] scale-110":"bg-slate-100 opacity-20"}`}),Bb=({currentUser:c})=>{const d=c.permissions||[],x=c.visibilityScope||"SELF";return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-700",children:[t.jsxs("div",{className:"bg-[#0F1135] rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 blur-[100px] rounded-full"}),t.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center space-x-5",children:[t.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-2xl border border-white/10 flex items-center justify-center text-indigo-400 shadow-inner",children:t.jsx(qa,{size:32})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-black uppercase tracking-tight leading-none",children:"Authorization Matrix"}),t.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-[0.25em] mt-2",children:"Personal Security & Access Blueprint"})]})]}),t.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-[2rem] px-6 py-4 flex items-center space-x-5 shadow-inner",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-[10px] font-black",children:c.name.charAt(0)}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-black uppercase tracking-tight text-white",children:c.name}),t.jsxs("p",{className:"text-[7.5px] font-black text-indigo-400 uppercase tracking-widest mt-0.5",children:["Tier: ",c.accessLevel]})]})]}),t.jsx("div",{className:"h-8 w-px bg-white/10 hidden sm:block"}),t.jsxs("div",{className:"hidden sm:flex items-center space-x-2 text-emerald-400",children:[t.jsx(Ve,{size:14}),t.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Active Identity Verified"})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[t.jsxs(kt,{title:"",className:"p-0 overflow-hidden border-slate-100 rounded-[2.5rem] shadow-xl",children:[t.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 bg-white flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"p-3 bg-slate-50 rounded-2xl border border-slate-100 text-indigo-600 shadow-sm",children:t.jsx(mt,{size:20})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-[12px] font-black text-slate-900 uppercase tracking-widest",children:"Functional Hub Permissions"}),t.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Granular Authorized Activity Ledger"})]})]}),t.jsxs("div",{className:"hidden md:flex items-center space-x-6 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{active:!0,color:"bg-indigo-600"}),t.jsx("span",{children:"READ"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{active:!0,color:"bg-emerald-500"}),t.jsx("span",{children:"CREATE"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{active:!0,color:"bg-amber-500"}),t.jsx("span",{children:"UPDATE"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(As,{active:!0,color:"bg-rose-500"}),t.jsx("span",{children:"DELETE"})]})]})]}),t.jsx("div",{className:"overflow-x-auto no-scrollbar",children:t.jsxs("table",{className:"w-full text-left table-fixed",children:[t.jsx("thead",{className:"bg-slate-50/80 backdrop-blur-md text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] border-b border-slate-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"py-5 px-10 w-[45%]",children:"Operational Unit / Hub"}),t.jsx("th",{className:"py-5 px-4 text-center",children:"Authorization Status"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-50",children:Vb.map(o=>{var S;const y=d.includes(`${o.id}_view`);return t.jsxs(zs.Fragment,{children:[t.jsxs("tr",{className:`transition-all duration-300 ${y?"bg-white":"bg-slate-50/20 grayscale opacity-40"}`,children:[t.jsx("td",{className:"py-4 px-10",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`p-2 rounded-xl border ${y?"bg-indigo-50 border-indigo-100 text-indigo-600":"bg-white border-slate-100 text-slate-300 shadow-inner"}`,children:o.icon}),t.jsx("span",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:o.label})]})}),t.jsx("td",{className:"py-4 px-4",children:t.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[t.jsx(As,{active:d.includes(`${o.id}_view`),color:"bg-indigo-600"}),t.jsx(As,{active:d.includes(`${o.id}_create`),color:"bg-emerald-500"}),t.jsx(As,{active:d.includes(`${o.id}_update`),color:"bg-amber-500"}),t.jsx(As,{active:d.includes(`${o.id}_delete`),color:"bg-rose-500"})]})})]}),(S=o.subHubs)==null?void 0:S.map(q=>{const A=d.includes(`${o.id}_${q.id}_view`);return t.jsxs("tr",{className:`border-l-8 transition-all duration-300 ${A?"border-indigo-100 bg-white":"border-transparent bg-slate-50/20 grayscale opacity-30"}`,children:[t.jsx("td",{className:"py-3 px-16",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(hm,{size:6,className:A?"text-indigo-300":"text-slate-200"}),t.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:q.label})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center justify-center space-x-3 opacity-60",children:[t.jsx(As,{active:d.includes(`${o.id}_${q.id}_view`),color:"bg-indigo-600"}),t.jsx(As,{active:d.includes(`${o.id}_${q.id}_create`),color:"bg-emerald-500"}),t.jsx(As,{active:d.includes(`${o.id}_${q.id}_update`),color:"bg-amber-500"}),t.jsx(As,{active:d.includes(`${o.id}_${q.id}_delete`),color:"bg-rose-500"})]})})]},`${o.id}_${q.id}`)})]},o.id)})})]})})]}),t.jsxs("div",{className:"p-8 bg-[#FAF9F6] border border-slate-100 rounded-[2.5rem] grid grid-cols-1 md:grid-cols-2 gap-10 shadow-sm",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 text-indigo-600",children:[t.jsx(lg,{size:20}),t.jsx("h5",{className:"text-[11px] font-black uppercase tracking-[0.3em]",children:"Data Sovereignty Perimeter"})]}),t.jsx("p",{className:"text-[10px] font-medium text-slate-500 uppercase leading-relaxed max-w-md",children:"Your visibility scope is restricted by institutional governance protocols. This perimeter dictates the breadth of personnel and asset data accessible during your session."})]}),t.jsx("div",{className:"flex items-center md:justify-end",children:t.jsxs("div",{className:`p-6 border rounded-[2rem] shadow-sm flex items-center space-x-5 transition-all duration-700 ${x==="ALL"?"bg-[#0F1135] border-[#0F1135] text-white shadow-indigo-100":x==="TEAM"?"bg-indigo-50 border-indigo-100 text-indigo-700":"bg-white border-slate-200 text-slate-600"}`,children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest mb-1 opacity-60",children:"Active Visibility Scope"}),t.jsx("p",{className:"text-sm font-black uppercase tracking-tight",children:x==="ALL"?"Global Institutional Access":x==="TEAM"?"Unit-Restricted Hub":"Individual Filing Path"})]}),t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-inner ${x==="ALL"?"bg-indigo-500":"bg-white"}`,children:t.jsx(mt,{size:24,className:x==="ALL"?"text-white":"text-indigo-600"})})]})})]})]}),t.jsxs("div",{className:"px-8 py-4 bg-slate-50 border border-slate-100 rounded-2xl flex items-center justify-center space-x-3",children:[t.jsx(Fn,{size:14,className:"text-slate-400"}),t.jsxs("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["Protocol: SOP-SEC-PRIV-V5  Identity: ",c.id,"  Trace Index: Enabled"]})]})]})},Yb=({shifts:c,config:d,onUpdateShifts:x,onUpdateConfig:o,currentUser:y,tierDefaults:S})=>{const[q,A]=p.useState("shifts"),[w,f]=p.useState(c),[E,b]=p.useState(d),[m,_]=p.useState(!1);p.useEffect(()=>{c&&c.length>0&&f(c)},[c]),p.useEffect(()=>{d&&b(d)},[d]);const M=(g,z)=>{f(C=>C.map(ie=>ie.id===g?{...ie,...z}:ie))},D=()=>{const g=String.fromCharCode(65+w.length),z={id:`s${Date.now()}`,name:`Shift ${g}`,type:lt.DAY,startTime:"08:00",endTime:"17:00"};f([...w,z])},H=g=>{w.length<=1||confirm("Are you sure you want to delete this shift? Personnel assignments will be cleared.")&&f(z=>z.filter(C=>C.id!==g))},F=async()=>{_(!0),await _m(w,E)?(x(w),o(E),alert("Settings updated successfully.")):alert("Error: Settings failed to save."),_(!1)};return t.jsxs("div",{className:"space-y-4 max-w-5xl mx-auto pb-20",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-black text-slate-900 tracking-tight uppercase",children:"Admin Settings"}),t.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-0.5",children:"System Configuration"})]}),q!=="matrix"&&t.jsxs("button",{onClick:F,disabled:m,className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-black uppercase tracking-widest text-[9px] hover:bg-indigo-600 shadow-xl shadow-slate-200 transition-all flex items-center space-x-2 disabled:bg-slate-300",children:[m?t.jsx(da,{className:"animate-spin",size:12}):t.jsx(Nm,{size:12}),t.jsx("span",{children:m?"Saving...":"Save Settings"})]})]}),t.jsxs("div",{className:"flex items-center space-x-1 bg-slate-100 p-1 rounded-2xl w-fit border border-slate-200/50 mb-6",children:[t.jsxs("button",{onClick:()=>A("shifts"),className:`flex items-center space-x-2 px-5 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${q==="shifts"?"bg-white text-indigo-700 shadow-sm border border-slate-100":"text-slate-400 hover:text-slate-600"}`,children:[t.jsx(_s,{size:12}),t.jsx("span",{children:"Shifts"})]}),t.jsxs("button",{onClick:()=>A("policy"),className:`flex items-center space-x-2 px-5 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${q==="policy"?"bg-white text-indigo-700 shadow-sm border border-slate-100":"text-slate-400 hover:text-slate-600"}`,children:[t.jsx(mt,{size:12}),t.jsx("span",{children:"Policy"})]}),t.jsxs("button",{onClick:()=>A("roster"),className:`flex items-center space-x-2 px-5 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${q==="roster"?"bg-white text-indigo-700 shadow-sm border border-slate-100":"text-slate-400 hover:text-slate-600"}`,children:[t.jsx(Dt,{size:12}),t.jsx("span",{children:"Sections"})]}),t.jsxs("button",{onClick:()=>A("matrix"),className:`flex items-center space-x-2 px-5 py-2.5 rounded-xl text-[9px] font-black uppercase tracking-widest transition-all ${q==="matrix"?"bg-white text-indigo-700 shadow-sm border border-slate-100":"text-slate-400 hover:text-slate-600"}`,children:[t.jsx(qa,{size:12}),t.jsx("span",{children:"Permissions"})]})]}),q==="matrix"?t.jsx(Bb,{currentUser:y,tierDefaults:S}):t.jsxs(t.Fragment,{children:[q==="shifts"&&t.jsx(kt,{title:"",headerAction:t.jsxs("div",{className:"flex items-center justify-between w-full",children:[t.jsx("span",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:"Shift Schedule"}),t.jsxs("button",{onClick:D,className:"text-indigo-600 hover:text-indigo-800 flex items-center text-[9px] font-black uppercase tracking-widest",children:[t.jsx(us,{size:12,className:"mr-1"})," Add Shift"]})]}),children:t.jsx("div",{className:"space-y-2 mt-4",children:w.map(g=>t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 p-3 border border-slate-100 rounded-xl items-center bg-white hover:border-indigo-100 transition-all shadow-sm",children:[t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("label",{className:"text-[8px] text-slate-400 font-black uppercase tracking-widest",children:"Shift Name"}),t.jsx("input",{type:"text",value:g.name||"",onChange:z=>M(g.id,{name:z.target.value}),className:"border border-slate-100 rounded-lg px-2 py-1.5 font-black text-slate-800 outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50 text-[10px]"})]}),t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("label",{className:"text-[8px] text-slate-400 font-black uppercase tracking-widest",children:"Type"}),t.jsxs("div",{className:"flex bg-slate-100 p-0.5 rounded-lg",children:[t.jsx("button",{onClick:()=>M(g.id,{type:lt.DAY}),className:`flex-1 py-1 rounded-md text-[8px] font-black uppercase transition-all ${g.type===lt.DAY?"bg-white text-orange-600 shadow-sm":"text-slate-400"}`,children:"Day"}),t.jsx("button",{onClick:()=>M(g.id,{type:lt.NIGHT}),className:`flex-1 py-1 rounded-md text-[8px] font-black uppercase transition-all ${g.type===lt.NIGHT?"bg-white text-indigo-600 shadow-sm":"text-slate-400"}`,children:"Night"})]})]}),t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("label",{className:"text-[8px] text-slate-400 font-black uppercase tracking-widest",children:"Start Time"}),t.jsx("input",{type:"time",value:g.startTime||"00:00",onChange:z=>M(g.id,{startTime:z.target.value}),className:"border border-slate-100 rounded-lg px-2 py-1.5 font-bold outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50 text-[10px]"})]}),t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("label",{className:"text-[8px] text-slate-400 font-black uppercase tracking-widest",children:"End Time"}),t.jsx("input",{type:"time",value:g.endTime||"00:00",onChange:z=>M(g.id,{endTime:z.target.value}),className:"border border-slate-100 rounded-lg px-2 py-1.5 font-bold outline-none focus:ring-2 focus:ring-indigo-500 bg-slate-50 text-[10px]"})]}),t.jsx("div",{className:"flex justify-end pt-2",children:t.jsx("button",{onClick:()=>H(g.id),className:"text-rose-300 hover:text-rose-500 p-2 transition-colors",children:t.jsx(il,{size:14})})})]},g.id))})}),q==="policy"&&t.jsx("div",{className:"space-y-6",children:t.jsxs(kt,{title:"",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[t.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl text-white",children:t.jsx(mt,{size:14})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:"Company Policy"}),t.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase",children:"Work Rules and Rates"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Notes"}),t.jsx("textarea",{className:"w-full border border-slate-100 rounded-xl p-3 text-[10px] font-bold outline-none h-20 bg-slate-50/50",value:E.nightToDayTransition,onChange:g=>b({...E,nightToDayTransition:g.target.value})})]})}),t.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-indigo-600 mb-2",children:[t.jsx(jm,{size:14}),t.jsx("span",{className:"text-[9px] font-black uppercase",children:"Standard Rates"})]}),t.jsxs("ul",{className:"text-[10px] text-slate-500 font-bold space-y-2 italic",children:[t.jsx("li",{children:" Weekday Overtime: 1.5x Rate"}),t.jsx("li",{children:" Weekend/Holiday Overtime: 2.0x Rate"})]})]})]})]})}),q==="roster"&&t.jsx(kt,{title:"Department Sections",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2",children:E.sections.map((g,z)=>t.jsx("div",{className:"bg-slate-50 px-3 py-2 rounded-xl border border-slate-100 text-[9px] font-black text-slate-900 uppercase flex justify-between items-center",children:t.jsx("span",{children:g})},z))})})]})]})},$b=({formData:c,setFormData:d,teams:x,sections:o,isCustomRole:y,setIsCustomRole:S,isCustomSection:q,setIsCustomSection:A,activeTeamData:w})=>t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:13}),t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl pl-10 pr-3 py-2.5 text-[10px] font-bold text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500 shadow-sm transition-all",placeholder:"Name",value:c.name||"",onChange:f=>d({...c,name:f.target.value})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1 ml-1",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Role"}),t.jsx("button",{type:"button",onClick:()=>S(!y),className:"text-[7px] font-black text-indigo-500 uppercase tracking-tighter hover:underline",children:y?"Use List":"Custom"})]}),y?t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl px-3 py-2.5 text-[10px] font-bold text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500 shadow-sm",placeholder:"Role Title",value:c.role||"",onChange:f=>d({...c,role:f.target.value})}):t.jsxs("select",{className:"w-full bg-white border border-slate-200 rounded-xl px-3 py-2.5 text-[10px] font-bold text-slate-700 outline-none appearance-none cursor-pointer",value:c.role||"Member",onChange:f=>d({...c,role:f.target.value}),children:[t.jsx("option",{value:"Member",children:"Staff"}),t.jsx("option",{value:"Workshop Supervisor",children:"Shift Supervisor"}),t.jsx("option",{value:"Operations Manager",children:"Operations Manager"}),t.jsx("option",{value:"Workshop Manager",children:"Workshop Manager"}),t.jsx("option",{value:"Stores Supervisor",children:"Stores Supervisor"}),t.jsx("option",{value:"Assistant Supervisor",children:"Assistant Supervisor"})]})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1 ml-1",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Section"}),t.jsx("button",{type:"button",onClick:()=>A(!q),className:"text-[7px] font-black text-indigo-500 uppercase tracking-tighter hover:underline",children:q?"Use List":"Custom"})]}),q?t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl px-3 py-2.5 text-[10px] font-bold text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500 shadow-sm",placeholder:"Section Name",value:c.section||"",onChange:f=>d({...c,section:f.target.value})}):t.jsxs("select",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-2.5 text-[10px] font-bold text-slate-700 outline-none appearance-none cursor-pointer",value:c.section||"",onChange:f=>d({...c,section:f.target.value,department:Sm[f.target.value]||"Operations"}),children:[t.jsx("option",{value:"",children:"Select Section..."}),(o||[]).map(f=>t.jsx("option",{value:f,children:f},f))]})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Team Assignment"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-start",children:[t.jsxs("div",{className:"md:col-span-7 relative",children:[t.jsx(oa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:13}),t.jsxs("select",{className:"w-full bg-white border border-slate-200 rounded-xl pl-10 pr-3 py-2.5 text-[10px] font-bold text-slate-700 outline-none appearance-none cursor-pointer shadow-sm",value:c.teamId||"",onChange:f=>{const E=x.find(b=>b.id===f.target.value);d({...c,teamId:f.target.value,teamName:E==null?void 0:E.name})},children:[t.jsx("option",{value:"",children:"Unassigned..."}),x.map(f=>t.jsx("option",{value:f.id,children:f.name},f.id))]})]}),t.jsx("div",{className:"md:col-span-5",children:w?t.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 rounded-xl p-2 animate-in slide-in-from-right-2 duration-300",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ve,{size:10,className:"text-indigo-600"}),t.jsx("p",{className:"text-[7.5px] font-black text-indigo-900 uppercase truncate leading-none",children:w.supervisorName})]}),t.jsxs("p",{className:"text-[6px] font-bold text-indigo-400 uppercase tracking-widest mt-1 ml-4",children:[w.memberCount," Staff Members"]})]}):t.jsx("div",{className:"h-[36px] border border-dashed border-slate-200 rounded-xl flex items-center justify-center text-slate-300",children:t.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:"Select Team"})})})]})]})]}),Qb=({formData:c,setFormData:d})=>t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 border-t border-slate-100 pt-4",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:13}),t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-2 text-[10px] font-bold text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500 shadow-sm",placeholder:"+254 --- ---",value:c.phone||"",onChange:x=>d({...c,phone:x.target.value})})]})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1 ml-1",children:"Personal Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(vm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:13}),t.jsx("input",{type:"email",className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-2 text-[10px] font-bold text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500 shadow-sm",placeholder:"staff@company.com",value:c.email||"",onChange:x=>d({...c,email:x.target.value})})]})]})]}),Zb=[{id:"dashboard",label:"Dashboard",icon:t.jsx(hc,{size:12})},{id:"registry",label:"Staff List",icon:t.jsx(Xd,{size:12}),subHubs:[{id:"enrollment",label:"Enrollment"},{id:"audit",label:"Audit Vault"}]},{id:"shifts",label:"Shifts",icon:t.jsx(da,{size:12}),subHubs:[{id:"attendance",label:"Daily Register"},{id:"teams",label:"Teams & Roster"},{id:"history",label:"Archive"}]},{id:"inventory",label:"Tools",icon:t.jsx(Dt,{size:12}),subHubs:[{id:"master",label:"Tool Registry"},{id:"sectional",label:"Section Tools"},{id:"archives",label:"Daily Logs"},{id:"audit",label:"Inspection"},{id:"maintenance",label:"Repairs"}]},{id:"managerial",label:"Management",icon:t.jsx(jc,{size:12}),subHubs:[{id:"snapshot",label:"Operational Snapshot"},{id:"audit",label:"Compliance Audit"},{id:"resolution",label:"Resolution Hub"}]},{id:"settings",label:"System Settings",icon:t.jsx(eo,{size:12})}],Xb=({checked:c,onChange:d,label:x,subtitle:o})=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{type:"button",onClick:()=>d(!c),className:`w-8 h-4 rounded-full relative transition-all duration-300 flex-shrink-0 ${c?"bg-indigo-600":"bg-slate-300"}`,children:t.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full shadow-md transition-transform duration-300 ${c?"translate-x-4":"translate-x-1"}`})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[9px] font-black text-slate-800 uppercase tracking-tight leading-none",children:x}),t.jsx("span",{className:"text-[7px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:o})]})]}),ca=({checked:c,onChange:d})=>t.jsx("button",{type:"button",onClick:d,className:`w-4 h-4 rounded flex items-center justify-center border transition-all ${c?"bg-indigo-600 border-indigo-600":"bg-white border-slate-300 hover:border-indigo-400"}`,children:c&&t.jsx($d,{size:12,className:"text-white",strokeWidth:4})}),Fb=({formData:c,setFormData:d,autoUsername:x,setAutoUsername:o,availableTiers:y,showGranular:S,setShowGranular:q,applyTierDefaults:A,togglePermission:w,getModuleScope:f,setModuleScope:E})=>t.jsxs("div",{className:"pt-4 border-t border-slate-100 space-y-3 md:space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between bg-slate-50 p-2.5 rounded-2xl border border-slate-100 shadow-inner",children:[t.jsx(Xb,{checked:!!c.hasSystemAccess,onChange:b=>d({...c,hasSystemAccess:b}),label:"Login Access",subtitle:"Enable for this user"}),c.hasSystemAccess&&t.jsxs("button",{type:"button",onClick:()=>q(!S),className:"flex items-center space-x-1 text-[8.5px] font-black text-indigo-600 uppercase tracking-widest",children:[t.jsx(Nm,{size:12}),t.jsxs("span",{children:[S?"Hide":"Edit"," Permissions"]})]})]}),c.hasSystemAccess&&t.jsxs("div",{className:"space-y-3 md:space-y-4 animate-in slide-in-from-top-4 duration-500",children:[t.jsxs("div",{className:"bg-white p-4 rounded-[1.5rem] border border-slate-200 shadow-sm space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(qa,{size:14,className:"text-indigo-600"}),t.jsx("span",{className:"text-[9px] font-black uppercase text-slate-900 tracking-widest",children:"Account Details"})]}),t.jsxs("div",{className:"flex items-center space-x-1.5",children:[t.jsx("label",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest",children:"Suggest Email"}),t.jsx(ca,{checked:x,onChange:()=>o(!x)})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Username"}),t.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-[10px] font-bold text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Username",value:c.username||"",onChange:b=>d({...c,username:b.target.value})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Password"}),t.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-[10px] font-bold text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500",placeholder:"Initial Password",value:c.tempPassword||"",onChange:b=>d({...c,tempPassword:b.target.value})})]})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Role Permission Tier"}),t.jsxs("div",{className:"relative",children:[t.jsx(wm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:13}),t.jsxs("select",{className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-10 py-3 text-xs font-black text-slate-900 outline-none appearance-none shadow-sm",value:c.accessLevel||"",onChange:b=>{const m=b.target.value;d(_=>({..._,accessLevel:m})),A(m)},children:[t.jsx("option",{value:"",disabled:!0,children:"Select Level..."}),y.map(b=>t.jsx("option",{value:b,children:b},b))]}),t.jsx(as,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),S&&t.jsxs("div",{className:"space-y-2.5 animate-in zoom-in-95",children:[t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ve,{size:14,className:"text-indigo-600"}),t.jsx("h4",{className:"text-[9px] font-black text-slate-900 uppercase tracking-widest",children:"Access Controls"})]}),t.jsx("button",{type:"button",onClick:()=>c.accessLevel&&A(c.accessLevel),className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest hover:underline",children:"Reset Defaults"})]}),t.jsx("div",{className:"bg-white border border-slate-100 rounded-[1.5rem] overflow-hidden shadow-sm",children:t.jsxs("table",{className:"w-full text-left table-fixed",children:[t.jsx("thead",{className:"bg-slate-50",children:t.jsxs("tr",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100",children:[t.jsx("th",{className:"py-2 px-4 w-[40%]",children:"Feature"}),t.jsx("th",{className:"py-2 px-1 text-center",children:"R"}),t.jsx("th",{className:"py-2 px-1 text-center",children:"C"}),t.jsx("th",{className:"py-2 px-1 text-center",children:"U"}),t.jsx("th",{className:"py-2 px-1 text-center",children:"D"}),t.jsx("th",{className:"py-2 px-4 text-right w-[25%]",children:"Scope"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-50",children:Zb.map(b=>{var M;const m=c.permissions||[],_=f(b.id);return t.jsxs(zs.Fragment,{children:[t.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[t.jsx("td",{className:"py-1.5 px-4",children:t.jsx("span",{className:"text-[9px] font-black text-slate-800 uppercase truncate block",children:b.label})}),t.jsx("td",{className:"py-1.5 px-1 text-center",children:t.jsx(ca,{checked:m.includes(`${b.id}_view`),onChange:()=>w(`${b.id}_view`)})}),t.jsx("td",{className:"py-1.5 px-1 text-center",children:t.jsx(ca,{checked:m.includes(`${b.id}_create`),onChange:()=>w(`${b.id}_create`)})}),t.jsx("td",{className:"py-1.5 px-1 text-center",children:t.jsx(ca,{checked:m.includes(`${b.id}_update`),onChange:()=>w(`${b.id}_update`)})}),t.jsx("td",{className:"py-1.5 px-1 text-center",children:t.jsx(ca,{checked:m.includes(`${b.id}_delete`),onChange:()=>w(`${b.id}_delete`)})}),t.jsx("td",{className:"py-1.5 px-4 text-right",children:t.jsx("button",{type:"button",onClick:()=>{const D=_==="SELF"?"TEAM":_==="TEAM"?"ALL":"SELF";E(b.id,D)},className:"px-2 py-0.5 rounded bg-slate-50 border border-slate-100 text-[6.5px] font-black text-slate-500 uppercase tracking-widest hover:border-indigo-200",children:_==="SELF"?"Self":_==="TEAM"?"Unit":"Global"})})]}),(M=b.subHubs)==null?void 0:M.map(D=>t.jsxs("tr",{className:"bg-slate-50/30 hover:bg-slate-100/50 transition-colors",children:[t.jsx("td",{className:"py-1.5 px-8",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(hm,{size:4,className:"text-slate-300"}),t.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase truncate block",children:D.label})]})}),t.jsx("td",{className:"py-1.5 px-1 text-center",children:t.jsx(ca,{checked:m.includes(`${b.id}_${D.id}_view`),onChange:()=>w(`${b.id}_${D.id}_view`)})}),t.jsx("td",{className:"py-1.5 px-1 text-center",children:t.jsx(ca,{checked:m.includes(`${b.id}_${D.id}_create`),onChange:()=>w(`${b.id}_${D.id}_create`)})}),t.jsx("td",{className:"py-1.5 px-1 text-center",children:t.jsx(ca,{checked:m.includes(`${b.id}_${D.id}_update`),onChange:()=>w(`${b.id}_${D.id}_update`)})}),t.jsx("td",{className:"py-1.5 px-1 text-center",children:t.jsx(ca,{checked:m.includes(`${b.id}_${D.id}_delete`),onChange:()=>w(`${b.id}_${D.id}_delete`)})}),t.jsx("td",{className:"py-1.5 px-4 text-right"})]},`${b.id}_${D.id}`))]},b.id)})})]})})]})]})]}),Kb=({formData:c,setFormData:d,isProcessing:x,editingId:o,onSave:y,onCancel:S,teams:q,sections:A=[],tierDefaults:w={}})=>{const[f,E]=p.useState(!1),[b,m]=p.useState(!1),[_,M]=p.useState(!1),[D,H]=p.useState(!1),F=p.useMemo(()=>{if(!c.teamId)return null;const k=q.find(Y=>Y.id===c.teamId);if(!k)return null;const v=k.members.find(Y=>Y.id===k.supervisorId||Y.role==="Workshop Supervisor");return{supervisorName:(v==null?void 0:v.name)||"Unassigned",memberCount:k.members.length}},[c.teamId,q]);p.useEffect(()=>{D&&c.email&&d(k=>({...k,username:k.email}))},[D,c.email,d]);const g=p.useCallback(k=>{const v=(w==null?void 0:w[k])||Vd[k];v&&d(Y=>({...Y,accessLevel:k,permissions:Array.isArray(v.permissions)?[...v.permissions]:[],visibilityScope:v.scope||"SELF"}))},[w,d]),z=p.useCallback(k=>{d(v=>{const Y=v.permissions||[],j=Y.includes(k)?Y.filter(V=>V!==k):[...Y,k];return{...v,permissions:j}})},[d]),C=p.useCallback(k=>{const v=(c.permissions||[]).find(Y=>Y.startsWith(`${k}_scope_`));return(v==null?void 0:v.split("_").pop())||"SELF"},[c.permissions]),ie=p.useCallback((k,v)=>{d(Y=>{const V=(Y.permissions||[]).filter(K=>!K.startsWith(`${k}_scope_`));return{...Y,permissions:[...V,`${k}_scope_${v}`]}})},[d]);return t.jsx("div",{className:"fixed inset-0 z-[200] flex items-end sm:items-center justify-center p-0 sm:p-4 bg-slate-900/60 backdrop-blur-sm overflow-hidden",children:t.jsxs("div",{className:"relative bg-[#F8FAFF] w-full max-w-lg h-full sm:h-auto sm:rounded-[1.8rem] shadow-2xl animate-in slide-in-from-bottom sm:zoom-in-95 duration-300 flex flex-col sm:max-h-[95vh]",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between bg-white shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-[#0F1135] rounded-lg md:rounded-xl flex items-center justify-center text-white shadow-lg",children:t.jsx(to,{size:18})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs md:text-sm font-black text-slate-900 uppercase tracking-tight",children:o?"Update Identity":"Enroll Personnel"}),t.jsx("p",{className:"text-[7px] md:text-[8px] text-slate-400 font-bold uppercase tracking-widest",children:"Master Registry Access"})]})]}),t.jsx("button",{onClick:S,className:"text-slate-300 hover:text-slate-900 transition-colors p-1",children:t.jsx(ht,{size:24})})]}),t.jsxs("div",{className:"flex-1 p-5 md:p-6 space-y-5 md:space-y-6 overflow-y-auto no-scrollbar bg-white sm:bg-transparent",children:[t.jsx($b,{formData:c,setFormData:d,teams:q,sections:A,isCustomRole:b,setIsCustomRole:m,isCustomSection:_,setIsCustomSection:M,activeTeamData:F}),t.jsx(Qb,{formData:c,setFormData:d}),t.jsx(Fb,{formData:c,setFormData:d,autoUsername:D,setAutoUsername:H,availableTiers:Object.keys(w||{}),showGranular:f,setShowGranular:E,applyTierDefaults:g,togglePermission:z,getModuleScope:C,setModuleScope:ie})]}),t.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex items-center gap-3 shrink-0 pb-10 sm:pb-5",children:[t.jsx("button",{onClick:S,className:"flex-1 py-3.5 rounded-xl border border-slate-200 text-slate-400 font-black uppercase text-[9px] tracking-widest hover:bg-slate-50 transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:y,disabled:x,className:"flex-[1.5] py-3.5 rounded-xl bg-[#0F1135] text-white font-black uppercase text-[9px] tracking-[0.15em] hover:bg-indigo-600 transition-all flex items-center justify-center space-x-2 disabled:opacity-50 shadow-xl shadow-indigo-900/10 active:scale-95",children:[x?t.jsx(Ia,{size:14,className:"animate-spin"}):t.jsx(Wd,{size:14}),t.jsx("span",{children:o?"Sync Updates":"Save"})]})]})]})})},Jb=({staff:c,history:d,onClose:x})=>{const[o,y]=p.useState("details"),S=p.useMemo(()=>d.filter(A=>A.employeeId===c.id).sort((A,w)=>w.date.localeCompare(A.date)),[d,c.id]),q=p.useMemo(()=>{const A=S.filter(f=>f.status==="Present").length,w=S.length;return{present:A,reliability:w>0?A/w*100:0}},[S]);return t.jsxs("div",{className:"fixed inset-0 z-[160] flex items-end sm:items-center justify-center p-0 sm:p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:x}),t.jsxs("div",{className:"relative bg-white w-full max-w-lg h-full sm:h-auto sm:rounded-[2rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom sm:zoom-in-95 duration-300 flex flex-col sm:max-h-[90vh]",children:[t.jsxs("div",{className:"p-5 md:p-6 border-b border-slate-100 flex items-center justify-between bg-white shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-[#0F1135] rounded-xl md:rounded-2xl flex items-center justify-center text-white shadow-lg shrink-0",children:t.jsx(Ms,{size:20,className:"md:size-6"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h3",{className:"text-sm md:text-base font-black text-slate-900 uppercase tracking-tight leading-none truncate",children:c.name}),t.jsxs("p",{className:"text-[7px] md:text-[9px] text-slate-400 font-bold uppercase tracking-widest mt-1.5 truncate",children:["TRACE ID: ",c.id]})]})]}),t.jsx("button",{onClick:x,className:"text-slate-300 hover:text-slate-900 transition-colors p-2",children:t.jsx(ht,{size:24})})]}),t.jsxs("div",{className:"flex bg-slate-50/80 px-5 md:px-6 py-2 gap-2 border-b border-slate-100 shrink-0",children:[t.jsx("button",{onClick:()=>y("details"),className:`flex-1 sm:flex-none px-4 md:px-6 py-2.5 text-[8px] md:text-[9px] font-black uppercase tracking-widest transition-all rounded-xl border ${o==="details"?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white text-slate-400 border-slate-200 hover:text-indigo-600"}`,children:"General Info"}),t.jsx("button",{onClick:()=>y("history"),className:`flex-1 sm:flex-none px-4 md:px-6 py-2.5 text-[8px] md:text-[9px] font-black uppercase tracking-widest transition-all rounded-xl border ${o==="history"?"bg-indigo-600 text-white border-indigo-600 shadow-md":"bg-white text-slate-400 border-slate-200 hover:text-indigo-600"}`,children:"Attendance"})]}),t.jsxs("div",{className:"flex-1 p-5 md:p-8 space-y-5 md:space-y-6 overflow-y-auto no-scrollbar bg-white",children:[o==="details"&&t.jsxs("div",{className:"space-y-5 md:space-y-6 animate-in fade-in duration-300",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[t.jsxs("div",{className:"bg-slate-50 p-4 md:p-5 rounded-[1.2rem] md:rounded-[1.5rem] border border-slate-100 flex items-center space-x-4 shadow-sm",children:[t.jsx("div",{className:"p-2 md:p-2.5 bg-white rounded-xl shadow-sm text-indigo-600 border border-slate-100",children:t.jsx(Pn,{size:18,className:"md:size-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] md:text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Shift Domain"}),t.jsx("p",{className:"text-[10px] md:text-[11px] font-black text-slate-900 uppercase truncate mt-0.5",children:c.teamName||"Unassigned"})]})]}),t.jsxs("div",{className:"bg-slate-50 p-4 md:p-5 rounded-[1.2rem] md:rounded-[1.5rem] border border-slate-100 flex items-center space-x-4 shadow-sm",children:[t.jsx("div",{className:"p-2 md:p-2.5 bg-white rounded-xl shadow-sm text-indigo-600 border border-slate-100",children:t.jsx(fs,{size:18,className:"md:size-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] md:text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Supervisor"}),t.jsx("p",{className:"text-[10px] md:text-[11px] font-black text-slate-900 uppercase truncate mt-0.5",children:c.supervisorName||"Not Assigned"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[t.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-[1.2rem] md:rounded-[1.5rem] border border-slate-100 flex items-center space-x-4 shadow-sm",children:[t.jsx("div",{className:"p-2 md:p-2.5 bg-slate-50 rounded-xl text-slate-400 border border-slate-100",children:t.jsx(Yd,{size:18,className:"md:size-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] md:text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Unit / Role"}),t.jsx("p",{className:"text-[10px] md:text-[11px] font-black text-slate-800 uppercase mt-0.5",children:c.section||"Unspecified"})]})]}),t.jsxs("div",{className:"bg-white p-4 md:p-5 rounded-[1.2rem] md:rounded-[1.5rem] border border-slate-100 flex items-center space-x-4 shadow-sm",children:[t.jsx("div",{className:"p-2 md:p-2.5 bg-slate-50 rounded-xl text-slate-400 border border-slate-100",children:t.jsx(Pd,{size:18,className:"md:size-5"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] md:text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Phone Link"}),t.jsx("p",{className:"text-[10px] md:text-[11px] font-black text-slate-800 uppercase mt-0.5",children:c.phone||"None Recorded"})]})]})]}),t.jsxs("div",{className:`p-5 md:p-6 rounded-[1.5rem] border flex items-center justify-between transition-colors shadow-sm ${c.hasSystemAccess?"bg-emerald-50 border-emerald-100":"bg-slate-50 border-slate-100"}`,children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`p-2.5 md:p-3 rounded-xl md:rounded-2xl shadow-sm ${c.hasSystemAccess?"bg-emerald-600 text-white":"bg-slate-200 text-slate-400"}`,children:t.jsx(gc,{size:18,className:"md:size-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[8px] md:text-[9px] font-black text-slate-900 uppercase tracking-widest",children:"Digital Access"}),t.jsx("p",{className:`text-[10px] md:text-[11px] font-black uppercase mt-0.5 ${c.hasSystemAccess?"text-emerald-600":"text-slate-400"}`,children:c.hasSystemAccess?"Session Enabled":"Access Restricted"})]})]}),c.hasSystemAccess&&t.jsxs("div",{className:"text-right hidden sm:block",children:[t.jsx("p",{className:"text-[7px] md:text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Authorization"}),t.jsx("span",{className:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-[8px] md:text-[9px] font-black text-slate-700 uppercase shadow-sm",children:c.accessLevel||"Staff"})]})]})]}),o==="history"&&t.jsxs("div",{className:"space-y-5 md:space-y-6 animate-in slide-in-from-right-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[t.jsxs("div",{className:"bg-slate-50 p-4 md:p-5 rounded-[1.2rem] md:rounded-[1.5rem] border border-slate-100 text-center shadow-inner",children:[t.jsx("p",{className:"text-[7px] md:text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Integrity Rate"}),t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(xb,{size:12,className:"text-emerald-500 md:size-3.5"}),t.jsxs("span",{className:"text-xl md:text-2xl font-black text-slate-900",children:[q.reliability.toFixed(0),"%"]})]})]}),t.jsxs("div",{className:"bg-slate-50 p-4 md:p-5 rounded-[1.2rem] md:rounded-[1.5rem] border border-slate-100 text-center shadow-inner",children:[t.jsx("p",{className:"text-[7px] md:text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Days Logged"}),t.jsx("span",{className:"text-xl md:text-2xl font-black text-slate-900",children:q.present})]})]}),t.jsxs("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden shadow-sm",children:[t.jsx("div",{className:"bg-slate-50 px-5 py-3 border-b border-slate-100",children:t.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Deployment Archive"})}),t.jsxs("div",{className:"max-h-64 sm:max-h-48 overflow-y-auto no-scrollbar divide-y divide-slate-50",children:[S.slice(0,10).map((A,w)=>t.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(cl,{size:14,className:"text-slate-300"}),t.jsx("span",{className:"text-[9px] md:text-[10px] font-black text-slate-700 uppercase",children:A.date})]}),t.jsx("span",{className:`text-[7px] md:text-[8px] font-black px-2.5 py-1 rounded border tracking-widest ${A.status==="Present"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:A.status==="Present"?"SIGHTED":"ABSENT"})]},w)),S.length===0&&t.jsx("p",{className:"py-16 text-center text-[9px] md:text-[10px] font-black text-slate-200 uppercase tracking-widest",children:"No deployment history"})]})]})]})]}),t.jsxs("div",{className:"p-5 md:p-6 bg-slate-50 border-t border-slate-100 shrink-0 flex items-center justify-between pb-8 sm:pb-6",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-slate-400",children:[t.jsx(Ve,{size:14}),t.jsx("span",{className:"text-[7px] md:text-[8px] font-black uppercase tracking-widest",children:"VERIFIED IDENTITY"})]}),t.jsx("button",{onClick:x,className:"px-6 md:px-8 py-3 bg-[#0F1135] text-white rounded-xl font-black uppercase tracking-[0.2em] text-[9px] hover:bg-indigo-600 transition-all shadow-xl active:scale-95",children:"Close Entry"})]})]})]})},Pb=({teams:c=[],masterEmployees:d=[],history:x=[],sections:o=[],tierDefaults:y={},onAddMember:S,onUpdateMember:q,onDeleteMember:A,currentUser:w,isSystemBusy:f,setSystemBusy:E,hasPermission:b})=>{const[m,_]=p.useState(""),[M,D]=p.useState(!1),[H,F]=p.useState(!1),[g,z]=p.useState(null),[C,ie]=p.useState({}),[k,v]=p.useState(null),[Y,j]=p.useState(null),[V,K]=p.useState(null),W=b("registry","create","enrollment"),ue=b("registry","update","enrollment"),ee=b("registry","delete","enrollment"),se=b("registry","view","audit"),Z=(d&&d.length>0?d:c.flatMap(R=>R.members||[])).filter(R=>{const de=(m||"").toLowerCase(),xe=(R.name||"").toLowerCase(),G=(R.role||"").toLowerCase(),U=(R.section||"").toLowerCase();return xe.includes(de)||G.includes(de)||U.includes(de)}),ae=R=>{j(R),setTimeout(()=>j(null),3e3)},L=R=>{z(R.id),ie({...R}),D(!0)},re=async()=>{if(!C.name)return alert("Employee name is required.");F(!0),E(!0);try{const R={...C,id:(C.id||`SP-${Date.now().toString().slice(-4)}`).toString().trim(),status:C.status||"Active",role:C.role||"Member",department:C.department||"Operations",section:C.section||"General",contractHours:C.contractHours||48,hasSystemAccess:!!C.hasSystemAccess,permissions:C.permissions||[],visibilityScope:C.visibilityScope||"SELF"};if(!await Cm(R))throw new Error("Sync failure.");R.hasSystemAccess&&R.username&&await Rm(R.id,R.username,R.accessLevel||"Staff",R.tempPassword,R.permissions,R.visibilityScope),g?q(R):S(R),D(!1),z(null),ie({}),ae(g?"Identity Synchronized":"Personnel Enrolled")}catch(R){console.error(R),alert("Error saving employee.")}finally{F(!1),E(!1)}},h=async()=>{if(!V)return;const R=V;E(!0);try{await Tm(R),await Dm(R),A(R),K(null),ae("Record Purged")}catch(de){console.error(de),alert("Error purging record.")}finally{E(!1)}};return t.jsxs("div",{className:"max-w-[1400px] mx-auto space-y-6 animate-in fade-in duration-500 pb-20 relative",children:[Y&&t.jsx("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 z-[500] animate-in slide-in-from-top-4 duration-300",children:t.jsxs("div",{className:"bg-emerald-600 text-white px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-3 border border-emerald-500/50",children:[t.jsx(nt,{size:18}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:Y}),t.jsx("button",{onClick:()=>j(null),className:"ml-2 hover:opacity-70",children:t.jsx(ht,{size:14})})]})}),M&&t.jsx(Kb,{formData:C,setFormData:ie,isProcessing:H,editingId:g,onSave:re,onCancel:()=>{D(!1),z(null),ie({})},teams:c,sections:o,tierDefaults:y,setSystemBusy:E}),k&&t.jsx(Jb,{staff:k,history:x,onClose:()=>v(null),currentUser:w,setSystemBusy:E}),V&&t.jsx("div",{className:"fixed inset-0 z-[600] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2rem] shadow-2xl p-8 text-center animate-in zoom-in-95",children:[t.jsx("div",{className:"w-16 h-16 bg-rose-50 text-rose-600 rounded-[1.5rem] flex items-center justify-center mx-auto mb-6 shadow-inner",children:t.jsx(ms,{size:32})}),t.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase tracking-tight mb-2",children:"Delete Asset?"}),t.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed mb-8 px-4",children:"This action will permanently delete this personnel record and all associated credentials."}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("button",{onClick:()=>K(null),className:"py-4 bg-slate-50 text-slate-400 rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-slate-100 transition-all",children:"Cancel"}),t.jsx("button",{onClick:h,className:"py-4 bg-rose-600 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-xl shadow-rose-100 hover:bg-rose-700 active:scale-95 transition-all",children:"Delete"})]})]})}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-[#0F1135] rounded-2xl flex items-center justify-center text-white shadow-lg shrink-0",children:t.jsx(oa,{size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight leading-none",children:"Staff Registry"}),t.jsxs("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-1.5",children:["Last Managed: ",new Date().toLocaleDateString()]})]})]}),W&&t.jsxs("button",{type:"button",onClick:()=>{ie({}),z(null),D(!0)},className:"bg-indigo-600 text-white px-8 py-3.5 rounded-xl font-black uppercase tracking-[0.15em] text-[9px] hover:bg-[#0F1135] shadow-xl shadow-indigo-100 transition-all flex items-center justify-center space-x-2 active:scale-95",children:[t.jsx(to,{size:14}),t.jsx("span",{children:"Enroll Personnel"})]})]}),t.jsxs("div",{className:"w-full relative group",children:[t.jsx(xs,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-indigo-500 transition-colors",size:18}),t.jsx("input",{type:"text",className:"w-full bg-white border border-slate-100 rounded-[1.5rem] pl-16 pr-6 py-5 text-[10px] font-black text-slate-700 outline-none focus:ring-4 focus:ring-indigo-500/5 shadow-sm transition-all placeholder:text-slate-300 uppercase tracking-[0.2em]",placeholder:"Lookup Name or Role...",value:m,onChange:R=>_(R.target.value)})]}),t.jsxs("div",{className:"bg-white border border-slate-100 shadow-xl rounded-[2rem] overflow-hidden",children:[t.jsxs("div",{className:"hidden lg:grid grid-cols-12 bg-slate-50/80 backdrop-blur-md text-[8px] font-black text-slate-400 uppercase tracking-[0.25em] border-b border-slate-100 px-8 py-4",children:[t.jsx("div",{className:"col-span-4",children:"Personnel Information"}),t.jsx("div",{className:"col-span-3",children:"Unit / Role"}),t.jsx("div",{className:"col-span-3",children:"Sync Status"}),t.jsx("div",{className:"col-span-2 text-right",children:"Control"})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:Z.length===0?t.jsxs("div",{className:"py-24 text-center",children:[t.jsx(oa,{size:48,className:"mx-auto text-slate-100 mb-4"}),t.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em]",children:"No matching identity found"})]}):Z.map(R=>t.jsx("div",{className:"group p-6 lg:px-8 lg:py-4 hover:bg-indigo-50/20 transition-all duration-300",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-center",children:[t.jsx("div",{className:"col-span-1 lg:col-span-4",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-10 h-10 bg-white border border-slate-100 rounded-xl flex items-center justify-center text-indigo-600 font-black text-sm shrink-0 shadow-sm transition-all duration-500",children:R.name.charAt(0)}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("span",{className:"font-black text-slate-900 text-sm uppercase tracking-tight truncate",children:R.name}),t.jsx("span",{className:"text-[8px] font-black text-slate-200 uppercase tracking-widest",children:R.id})]})]})}),t.jsx("div",{className:"col-span-1 lg:col-span-3 flex items-center lg:block",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-[9px] font-black text-slate-600 uppercase tracking-wider",children:R.section}),t.jsx("span",{className:"text-slate-200",children:""}),t.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-tighter",children:R.role==="Member"?"Staff":R.role})]})}),t.jsx("div",{className:"col-span-1 lg:col-span-3 flex items-center lg:block",children:t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{className:"flex items-center space-x-1.5 bg-emerald-50 text-emerald-600 px-2.5 py-1 rounded-lg border border-emerald-100 shadow-sm shadow-emerald-100/50",children:[t.jsx(_s,{size:10}),t.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:"Verified Today"})]})})}),t.jsx("div",{className:"col-span-1 lg:col-span-2",children:t.jsxs("div",{className:"flex items-center justify-start lg:justify-end space-x-1.5 border-t lg:border-t-0 border-slate-50 pt-4 lg:pt-0 relative z-40",children:[se&&t.jsx("button",{type:"button",onClick:()=>v(R),className:"w-9 h-9 flex items-center justify-center text-slate-400 hover:text-indigo-600 bg-white border border-slate-100 hover:border-indigo-600 rounded-lg transition-all shadow-sm active:scale-90",children:t.jsx(gm,{size:16})}),ue&&t.jsx("button",{type:"button",onClick:()=>L(R),className:"w-9 h-9 flex items-center justify-center text-slate-400 hover:text-indigo-600 bg-white border border-slate-100 hover:border-indigo-600 rounded-lg transition-all shadow-sm active:scale-90",children:t.jsx(Og,{size:16})}),ee&&t.jsx("button",{type:"button",onClick:de=>{de.preventDefault(),de.stopPropagation(),K(R.id)},className:"w-9 h-9 flex items-center justify-center text-slate-400 hover:text-rose-600 bg-white border border-slate-100 hover:border-rose-600 rounded-lg transition-all shadow-sm active:scale-90",children:t.jsx(il,{size:16})})]})})]})},R.id))})]})]})},Wb=({currentUser:c,cloudTools:d,cloudUsageLogs:x,cloudPhysicalLogs:o,cloudAuditHistory:y,cloudMaintenanceHistory:S=[],masterEmployees:q,onUpdateTools:A,onUpdateUsageLogs:w,onUpdatePhysicalLogs:f,onUpdateAuditHistory:E,setSystemBusy:b,isSystemBusy:m})=>{var Gs,ul;const[_,M]=p.useState("inventory"),[D,H]=p.useState(""),[F,g]=p.useState("ALL"),[z,C]=p.useState("ALL"),[ie,k]=p.useState("ALL"),[v,Y]=p.useState("ALL"),[j,V]=p.useState("ALL"),[K,W]=p.useState(new Set),[ue,ee]=p.useState(null),[se,N]=p.useState(!1),[Z,ae]=p.useState(!1),[L,re]=p.useState(!1),[h,R]=p.useState(!1),[de,xe]=p.useState(!1),[G,U]=p.useState(null),[Q,te]=p.useState(null),[J,pe]=p.useState("Full Store"),[ge,Ce]=p.useState(null),[_e,Qe]=p.useState(null),[vt,At]=p.useState(null),[Gt,dt]=p.useState([]);p.useEffect(()=>{S&&S.length>0&&dt(S)},[S]);const Re=ye=>String(ye||"").replace(/[^a-z0-9]/gi,"").toLowerCase(),Ds=async ye=>{b(!0);const Ae=Array.isArray(ye)?ye:[ye];try{const Ie=new Map(d.map(Te=>[Re(Te.id),Te]));for(const Te of Ae){await $n(Te);const je=Ie.get(Re(Te.toolId));if(je){const Ne={...je,available:Math.max(0,je.available-1),condition:"Maintenance"};await Ua(Ne),Ie.set(Re(je.id),Ne)}}dt(Te=>[...Ae,...Te]),A(Array.from(Ie.values())),xe(!1)}finally{b(!1)}},xa=async(ye,Ae)=>{if(_e){b(!0);try{const Ie={..._e,...ye,status:Ae};await $n(Ie),dt(je=>je.map(Ne=>Ne.id===Ie.id?Ie:Ne));const Te=d.find(je=>Re(je.id)===Re(Ie.toolId));if(Te){let je=null;Ae==="Restored"?je={...Te,available:Math.min(Te.quantity,Te.available+1),condition:"Good"}:Ae==="Decommissioned"&&(je={...Te,quantity:Math.max(0,Te.quantity-1),condition:Te.quantity>1?Te.condition:"Irreparable"}),je&&(await Ua(je),A(d.map(Ne=>Re(Ne.id)===Re(je.id)?je:Ne)))}Qe(null)}finally{b(!1)}}},Pl=async(ye,Ae)=>{b(!0);try{const Ie=Gt.find(je=>je.id===ye);if(!Ie)return;const Te={...Ie,isEscalatedToSupervisor:!0,escalationNotes:`[ESCALATED BY ${c.name}] ${Ae}`};await $n(Te),dt(je=>je.map(Ne=>Ne.id===ye?Te:Ne))}finally{b(!1)}},rl=async(ye,Ae,Ie)=>{b(!0);try{const Te=Gt.find(Ne=>Ne.id===ye);if(!Te)return;const je={...Te,assignedStaffId:Ae,assignedStaffName:Ie,technicianNotes:(Te.technicianNotes||"")+` | [SUPERVISOR REASSIGNMENT TO ${Ie} BY ${c.name}]`};await $n(je),dt(Ne=>Ne.map(we=>we.id===ye?je:we)),At(null)}finally{b(!1)}},Ot=async(ye,Ae)=>{if(ye.length===0)return R(!1),!0;b(!0);try{const Ie=`AUD-${Date.now()}`,Te=new Date().toLocaleString(),je=new Date().toISOString().split("T")[0],Ne={id:Ie,date:je,timestamp:Te,section:J,inspector:c.name,shiftType:lt.DAY,issues:ye,signature:Ae||""};await Lm(Ne);const we=[...x],xt=new Map(d.map(Se=>[Re(Se.id),Se]));for(const Se of ye){const Ze=xt.get(Re(Se.toolId));if(!Ze)continue;const zt=Number(Se.quantity)<Ze.available,yt=Se.condition==="Damaged"||Se.condition==="Lost",ne=Se.pieceStatus&&Object.values(Se.pieceStatus).some(Et=>Et!=="Present");if(zt||yt||ne){const Et=Math.max(0,Ze.available-Se.quantity),Ft={id:`AUD-VAR-${Date.now()}-${Se.toolId}`,toolId:Se.toolId,toolName:Ze.name,quantity:Et||1,staffId:Se.responsibleStaffId||"AUDIT-FALLBACK",staffName:Se.responsibleStaffName||"Audit Oversight",shiftType:lt.DAY,date:je,timeOut:"00:00",isReturned:!1,conditionOnReturn:Se.condition,attendantId:c.id,attendantName:c.name,issuanceType:"Outstanding",physicalArchiveId:Ie,comment:`[AUDIT] ${Se.notes||"Unaccounted item state during store inspection."}`,monetaryValue:Ze.monetaryValue||0,escalationStatus:"Pending",escalationStage:"Store"};await Qn(Ft),we.unshift(Ft);let Vt=Ze.composition;Se.pieceStatus&&Ze.composition&&(Vt=Ze.composition.map(ps=>{const Qt=ps.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,""),Vs=Se.pieceStatus[ps];return Vs==="Missing"?`${Qt} (MISSING)`:Vs==="Damaged"?`${Qt} (DAMAGED)`:Qt}));const it=Ze.assetClass==="Set"||Ze.assetClass==="Toolbox"?Number(Se.quantity)>0?1:0:Number(Se.quantity),$t={...Ze,available:Math.max(0,it),composition:Vt,condition:Se.condition==="Damaged"||ne?"Maintenance":Se.condition};await Ua($t),xt.set(Re(Ze.id),$t)}}return E([Ne,...y]),w(we),A(Array.from(xt.values())),R(!1),!0}catch(Ie){return console.error(Ie),!1}finally{b(!1)}},dl=async(ye,Ae,Ie,Te,je,Ne,we)=>{b(!0);try{const xt=x.find(it=>Re(it.id)===Re(ye.id)),Se=xt||ye,Ze=!je;let zt=Se.escalationStatus||"Pending",yt=Se.escalationStage||"Store",ne=Se.graceExpiryDate;if(je==="grant_grace"){zt="In-Grace-Period";const it=new Date;it.setDate(it.getDate()+30),ne=it.toISOString().split("T")[0]}else je==="escalate_to_manager"&&(yt="Manager");const Et=`[RECEIVED BY: ${c.name} @ ${new Date().toLocaleTimeString()}]`,Ft=`${Se.comment||""} | ${Et} | ${Ie}`.trim().replace(/^ \| /,""),Vt={...Se,isReturned:Ze,conditionOnReturn:Ae,comment:Ft,timeIn:Ze?new Date().toLocaleTimeString():void 0,escalationStatus:Ze?"Resolved":zt,escalationStage:yt,graceExpiryDate:ne,recipientSignature:Ne||Se.recipientSignature,attendantName:c.name,actionHistory:[...Se.actionHistory||[],{stage:Se.escalationStage||"Store",actorName:c.name,action:Ze?"FINAL_RESOLUTION_RETURN":je?`ESCALATION_${je.toUpperCase()}`:"CUSTODIAL_RETURN_UPDATE",timestamp:new Date().toLocaleString(),notes:Ie||"Registry Reconciled"}]};await Qn(Vt),w(xt?x.map(it=>it.id===Se.id?Vt:it):[Vt,...x]);const ot=d.find(it=>Re(it.id)===Re(Se.toolId));if(ot){const it=ot.assetClass==="Set"||ot.assetClass==="Toolbox";let $t=0;if(it){const De=we&&we.length>0&&we.every(fe=>fe.includes("(MISSING)"));$t=Ae!=="Lost"||we&&!De?1:0}else $t=Ae!=="Lost"?Te:0;const ps=Math.min(ot.quantity,ot.available+$t);let Qt=we||ot.composition;const Vs=Ae==="Good"||Ae==="Fair"||Ae==="Excellent";Ze&&Vs&&it&&(Qt=(we||ot.composition||[]).map(Ue=>Ue.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,"")));const he={...ot,available:ps,lastVerified:new Date().toISOString().split("T")[0],composition:Qt,condition:Ze&&Vs&&(!it||!(Qt!=null&&Qt.some(De=>De.includes("(MISSING)"))))?"Good":Ae==="Damaged"||it&&(Qt!=null&&Qt.some(De=>De.includes("(MISSING)")))?"Maintenance":ot.condition};await Ua(he),A(d.map(De=>Re(De.id)===Re(ot.id)?he:De))}}finally{b(!1)}},ol=async(ye,Ae,Ie)=>{b(!0);try{const Te=`B-${Date.now()}`,je=[],Ne=new Map(d.map(we=>[Re(we.id),we]));for(const we of Ae){const xt=Ne.get(Re(we)),Se=Ie[we]||1;if(!xt)continue;const Ze={...ye,id:`L-${Date.now()}-${we}`,batchId:Te,toolId:we,toolName:xt.name,quantity:Se,date:new Date().toISOString().split("T")[0],isReturned:!1,monetaryValue:xt.monetaryValue||0,escalationStatus:"Pending",escalationStage:"Store"};await Qn(Ze),je.push(Ze);const zt={...xt,available:Math.max(0,xt.available-Se)};await Ua(zt),Ne.set(Re(we),zt)}w([...je,...x]),A(Array.from(Ne.values())),ae(!1)}finally{b(!1)}},Ga=async(ye,Ae)=>{var Ie;b(!0);try{await Om(ye);const Te=[...x],je=new Map(d.map(Ne=>[Re(Ne.id),Ne]));for(const Ne of Ae){const we=je.get(Re(Ne.toolId)),xt={id:`VAR-${Date.now()}-${Ne.toolId}`,toolId:Ne.toolId,toolName:(we==null?void 0:we.name)||Ne.toolId,quantity:Ne.quantity,staffId:Ne.staffId,staffName:((Ie=q.find(Se=>Se.id===Ne.staffId))==null?void 0:Ie.name)||"Unknown",shiftType:ye.shiftType,date:ye.date,timeOut:"00:00",isReturned:!1,conditionOnReturn:Ne.condition,attendantId:ye.attendantId,attendantName:ye.attendantName||"",issuanceType:"Outstanding",physicalArchiveId:ye.id,comment:`[LOGBOOK] ${Ne.notes}`,monetaryValue:(we==null?void 0:we.monetaryValue)||0,escalationStatus:"Pending",escalationStage:"Store"};if(await Qn(xt),Te.unshift(xt),we){const Ze=we.assetClass==="Set"||we.assetClass==="Toolbox"?0:Ne.quantity,zt={...we,available:Math.max(0,we.available-Ze)};await Ua(zt),je.set(Re(we.id),zt)}}f([ye,...o]),w(Te),A(Array.from(je.values())),re(!1)}finally{b(!1)}};return{state:{activeTab:_,setActiveTab:M,searchTerm:D,setSearchTerm:H,categoryFilter:F,setCategoryFilter:g,zoneFilter:z,setZoneFilter:C,conditionFilter:ie,setConditionFilter:k,archiveStatusFilter:v,setArchiveStatusFilter:Y,archiveOfficerFilter:j,setArchiveOfficerFilter:V,expandedZones:K,setExpandedZones:W,expandedAuditId:ue,setExpandedAuditId:ee,isAddingTool:se,setIsAddingTool:N,isIssuingTool:Z,setIsIssuingTool:ae,isDigitizingLog:L,setIsDigitizingLog:re,isWeeklyAuditOpen:h,setIsWeeklyAuditOpen:R,isReportingMaintenance:de,setIsReportingMaintenance:xe,verifyingLog:G,setVerifyingLog:U,editingTool:Q,setEditingTool:te,auditZone:J,setAuditZone:pe,auditTargetLog:ge,setAuditTargetLog:Ce,resolvingMaintenance:_e,setResolvingMaintenance:Qe,reassigningMaintenance:vt,setReassigningMaintenance:At,maintenanceRecords:Gt},computed:{monitoredItems:x.filter(ye=>!ye.isReturned||ye.conditionOnReturn==="Lost"||ye.conditionOnReturn==="Damaged"),filteredTools:p.useMemo(()=>{const ye=D.toLowerCase();return d.filter(Ae=>{const Ie=(Ae.name||"").toLowerCase().includes(ye)||(Ae.id||"").toLowerCase().includes(ye),Te=F==="ALL"||Ae.category===F,je=z==="ALL"||Ae.zone===z;let Ne=!0;if(ie==="VARIANCE"){const we=x.filter(Se=>Re(Se.toolId)===Re(Ae.id)&&!Se.isReturned).reduce((Se,Ze)=>Se+(Ze.quantity||0),0);Ne=Math.max(0,Ae.quantity-Ae.available-we)>0}else ie==="OUT_OF_STOCK"?Ne=Ae.available===0:ie==="IRREPARABLE"?Ne=Ae.condition==="Irreparable"||Ae.condition==="Lost":ie!=="ALL"&&(Ne=Ae.condition===ie);return Ie&&Te&&je&&Ne})},[d,x,D,F,z,ie]),filteredLogs:p.useMemo(()=>{const ye=D.toLowerCase();return o.filter(Ae=>{const Ie=(Ae.attendantName||"").toLowerCase().includes(ye)||(Ae.notes||"").toLowerCase().includes(ye)||(Ae.pageNumber||"").toLowerCase().includes(ye),Te=j==="ALL"||Ae.attendantId===j;let je=!0;if(v!=="ALL"){const Ne=Re(Ae.id),we=Re(Ae.pageNumber||""),xt=x.filter(Se=>{if(Se.escalationStatus==="Resolved")return!1;const Ze=Re(Se.physicalArchiveId||Se.batchId||""),zt=Re(Se.comment||"");return Ze===Ne||we&&zt.includes(we)}).filter(Se=>!Se.isReturned).length;v==="ISSUES"?je=xt>0:v==="CLEAR"&&(je=xt===0)}return Ie&&Te&&je})},[o,x,D,v,j]),stats:{totalValue:d.reduce((ye,Ae)=>ye+Ae.monetaryValue*Ae.quantity,0),criticalIssues:d.filter(ye=>ye.condition==="Damaged"||ye.condition==="Lost"||ye.condition==="Maintenance").length,outstandingCount:x.filter(ye=>!ye.isReturned).length,lastInspection:((ul=(Gs=[...y].sort((ye,Ae)=>String(Ae.date||"").localeCompare(String(ye.date||"")))[0])==null?void 0:Gs.date)==null?void 0:ul.split(" ")[0])||"---"}},handlers:{handleReturnConfirm:dl,handleLogbookCommit:Ga,handleEscalationAction:async()=>{},handleMaintenanceReport:Ds,handleMaintenanceResolve:xa,handleMaintenanceEscalate:Pl,handleMaintenanceReassign:rl,handleIssuanceConfirm:ol,handleInspectionCommit:Ot,toggleZoneExpansion:ye=>W(Ae=>{const Ie=new Set(Ae);return Ie.has(ye)?Ie.delete(ye):Ie.add(ye),Ie})}}},e1=({onSave:c,onCancel:d,currentUser:x,initialData:o})=>{const[y,S]=p.useState(o||{name:"",category:"Hand tools",zone:"Main Store",quantity:1,available:1,condition:"Excellent",monetaryValue:0,imageUrl:"",assetClass:"Pc",composition:[]}),[q,A]=p.useState(""),[w,f]=p.useState(!1),[E,b]=p.useState(!1),m=p.useRef(null),_=["Power tools","Electrical tools","Hand tools","Calibration Tools","Hydraulics","Pneumatics"],M=["Main Store","Workshop Bay 1","Workshop Bay 2","Panel Beating","Engine Section","Electrical Unit","Road Call Van"],D=z=>{var ie;const C=(ie=z.target.files)==null?void 0:ie[0];if(C){const k=new FileReader;k.onloadend=()=>{S(v=>({...v,imageUrl:k.result}))},k.readAsDataURL(C)}},H=()=>{q.trim()&&(S(z=>({...z,composition:[...z.composition||[],q.trim()]})),A(""))},F=z=>{S(C=>({...C,composition:(C.composition||[]).filter((ie,k)=>k!==z)}))},g=z=>{if(z.preventDefault(),!y.name)return alert("Asset name is required.");if((y.assetClass==="Set"||y.assetClass==="Toolbox")&&(!y.composition||y.composition.length===0))return alert(`Institutional Protocol: A ${y.assetClass} must contain specific item records.`);const C=new Date().toISOString().split("T")[0];c({...y,id:y.id||`T-${Date.now().toString().slice(-4)}`,lastVerified:C,submissionDate:(o==null?void 0:o.submissionDate)||C,addedBy:(o==null?void 0:o.addedBy)||x.name})};return t.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-2 sm:p-4 bg-slate-900/60 backdrop-blur-sm overflow-y-auto no-scrollbar",children:t.jsxs("div",{className:"relative bg-[#F8FAFF] w-full max-w-lg rounded-[2.5rem] shadow-2xl border border-white/20 animate-in zoom-in-95 duration-300 overflow-hidden flex flex-col my-auto",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-12 h-12 ${o?"bg-amber-50":"bg-indigo-600"} rounded-2xl flex items-center justify-center text-white shadow-xl`,children:o?t.jsx(Jd,{size:24}):t.jsx(us,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-base font-black text-slate-900 uppercase tracking-tight leading-none",children:o?"Edit Asset":"Add New Asset"}),t.jsx("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-1.5",children:"Master Registry Entry"})]})]}),t.jsx("button",{onClick:d,className:"text-slate-300 hover:text-slate-900 transition-colors p-2",children:t.jsx(ht,{size:24})})]}),t.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-900 uppercase tracking-widest ml-1",children:"Asset Classification"}),t.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"Pc",label:"Single",icon:t.jsx(Zn,{size:14}),desc:"One Unit"},{id:"Set",label:"Set",icon:t.jsx(da,{size:14}),desc:"Multiple Items"},{id:"Toolbox",label:"Toolbox",icon:t.jsx(Yd,{size:14}),desc:"Container"}].map(z=>t.jsxs("button",{type:"button",onClick:()=>S({...y,assetClass:z.id}),className:`p-3 rounded-2xl border transition-all flex flex-col items-center text-center gap-2 ${y.assetClass===z.id?"bg-[#0F1135] text-white border-[#0F1135] shadow-lg":"bg-white border-slate-100 text-slate-400 hover:border-indigo-100"}`,children:[z.icon,t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[10px] font-black uppercase tracking-tight",children:z.label}),t.jsx("p",{className:"text-[7px] font-bold uppercase opacity-60",children:z.desc})]})]},z.id))})]}),t.jsxs("div",{className:"flex items-center space-x-5",children:[t.jsx("div",{onClick:()=>{var z;return(z=m.current)==null?void 0:z.click()},className:"w-28 h-28 bg-white border-2 border-dashed border-slate-200 rounded-[2rem] flex flex-col items-center justify-center relative overflow-hidden group cursor-pointer hover:border-indigo-300 transition-all shrink-0 shadow-sm",children:y.imageUrl?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:y.imageUrl,className:"w-full h-full object-cover",alt:"Tool"}),t.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-all",children:t.jsx(Xn,{className:"text-white",size:24})})]}):t.jsxs("div",{className:"flex flex-col items-center text-slate-300",children:[t.jsx(Xn,{size:28,className:"mb-2"}),t.jsx("span",{className:"text-[7.5px] font-black uppercase tracking-[0.1em] text-center px-2",children:"Add Artifact"})]})}),t.jsx("div",{className:"flex-1 space-y-4",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Asset Designation"}),t.jsxs("div",{className:"relative",children:[t.jsx(Dt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:14}),t.jsx("input",{required:!0,className:"w-full bg-white border border-slate-200 rounded-xl pl-11 pr-4 py-3 text-[11px] font-black uppercase text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",placeholder:"Enter name",value:y.name,onChange:z=>S({...y,name:z.target.value})})]})]})}),t.jsx("input",{type:"file",ref:m,onChange:D,className:"hidden",accept:"image/*"})]}),(y.assetClass==="Set"||y.assetClass==="Toolbox")&&t.jsxs("div",{className:"bg-white border border-indigo-100 rounded-[1.8rem] p-5 space-y-4 shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(ss,{size:16,className:"text-indigo-600"}),t.jsx("h4",{className:"text-[10px] font-black text-slate-900 uppercase tracking-widest",children:"Artifact Manifest"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl px-4 py-2.5 text-[10px] font-black uppercase text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add piece...",value:q,onChange:z=>A(z.target.value),onKeyDown:z=>z.key==="Enter"&&(z.preventDefault(),H())}),t.jsx("button",{type:"button",onClick:H,className:"w-10 h-10 bg-[#0F1135] text-white rounded-xl flex items-center justify-center shadow-lg active:scale-90",children:t.jsx(us,{size:18})})]}),t.jsx("div",{className:"space-y-1.5",children:(y.composition||[]).map((z,C)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 border border-slate-100 rounded-xl animate-in slide-in-from-right-1",children:[t.jsx("span",{className:"text-[10px] font-black text-slate-700 uppercase",children:z}),t.jsx("button",{type:"button",onClick:()=>F(C),className:"text-slate-300 hover:text-rose-600",children:t.jsx(il,{size:14})})]},C))})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1.5 ml-1",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Zone"}),t.jsx("button",{type:"button",onClick:()=>f(!w),className:"text-[7px] font-black text-indigo-600 uppercase underline",children:w?"Use List":"Custom"})]}),w?t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-[10px] font-black uppercase text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",placeholder:"New zone",value:y.zone,onChange:z=>S({...y,zone:z.target.value})}):t.jsx("select",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-[10px] font-black uppercase text-slate-700 outline-none cursor-pointer",value:y.zone,onChange:z=>S({...y,zone:z.target.value}),children:M.map(z=>t.jsx("option",{value:z,children:z},z))})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1.5 ml-1",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Category"}),t.jsx("button",{type:"button",onClick:()=>b(!E),className:"text-[7px] font-black text-indigo-600 uppercase underline",children:E?"Use List":"Custom"})]}),E?t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-[10px] font-black uppercase text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",placeholder:"New category",value:y.category,onChange:z=>S({...y,category:z.target.value})}):t.jsx("select",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-[10px] font-black uppercase text-slate-700 outline-none cursor-pointer",value:y.category,onChange:z=>S({...y,category:z.target.value}),children:_.map(z=>t.jsx("option",{value:z,children:z},z))})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Monetary Value ($)"}),t.jsx("input",{type:"number",className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-[10px] font-black text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",value:y.monetaryValue||"",onChange:z=>S({...y,monetaryValue:parseFloat(z.target.value)||0})})]}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Total Units"}),t.jsx("input",{type:"number",className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-[10px] font-black text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",value:y.quantity||"",onChange:z=>S({...y,quantity:parseInt(z.target.value)||0,available:parseInt(z.target.value)||0})})]})]})]}),t.jsxs("div",{className:"p-6 bg-white border-t border-slate-100 flex flex-col sm:flex-row gap-3 shrink-0",children:[t.jsx("button",{type:"button",onClick:d,className:"flex-1 py-4 rounded-2xl border border-slate-200 text-slate-400 font-black uppercase tracking-widest text-[9px] hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsxs("button",{type:"button",onClick:g,className:`flex-[1.5] py-4 rounded-2xl ${o?"bg-amber-600":"bg-[#0F1135]"} text-white font-black uppercase tracking-[0.2em] text-[9px] hover:bg-indigo-700 shadow-2xl transition-all flex items-center justify-center space-x-2 active:scale-95`,children:[t.jsx(Ve,{size:18}),t.jsx("span",{children:o?"Commit Update":"Save Asset"})]})]})]})})},t1=({availableTools:c,staffRegistry:d,currentUser:x,onConfirm:o,onCancel:y})=>{const[S,q]=p.useState(new Set),[A,w]=p.useState({}),[f,E]=p.useState({}),[b,m]=p.useState(""),[_,M]=p.useState(""),[D,H]=p.useState(""),[F,g]=p.useState(""),z=p.useMemo(()=>{const j=_.toLowerCase();return c.filter(V=>V.name.toLowerCase().includes(j)||V.id.toLowerCase().includes(j))},[c,_]),C=p.useMemo(()=>{const j=D.toLowerCase();return d.filter(V=>V.name.toLowerCase().includes(j)||V.id.toLowerCase().includes(j))},[d,D]),ie=j=>{q(V=>{const K=new Set(V);if(K.has(j))K.delete(j),w(W=>{const ue={...W};return delete ue[j],ue}),E(W=>{const ue={...W};return delete ue[j],ue});else{K.add(j),w(ue=>({...ue,[j]:1}));const W=c.find(ue=>ue.id===j);if(W!=null&&W.composition){const ue=W.composition.filter(ee=>!ee.includes("(MISSING)"));E(ee=>({...ee,[j]:new Set(ue)}))}}return K})},k=(j,V)=>{const K=c.find(W=>W.id===j);K&&w(W=>({...W,[j]:Math.max(1,Math.min(Math.max(1,K.available),(W[j]||1)+V))}))},v=(j,V)=>{V.includes("(MISSING)")||E(K=>{const W=new Set(K[j]||[]);return W.has(V)?W.delete(V):W.add(V),{...K,[j]:W}})},Y=()=>{const j=d.find(ue=>ue.id===b);if(S.size===0||!j)return;const V=Array.from(S),K=V.map(ue=>{const ee=c.find(se=>se.id===ue);if(ee!=null&&ee.composition){const se=Array.from(f[ue]||[]),N=ee.composition.filter(Z=>!Z.includes("(MISSING)"));if(se.length<N.length){const Z=N.filter(ae=>!se.includes(ae)).map(ae=>ae.replace(/\s*\(DAMAGED\)/g,""));return`[${ee.name} PARTIAL DISPATCH: MISSING ${Z.join(", ")}]`}}return null}).filter(Boolean).join(" | "),W=K?`${F} ${K}`.trim():F;o({staffId:j.id,staffName:j.name,shiftType:lt.DAY,timeOut:new Date().toLocaleTimeString(),issuanceType:"Section-Held",attendantId:x.id,attendantName:x.name,comment:W},V,A)};return t.jsx("div",{className:"fixed inset-0 z-[200] flex items-end sm:items-center justify-center p-0 sm:p-4 bg-slate-900/60 backdrop-blur-sm overflow-hidden",children:t.jsxs("div",{className:"relative bg-[#F8FAFF] w-full max-w-2xl sm:rounded-[2rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom sm:zoom-in-95 duration-300 flex flex-col h-full sm:h-auto sm:max-h-[90vh]",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-white shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center text-white shadow-lg",children:t.jsx(Pn,{size:18})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:"Technical Item Issuance"}),t.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-widest",children:"Handover Protocol"})]})]}),t.jsx("button",{onClick:y,className:"text-slate-300 hover:text-slate-900 p-2",children:t.jsx(ht,{size:24})})]}),t.jsxs("div",{className:"p-4 md:p-6 space-y-4 overflow-y-auto no-scrollbar flex-1 bg-white sm:bg-transparent",children:[t.jsxs("div",{className:"flex items-center justify-between bg-indigo-50 border border-indigo-100 px-5 py-3 rounded-2xl",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(fs,{size:16,className:"text-indigo-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[7px] font-black text-indigo-400 uppercase tracking-widest",children:"Issuing Officer"}),t.jsx("p",{className:"text-[10px] font-black text-indigo-700 uppercase",children:x.name})]})]}),t.jsx("span",{className:"text-[7px] font-black bg-white/50 text-indigo-400 px-2 py-0.5 rounded border border-indigo-100 uppercase",children:"Authorized"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-900 uppercase ml-1",children:"1. Select Asset"}),t.jsxs("div",{className:"relative",children:[t.jsx(xs,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),t.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-3 py-2 text-[9px] font-bold text-slate-700 outline-none",placeholder:"Find tool...",value:_,onChange:j=>M(j.target.value)})]}),t.jsx("div",{className:"bg-white border border-slate-100 rounded-xl h-72 overflow-y-auto no-scrollbar p-1.5 space-y-2 shadow-inner",children:z.map(j=>{var ee;const V=S.has(j.id),K=j.assetClass==="Set"||j.assetClass==="Toolbox",W=j.available<=0,ue=(ee=j.composition)==null?void 0:ee.some(se=>se.includes("(MISSING)"));return t.jsxs("div",{className:`p-1.5 rounded-xl border transition-all ${V?"bg-indigo-50 border-indigo-200 shadow-sm":"hover:bg-slate-50 border-transparent"}`,children:[t.jsxs("div",{className:"flex items-center justify-between cursor-pointer p-1",onClick:()=>ie(j.id),children:[t.jsxs("div",{className:"flex items-center space-x-2.5 min-w-0",children:[t.jsx("div",{className:`p-1.5 rounded-lg border shadow-inner ${V?"bg-indigo-600 text-white border-indigo-500":"bg-slate-50 text-slate-300 border-slate-100"}`,children:t.jsx(Dt,{size:12})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:`text-[9.5px] font-black uppercase truncate leading-none ${V?"text-indigo-900":"text-slate-800"}`,children:j.name}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("p",{className:`text-[6.5px] font-bold uppercase tracking-widest ${W?"text-rose-500":"text-slate-400"}`,children:W?"OUT OF STOCK":`Stock: ${j.available}`}),ue&&t.jsx("span",{className:"text-[6px] font-black bg-rose-50 text-rose-600 px-1 py-0.5 rounded border border-rose-100 uppercase",children:"Variances"})]})]})]}),V?t.jsx(Kn,{size:16,className:"text-indigo-600"}):t.jsx(bc,{size:16,className:"text-slate-200"})]}),V&&t.jsxs("div",{className:"mt-2.5 pt-2.5 border-t border-indigo-100 space-y-3 animate-in slide-in-from-top-1 duration-300",children:[t.jsxs("div",{className:"flex items-center justify-between bg-white border border-indigo-100 rounded-lg p-1.5 shadow-sm px-3",children:[t.jsx("span",{className:"text-[7.5px] font-black text-indigo-400 uppercase",children:"Quantity"}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:se=>{se.stopPropagation(),k(j.id,-1)},className:"w-6 h-6 rounded-md bg-slate-50 border border-slate-200 flex items-center justify-center text-slate-400 hover:text-indigo-600",children:t.jsx(Wn,{size:12})}),t.jsx("span",{className:"text-[10px] font-black text-slate-900 tabular-nums w-4 text-center",children:A[j.id]||1}),t.jsx("button",{onClick:se=>{se.stopPropagation(),k(j.id,1)},className:"w-6 h-6 rounded-md bg-slate-50 border border-slate-200 flex items-center justify-center text-slate-400 hover:text-indigo-600",children:t.jsx(us,{size:12})})]})]}),K&&j.composition&&t.jsxs("div",{className:"bg-white/50 border border-indigo-100 rounded-xl p-2.5 space-y-2",children:[t.jsx("div",{className:"flex items-center justify-between mb-1.5",children:t.jsxs("div",{className:"flex items-center space-x-1.5",children:[t.jsx(vc,{size:10,className:"text-indigo-400"}),t.jsx("span",{className:"text-[7.5px] font-black text-slate-500 uppercase tracking-widest",children:"Verified Pieces"})]})}),t.jsx("div",{className:"grid grid-cols-1 gap-1",children:j.composition.map((se,N)=>{var h;const Z=se.includes("(MISSING)"),ae=se.includes("(DAMAGED)"),L=(h=f[j.id])==null?void 0:h.has(se),re=se.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,"");return t.jsxs("button",{disabled:Z,onClick:R=>{R.stopPropagation(),v(j.id,se)},className:`flex items-center justify-between p-2 rounded-lg border transition-all text-left ${Z?"bg-rose-50 border-rose-100 opacity-60 cursor-not-allowed":L?"bg-indigo-50/50 border-indigo-100":"bg-white border-slate-100"}`,children:[t.jsxs("div",{className:"min-w-0 flex flex-col",children:[t.jsx("span",{className:`text-[8.5px] font-black uppercase truncate ${Z?"text-rose-400 line-through":L?"text-indigo-700":"text-slate-400"}`,children:re}),t.jsxs("div",{className:"flex gap-1",children:[Z&&t.jsx("span",{className:"text-[6px] font-black text-rose-600 uppercase",children:"MISSING FROM STORE"}),ae&&t.jsxs("span",{className:"text-[6px] font-black text-amber-600 uppercase flex items-center gap-0.5",children:[t.jsx(ms,{size:6})," DAMAGED"]})]})]}),Z?t.jsx(Rs,{size:12,className:"text-rose-300"}):L?t.jsx(Kn,{size:12,className:"text-indigo-600"}):t.jsx(bc,{size:12,className:"text-slate-200"})]},N)})})]})]})]},j.id)})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-900 uppercase ml-1",children:"2. Assign Custodian"}),t.jsxs("div",{className:"relative",children:[t.jsx(xs,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),t.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-3 py-2 text-[9px] font-bold text-slate-700 outline-none",placeholder:"Find staff...",value:D,onChange:j=>H(j.target.value)})]}),t.jsx("div",{className:"bg-white border border-slate-100 rounded-xl h-72 overflow-y-auto no-scrollbar p-1.5 space-y-1 shadow-inner",children:C.map(j=>t.jsxs("div",{className:`p-2.5 rounded-lg cursor-pointer flex items-center justify-between transition-all ${b===j.id?"bg-[#0F1135] text-white shadow-md":"hover:bg-indigo-50"}`,onClick:()=>m(j.id),children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-[10px] ${b===j.id?"bg-white/10":"bg-slate-50 text-indigo-400"}`,children:j.name.charAt(0)}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[10px] font-black uppercase truncate leading-none",children:j.name}),t.jsxs("p",{className:`text-[6.5px] font-bold uppercase mt-1 ${b===j.id?"text-indigo-300":"text-slate-400"}`,children:["ID: ",j.id]})]})]}),b===j.id&&t.jsx(nt,{size:14,className:"text-emerald-400"})]},j.id))})]})]}),S.size>0&&Array.from(S).some(j=>{const V=c.find(K=>K.id===j);return(V==null?void 0:V.assetClass)==="Set"||(V==null?void 0:V.assetClass)==="Toolbox"})&&t.jsxs("div",{className:"space-y-1.5 mt-2 border-t border-slate-100 pt-4 animate-in fade-in duration-700",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-slate-400 px-1",children:[t.jsx(da,{size:10}),t.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:"Draft Manifest Summary"})]}),t.jsx("div",{className:"bg-slate-50/50 border border-slate-100 rounded-lg overflow-hidden shadow-sm",children:t.jsxs("table",{className:"w-full text-left table-fixed border-collapse",children:[t.jsx("thead",{className:"bg-white border-b border-slate-100",children:t.jsxs("tr",{className:"text-[6px] font-black text-slate-300 uppercase tracking-widest",children:[t.jsx("th",{className:"py-1.5 px-3 w-1/2",children:"Item Description"}),t.jsx("th",{className:"py-1.5 px-3",children:"Issuance State"}),t.jsx("th",{className:"py-1.5 px-3 text-right",children:"Kit Ref"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:Array.from(S).map(j=>{const V=c.find(K=>K.id===j);return V!=null&&V.composition?V.composition.map((K,W)=>{var N;const ue=K.includes("(MISSING)"),ee=(N=f[j])==null?void 0:N.has(K),se=K.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,"");return t.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[t.jsx("td",{className:"py-1 px-3",children:t.jsx("span",{className:`text-[7px] font-medium uppercase truncate block ${ue?"text-slate-300 line-through":ee?"text-slate-600 font-bold":"text-slate-400 italic"}`,children:se})}),t.jsx("td",{className:"py-1 px-3",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:`w-1 h-1 rounded-full ${ue?"bg-rose-300":ee?"bg-emerald-400":"bg-amber-300"}`}),t.jsx("span",{className:`text-[6.5px] font-black uppercase ${ue?"text-rose-400":ee?"text-emerald-600":"text-amber-500"}`,children:ue?"UNAVAILABLE (MISSING)":ee?"ISSUED":"RETAINED IN STORE"})]})}),t.jsx("td",{className:"py-1 px-3 text-right",children:t.jsx("span",{className:"text-[6px] font-bold text-slate-200 uppercase group-hover:text-slate-300 transition-colors truncate block",children:V.name})})]},`${j}-${W}`)}):null})})]})})]}),t.jsxs("div",{className:"space-y-2 pt-2",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-900 uppercase ml-1",children:"3. Handover Context"}),t.jsx("textarea",{className:"w-full bg-slate-50 border border-slate-100 rounded-xl px-4 py-3 text-[10px] font-medium text-slate-700 outline-none h-16 shadow-inner focus:ring-1 focus:ring-indigo-500",placeholder:"Any specific instructions or notes...",value:F,onChange:j=>g(j.target.value)})]})]}),t.jsxs("div",{className:"p-4 md:p-6 bg-slate-50 border-t border-slate-100 flex flex-col sm:flex-row items-center gap-3 shrink-0 pb-10 sm:pb-6",children:[t.jsx("button",{onClick:y,className:"w-full sm:flex-1 py-3.5 rounded-xl border border-slate-200 text-slate-400 font-black uppercase text-[9px] tracking-widest hover:bg-white",children:"Abort"}),t.jsxs("button",{onClick:Y,disabled:S.size===0||!b,className:"w-full sm:flex-[2] py-3.5 rounded-xl bg-indigo-600 text-white font-black uppercase text-[9px] tracking-[0.15em] hover:bg-indigo-700 transition-all flex items-center justify-center space-x-2 disabled:opacity-40 shadow-xl shadow-indigo-100 active:scale-[0.98]",children:[t.jsx(Fg,{size:16}),t.jsx("span",{children:"Finish Issuance"})]})]})]})})},s1=({log:c,staffRegistry:d=[],onConfirm:x,onCancel:o})=>{const y=String(c.id).startsWith("VAR-")||String(c.comment).includes("AUDIT_TRACE")||String(c.comment).includes("AUDIT_RECOVERY"),[S,q]=p.useState(c.preselectedCondition||c.conditionOnReturn||(y?"Lost":"Good")),[A,w]=p.useState(""),[f,E]=p.useState(!1),b=c.quantity||1,[m,_]=p.useState(S==="Lost"||S==="Damaged"?b:0),[M,D]=p.useState({}),H=c.assetClass==="Set"||c.assetClass==="Toolbox",F=c.composition&&c.composition.length>0,g=p.useRef(null),z=p.useRef(null),[C,ie]=p.useState(!1),[k,v]=p.useState(!1);p.useEffect(()=>{if(H&&F){const L={},re=(c.comment||"").toUpperCase(),h=re.match(/(?:MISSING|CHECK):\s*([^|\]]+)/i),R=re.match(/DAMAGED:\s*([^|\]]+)/i),de=h?h[1].replace(/MISSING:\s*/gi,"").split(",").map(G=>G.trim()):[],xe=R?R[1].split(",").map(G=>G.trim()):[];c.composition.forEach(G=>{const U=G.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,"").trim().toUpperCase();de.includes(U)||G.includes("(MISSING)")?L[G]="Missing":xe.includes(U)||G.includes("(DAMAGED)")?L[G]="Damaged":L[G]="Present"}),D(L)}},[H,F,c.composition,c.comment]),p.useEffect(()=>{_(S==="Good"||S==="Fair"||S==="Excellent"?0:b)},[S,b]),p.useEffect(()=>{var L;if(f&&g.current){const re=g.current,h=(L=re.parentElement)==null?void 0:L.getBoundingClientRect();h&&(re.width=h.width,re.height=h.height);const R=re.getContext("2d");R&&(R.lineCap="round",R.strokeStyle="#0F1135",R.lineWidth=3,z.current=R)}},[f]);const Y=L=>{const re=g.current;if(!re)return{x:0,y:0};const h=re.getBoundingClientRect();let R,de;return"touches"in L?(R=L.touches[0].clientX,de=L.touches[0].clientY):(R=L.clientX,de=L.clientY),{x:R-h.left,y:de-h.top}},j=L=>{if(!z.current)return;const{x:re,y:h}=Y(L);z.current.beginPath(),z.current.moveTo(re,h),v(!0),ie(!0),"touches"in L&&L.preventDefault()},V=L=>{if(!z.current||!k)return;const{x:re,y:h}=Y(L);z.current.lineTo(re,h),z.current.stroke(),"touches"in L&&L.preventDefault()},K=()=>{z.current&&z.current.closePath(),v(!1)},[W,ue]=p.useState(c.escalationStatus==="In-Grace-Period"?"Replacement":c.escalationStage==="Supervisor"?"Supervisor":"Search"),ee=L=>{D(re=>{const h=re[L];let R="Present";return h==="Present"?R="Missing":h==="Missing"&&(R="Damaged"),{...re,[L]:R}})},se=p.useMemo(()=>!H||!F?100:Math.round(Object.keys(M).length/c.composition.length*100),[H,F,c.composition,M]),N=L=>{var G;const re=L!==void 0?L:(G=g.current)==null?void 0:G.toDataURL();let h=A;const R=[];if(H&&F){c.composition.forEach(J=>{const pe=M[J],ge=J.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,"");pe==="Missing"?R.push(`${ge} (MISSING)`):pe==="Damaged"?R.push(`${ge} (DAMAGED)`):R.push(ge)});const U=R.filter(J=>J.includes("(MISSING)")).map(J=>J.replace(" (MISSING)","")),Q=R.filter(J=>J.includes("(DAMAGED)")).map(J=>J.replace(" (DAMAGED)","")),te=[U.length?`MISSING: ${U.join(", ")}`:"",Q.length?`DAMAGED: ${Q.join(", ")}`:""].filter(Boolean).join(" | ");te&&(h=h?`${h} | [VARIANCE: ${te}]`:`[VARIANCE: ${te}]`)}const de=b-m,xe=S==="Lost"||H&&R.some(U=>U.includes("MISSING"))?W==="Search"?"start_search":W==="Replacement"?"grant_grace":"escalate_to_manager":void 0;x(c.id,S,h,Math.max(0,de),xe,re||void 0,R.length>0?R:void 0)},Z=()=>{if(H&&F&&se<100)return alert("Please check all items in the kit.");const L=Object.values(M).some(re=>re==="Missing");(S==="Lost"||H&&L)&&W==="Replacement"?E(!0):N(null)},ae=L=>{switch(L){case"Search":return{label:"START SEARCH",status:"SEARCHING",color:"text-indigo-600 bg-indigo-50 border-indigo-100",icon:t.jsx(ra,{size:16}),desc:"Staff will look for the tool"};case"Replacement":return{label:"STAFF WILL REPLACE",status:"30 DAYS TO REPLACE",color:"text-emerald-600 bg-emerald-50 border-emerald-100",icon:t.jsx(Jl,{size:16}),desc:"Staff agrees to buy a replacement"};case"Supervisor":return{label:"TELL SUPERVISOR",status:"WAITING FOR SUPERVISOR",color:"text-white bg-[#4338CA] border-[#4338CA]",icon:t.jsx(fs,{size:16}),desc:"Let management handle this"};default:return{label:"",status:"",color:"",icon:null,desc:""}}};return t.jsx("div",{className:"fixed inset-0 z-[500] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm overflow-y-auto no-scrollbar",children:t.jsxs("div",{className:"relative bg-[#F8FAFF] w-full max-w-xl rounded-[2.5rem] shadow-2xl border border-white/20 overflow-hidden animate-in zoom-in-95 duration-300 flex flex-col max-h-[95vh] my-auto",children:[f&&t.jsx("div",{className:"absolute inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-black uppercase tracking-tight",children:"Staff Agreement"}),t.jsx("button",{onClick:()=>E(!1),className:"text-slate-300 hover:text-slate-900 p-2",children:t.jsx(ht,{size:20})})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-200 rounded-[2rem] h-48 relative overflow-hidden shadow-inner",children:[t.jsx("canvas",{ref:g,onMouseDown:j,onMouseMove:V,onMouseUp:K,onMouseLeave:K,onTouchStart:j,onTouchMove:V,onTouchEnd:K,className:"w-full h-full cursor-crosshair"}),!C&&t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none opacity-40",children:[t.jsx(Ug,{size:24,className:"text-slate-300 mb-2"}),t.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.4em] text-slate-300 text-center px-8",children:"Sign here to agree to replacement"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{onClick:()=>{var L;(L=z.current)==null||L.clearRect(0,0,1e3,1e3),ie(!1)},className:"text-[9px] font-black text-rose-500 uppercase flex items-center gap-1",children:[t.jsx(Ia,{size:12})," Reset"]}),t.jsx("span",{className:"text-[10px] font-black text-[#0F1135] uppercase",children:c.staffName})]}),t.jsx("button",{onClick:()=>N(),disabled:!C,className:"w-full py-5 bg-[#0F1135] text-white rounded-[1.8rem] font-black uppercase text-[10px] shadow-2xl disabled:opacity-40 active:scale-95",children:"I Agree to Replace Tool"})]})]})}),t.jsxs("div",{className:"px-8 py-5 border-b border-slate-100 flex items-center justify-between bg-white shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-11 h-11 rounded-2xl flex items-center justify-center text-white shadow-lg transition-colors duration-500 ${y?"bg-rose-600":"bg-indigo-600"}`,children:y?t.jsx(ms,{size:22}):t.jsx(Ve,{size:22})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:y?"Resolve Audit Variance":"Verify Asset Return"}),t.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-1.5",children:y?"RECONCILING REGISTRY DELTA":"HANDOVER PROTOCOL"})]})]}),t.jsx("button",{onClick:o,className:"text-slate-300 hover:text-slate-900 p-2",children:t.jsx(ht,{size:24})})]}),t.jsxs("div",{className:"p-8 space-y-8 overflow-y-auto no-scrollbar flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between p-5 bg-white rounded-[2rem] border border-slate-100 shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-5 min-w-0 flex-1",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-2xl border border-slate-100 overflow-hidden flex items-center justify-center shrink-0",children:c.imageUrl?t.jsx("img",{src:c.imageUrl,className:"w-full h-full object-cover"}):t.jsx(Dt,{size:24,className:"text-slate-300"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1.5",children:"ASSET IDENTITY"}),t.jsx("h4",{className:"text-sm font-black text-slate-900 uppercase truncate leading-tight",children:c.toolName}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(qa,{size:10,className:"text-indigo-400"}),t.jsxs("span",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest",children:["TRACE_REF: ",c.id]})]})]})]}),t.jsx("div",{className:"text-right shrink-0",children:t.jsxs("div",{className:`px-4 py-2 rounded-xl border shadow-inner ${y?"bg-rose-50 border-rose-100":"bg-slate-50 border-slate-100"}`,children:[t.jsx("p",{className:`text-[7px] font-black uppercase tracking-widest ${y?"text-rose-400":"text-indigo-400"}`,children:y?"Qty Missing":"In Custody"}),t.jsxs("span",{className:`text-lg font-black tabular-nums ${y?"text-rose-600":"text-indigo-600"}`,children:[b," UNIT(S)"]})]})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"text-[8.5px] font-black text-slate-900 uppercase tracking-widest flex items-center gap-2 px-1",children:[t.jsx(Ve,{size:14,className:"text-indigo-600"})," Resolution Logic State"]}),t.jsx("div",{className:"flex bg-slate-100/50 p-1.5 rounded-[1.5rem] gap-1.5 border border-slate-100 shadow-inner",children:["Good","Fair","Damaged","Lost"].map(L=>t.jsx("button",{type:"button",onClick:()=>q(L),className:`flex-1 py-4 rounded-xl text-[8.5px] font-black uppercase tracking-widest transition-all ${S===L?(L==="Lost"?"bg-[#0F1135] text-white":L==="Damaged"?"bg-amber-50 text-white":"bg-emerald-600 text-white")+" shadow-lg scale-[1.02]":"bg-white text-slate-400 border border-slate-100"}`,children:L},L))})]}),(S==="Lost"||S==="Damaged")&&!y&&t.jsx("div",{className:"bg-[#0F1135] rounded-[2rem] p-6 shadow-2xl animate-in zoom-in-95 duration-300",children:t.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-5 rounded-3xl border border-white/10 shadow-inner",children:[t.jsx("button",{onClick:()=>_(Math.max(1,m-1)),className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center text-white",children:t.jsx(Wn,{size:24})}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("span",{className:"text-4xl font-black text-white tabular-nums leading-none",children:m}),t.jsxs("p",{className:"text-[8px] font-black text-white/40 uppercase mt-2 tracking-widest",children:["WHOLE UNIT(S) ",S.toUpperCase()]})]}),t.jsx("button",{onClick:()=>_(Math.min(b,m+1)),className:"w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center text-white",children:t.jsx(us,{size:24})})]})}),H&&F&&t.jsxs("div",{className:`bg-white border rounded-[2.2rem] p-6 space-y-5 shadow-sm transition-all duration-500 ${se===100?"border-emerald-100":"border-indigo-100"}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`p-2 rounded-xl border ${se===100?"bg-emerald-50 text-emerald-600":"bg-indigo-50 text-indigo-600"}`,children:t.jsx(vc,{size:16})}),t.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest",children:["Verify Kit Pieces  ",se,"%"]})]}),t.jsx("button",{onClick:()=>{var re;const L={};(re=c.composition)==null||re.forEach(h=>L[h]="Present"),D(L)},className:"text-[7px] font-black text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-lg border border-indigo-200 uppercase",children:"Clear All"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-56 overflow-y-auto no-scrollbar",children:c.composition.map((L,re)=>{const h=M[L]||"Missing",R=L.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,"");return t.jsxs("button",{onClick:()=>ee(L),className:`flex items-center justify-between p-4 rounded-2xl border transition-all text-left ${h==="Present"?"bg-emerald-50/30 border-emerald-100":h==="Missing"?"bg-rose-50 border-rose-300":"bg-amber-50/50 border-amber-200"}`,children:[t.jsx("span",{className:`text-[10px] font-black uppercase truncate pr-2 ${h==="Present"?"text-emerald-700":h==="Missing"?"text-rose-700":"text-amber-700"}`,children:R}),h==="Present"?t.jsx(Kn,{size:16,className:"text-emerald-500"}):h==="Missing"?t.jsx(Rs,{size:16,className:"text-rose-500 animate-pulse"}):t.jsx(ua,{size:16,className:"text-amber-500"})]},re)})})]}),(S==="Lost"||H&&Object.values(M).some(L=>L==="Missing"))&&t.jsxs("div",{className:"space-y-4 animate-in slide-in-from-bottom-3",children:[t.jsx("label",{className:"text-[8.5px] font-black text-slate-900 uppercase tracking-widest px-1",children:"Institutional Protocol Directive"}),t.jsx("div",{className:"grid grid-cols-1 gap-4",children:["Search","Replacement","Supervisor"].map(L=>{const re=ae(L),h=W===L;return t.jsxs("button",{type:"button",onClick:()=>ue(L),className:`relative flex flex-col p-5 rounded-[2rem] border transition-all text-left ${h?"bg-white border-indigo-600 shadow-xl ring-2 ring-indigo-50":"bg-white border-slate-100 hover:border-indigo-200 shadow-sm"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 shadow-inner ${h?"bg-[#0F1135] text-white":"bg-slate-50 text-slate-300"}`,children:re.icon}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:`text-[11px] font-black uppercase tracking-tight ${h?"text-slate-900":"text-slate-600"}`,children:re.label}),t.jsx("p",{className:"text-[7.5px] font-bold text-slate-400 uppercase tracking-[0.1em] mt-2",children:re.desc})]})]}),h&&t.jsx(Qd,{size:18,className:"text-indigo-600"})]}),t.jsx("div",{className:"h-px w-full bg-slate-50 mb-4"}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:`px-3 py-1 rounded-lg border flex items-center gap-1.5 shadow-sm transition-all ${re.color}`,children:[re.icon&&zs.cloneElement(re.icon,{size:10}),t.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:re.status})]})})]},L)})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-[8.5px] font-black text-slate-900 uppercase tracking-widest px-1",children:"Case Authorization Notes"}),t.jsx("textarea",{className:"w-full bg-white border border-slate-200 rounded-[1.8rem] px-6 py-5 text-[10px] font-medium text-slate-700 outline-none h-28 shadow-inner focus:ring-2 focus:ring-indigo-500 transition-all",placeholder:"Detail any sighting discrepancies or technical state...",value:A,onChange:L=>w(L.target.value)})]})]}),t.jsxs("div",{className:"p-8 bg-white border-t border-slate-100 flex flex-col sm:flex-row gap-4 shrink-0",children:[t.jsx("button",{onClick:o,className:"flex-1 py-4 rounded-2xl border border-slate-200 text-slate-400 font-black uppercase text-[10px] tracking-widest hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:Z,className:`flex-[1.8] py-4 rounded-2xl text-white font-black uppercase text-[10px] shadow-2xl active:scale-95 transition-all ${S==="Lost"||H&&Object.values(M).some(L=>L==="Missing")?"bg-[#0F1135] hover:bg-[#1E2045]":"bg-emerald-600 hover:bg-emerald-700"}`,children:t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx(Ve,{size:18}),"Authorize & Reconcile"]})})]})]})})},a1=({tools:c,staff:d,currentUser:x,onSave:o,onCancel:y,initialRecord:S,startAtAudit:q=!1})=>{const[A,w]=p.useState(q?2:1),[f,E]=p.useState((S==null?void 0:S.imageUrls)||[]),b=()=>{const G=new Date().getHours();return G>=7&&G<19?lt.DAY:lt.NIGHT},[m,_]=p.useState({date:(S==null?void 0:S.date)||new Date().toISOString().split("T")[0],shiftType:(S==null?void 0:S.shiftType)||b(),page:(S==null?void 0:S.pageNumber)||`LOG-${Date.now().toString().slice(-4)}`}),[M,D]=p.useState([]),[H,F]=p.useState(""),[g,z]=p.useState(""),[C,ie]=p.useState(new Set),[k,v]=p.useState({}),[Y,j]=p.useState({}),[V,K]=p.useState(""),[W,ue]=p.useState(""),ee=p.useRef(null),se=G=>{ie(U=>{const Q=new Set(U);if(Q.has(G))Q.delete(G);else{const te=c.find(J=>J.id===G);if(te&&te.available<=0)return alert("Inventory Alert: This tool has 0 units in stock and cannot be reported as unreturned from the store."),U;if(Q.add(G),k[G]||v(J=>({...J,[G]:1})),te!=null&&te.composition&&!Y[G]){const J={};te.composition.forEach(pe=>J[pe]="Unreturned"),j(pe=>({...pe,[G]:J}))}}return Q})},N=(G,U)=>{const Q=c.find(J=>J.id===G),te=Q?Q.available:1;v(J=>({...J,[G]:Math.max(1,Math.min(te,(J[G]||1)+U))}))},Z=(G,U)=>{j(Q=>{const te=Q[G]||{},pe=(te[U]||"Present")==="Present"?"Unreturned":"Present";return{...Q,[G]:{...te,[U]:pe}}})},ae=G=>{const U=c.find(te=>te.id===G);if(!(U!=null&&U.composition))return;const Q={};U.composition.forEach(te=>Q[te]="Present"),j(te=>({...te,[G]:Q}))},L=G=>{const U=G.target.files;U&&Array.from(U).forEach(Q=>{const te=new FileReader;te.onloadend=()=>E(J=>[...J,te.result]),te.readAsDataURL(Q)})},re=()=>{if(C.size===0)return alert("Select tool(s) to proceed.");const G=V||x.id,U=Array.from(C).map(Q=>{const te=c.find(Ce=>Ce.id===Q),J=k[Q]||1,pe=Y[Q]||{};let ge=W;if((te==null?void 0:te.assetClass)==="Set"||(te==null?void 0:te.assetClass)==="Toolbox"){const Ce=Object.entries(pe).filter(([_e,Qe])=>Qe==="Unreturned").map(([_e])=>_e);if(Ce.length>0){const _e=`[UNRETURNED PIECES: ${Ce.join(", ")}]`;ge=ge?`${ge} | ${_e}`:_e}}return{toolId:Q,staffId:G,condition:"Unreturned",quantity:J,notes:ge}});D(Q=>[...Q,...U]),ie(new Set),v({}),j({}),F(""),z(""),K(""),ue("")},h=p.useMemo(()=>c.filter(G=>(G.name||"").toLowerCase().includes(H.toLowerCase())||(G.id||"").toLowerCase().includes(H.toLowerCase())),[c,H]),R=p.useMemo(()=>d.filter(G=>(G.name||"").toLowerCase().includes(g.toLowerCase())||(G.id||"").toLowerCase().includes(g.toLowerCase())),[d,g]),de=()=>{if(f.length===0)return alert("Upload at least one page scan.");o({id:(S==null?void 0:S.id)||`PL-${Date.now()}`,date:m.date,shiftType:m.shiftType,attendantId:x.id,attendantName:x.name,imageUrls:f,pageNumber:m.page,timestamp:(S==null?void 0:S.timestamp)||new Date().toLocaleString()},M)},xe=p.useMemo(()=>{const G={};return M.forEach(U=>{G[U.staffId]||(G[U.staffId]=[]),G[U.staffId].push(U)}),G},[M]);return t.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-2 sm:p-4 bg-slate-900/80 backdrop-sm overflow-y-auto no-scrollbar",children:t.jsxs("div",{className:"bg-[#F8FAFF] w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col border border-white/20 animate-in zoom-in-95 duration-300 my-auto max-h-[95vh]",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-white shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-[#0F1135] rounded-xl flex items-center justify-center text-white shadow-lg",children:t.jsx(Hd,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-tight",children:A===1?"Step 1: Scans":"Step 2: Unreturned Report"}),t.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-0.5",children:"Digitizing Physical Logbooks"})]})]}),t.jsx("button",{onClick:y,className:"text-slate-300 hover:text-slate-900 transition-colors p-2",children:t.jsx(ht,{size:20})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white/50 no-scrollbar space-y-6",children:A===1?t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[t.jsx("div",{className:"min-h-[300px] bg-slate-50/50 rounded-[2rem] border border-slate-100 p-6 shadow-inner relative group cursor-pointer",onClick:()=>{var G;return!f.length&&((G=ee.current)==null?void 0:G.click())},children:f.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center text-center space-y-4 py-20",children:[t.jsx("div",{className:"w-16 h-16 bg-white rounded-3xl flex items-center justify-center text-slate-200 border border-slate-100 shadow-sm group-hover:scale-110 transition-transform",children:t.jsx(Xn,{size:32})}),t.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Capture Logbook Pages"})]}):t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 animate-in fade-in",children:[f.map((G,U)=>t.jsxs("div",{className:"relative aspect-[3/4] bg-white rounded-[1.2rem] overflow-hidden border border-slate-100 shadow-sm group/img",children:[t.jsx("img",{src:G,className:"w-full h-full object-cover"}),t.jsx("button",{onClick:Q=>{Q.stopPropagation(),E(te=>te.filter((J,pe)=>pe!==U))},className:"absolute top-2 right-2 w-7 h-7 bg-white/90 text-rose-500 rounded-lg flex items-center justify-center shadow-lg opacity-0 group-hover/img:opacity-100 transition-all",children:t.jsx(il,{size:14})})]},U)),t.jsxs("button",{onClick:G=>{var U;G.stopPropagation(),(U=ee.current)==null||U.click()},className:"aspect-[3/4] rounded-[1.2rem] border-2 border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-300 hover:bg-white transition-all space-y-1",children:[t.jsx(us,{size:24}),t.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:"Add Page"})]})]})}),t.jsx("input",{type:"file",ref:ee,onChange:L,className:"hidden",accept:"image/*",multiple:!0}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{className:"bg-white border border-slate-100 p-3.5 rounded-xl shadow-sm flex items-center space-x-3",children:[t.jsx("div",{className:"p-1.5 bg-indigo-50 rounded-lg text-indigo-600",children:t.jsx(Ms,{size:14})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Recording Officer"}),t.jsx("p",{className:"text-[9px] font-black text-slate-800 uppercase truncate",children:x.name})]})]}),t.jsxs("div",{className:"bg-white border border-slate-100 p-3.5 rounded-xl shadow-sm flex items-center space-x-3",children:[t.jsx("div",{className:"p-1.5 bg-orange-50 rounded-lg text-orange-600",children:t.jsx(cl,{size:14})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Log Date"}),t.jsx("p",{className:"text-[9px] font-black text-slate-800 uppercase",children:m.date})]})]})]})]}):t.jsxs("div",{className:"space-y-5 animate-in slide-in-from-right-4 duration-500",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[8.5px] font-black text-slate-900 uppercase tracking-widest ml-1",children:"Select Unreturned Tools"}),t.jsxs("div",{className:"relative group",children:[t.jsx(xs,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-2 text-[9px] font-bold text-slate-700 outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",value:H,onChange:G=>F(G.target.value),placeholder:"Search tools..."})]}),t.jsx("div",{className:"bg-white border border-slate-100 rounded-xl h-72 overflow-y-auto no-scrollbar p-1.5 space-y-1 shadow-inner",children:h.map(G=>{const U=C.has(G.id),Q=k[G.id]||1,te=Y[G.id]||{},J=G.available<=0;return t.jsxs("div",{className:`rounded-lg transition-all flex flex-col p-1.5 border ${U?"bg-indigo-50/50 border-indigo-100 shadow-sm":"border-transparent hover:bg-slate-50"} ${J?"opacity-50 grayscale":""}`,children:[t.jsxs("button",{disabled:J,onClick:()=>se(G.id),className:"w-full text-left p-2 rounded-md flex items-center justify-between group",children:[t.jsxs("div",{className:"flex items-center space-x-2.5 min-w-0",children:[t.jsx("div",{className:`p-1.5 rounded-lg border shadow-inner ${U?"bg-indigo-600 text-white":"bg-white text-slate-300 border-slate-100"}`,children:t.jsx(Dt,{size:12})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:`text-[9px] font-black uppercase truncate leading-none ${U?"text-indigo-900":"text-slate-800"}`,children:G.name}),t.jsx("p",{className:`text-[6.5px] font-bold uppercase mt-1 tracking-widest ${J?"text-rose-500":"text-slate-400"}`,children:J?"STOCK ZERO":`STORE STOCK: ${G.available}`})]})]}),U?t.jsx(Kn,{size:16,className:"text-indigo-600"}):t.jsx(bc,{size:16,className:"text-slate-200"})]}),U&&t.jsxs("div",{className:"mt-1.5 pt-2.5 px-2 pb-2 border-t border-indigo-100 space-y-4 animate-in slide-in-from-top-1",children:[t.jsxs("div",{className:"flex items-center justify-between bg-white border border-indigo-100 rounded-xl p-2 shadow-sm shrink-0",children:[t.jsx("div",{className:"flex flex-col ml-1",children:t.jsx("span",{className:"text-[7.5px] font-black text-indigo-400 uppercase leading-none",children:"Unreturned Qty:"})}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:()=>N(G.id,-1),className:"w-7 h-7 bg-slate-50 border border-slate-200 rounded-lg flex items-center justify-center text-slate-400 hover:text-indigo-600",children:t.jsx(Wn,{size:12})}),t.jsx("span",{className:"text-xs font-black text-slate-900 tabular-nums",children:Q}),t.jsx("button",{onClick:()=>N(G.id,1),className:"w-7 h-7 bg-slate-50 border border-slate-200 rounded-lg flex items-center justify-center text-slate-400 hover:text-indigo-600",children:t.jsx(us,{size:12})})]})]}),(G.assetClass==="Set"||G.assetClass==="Toolbox")&&G.composition&&t.jsxs("div",{className:"bg-white border border-indigo-100 rounded-[1.5rem] p-3 space-y-2.5 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-1.5",children:[t.jsx(vc,{size:12,className:"text-indigo-600"}),t.jsx("span",{className:"text-[7.5px] font-black text-slate-900 uppercase",children:"Piece Sighting"})]}),t.jsx("button",{onClick:()=>ae(G.id),className:"text-[7px] font-black text-slate-400 hover:text-indigo-600 uppercase tracking-tighter",children:"Untick All"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-1.5 max-h-32 overflow-y-auto no-scrollbar pr-1",children:G.composition.map((pe,ge)=>{const _e=(te[pe]||"Present")==="Unreturned";return t.jsxs("button",{onClick:()=>Z(G.id,pe),className:`flex items-center justify-between p-2.5 rounded-xl border transition-all text-left ${_e?"bg-indigo-50/50 border-indigo-200":"bg-white border-slate-100"}`,children:[t.jsx("span",{className:`text-[9px] font-black uppercase truncate pr-2 ${_e?"text-indigo-700":"text-slate-400"}`,children:pe}),_e?t.jsx(Kn,{size:14,className:"text-indigo-600"}):t.jsx(bc,{size:14,className:"text-slate-200"})]},ge)})})]})]})]},G.id)})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[8.5px] font-black text-slate-900 uppercase tracking-widest ml-1",children:"Responsible Staff"}),t.jsxs("div",{className:"relative group",children:[t.jsx(Ms,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-2 text-[9px] font-bold text-slate-700 outline-none shadow-sm",value:g,onChange:G=>z(G.target.value),placeholder:"Search personnel..."})]}),t.jsx("div",{className:"bg-white border border-slate-100 rounded-xl h-48 overflow-y-auto no-scrollbar p-1.5 space-y-1 shadow-inner",children:R.map(G=>t.jsxs("button",{onClick:()=>{z(G.name),K(G.id)},className:`w-full text-left p-2.5 rounded-lg flex items-center justify-between transition-all group ${V===G.id?"bg-[#0F1135] text-white shadow-md":"hover:bg-indigo-50 border border-transparent"}`,children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-black text-[10px] transition-colors ${V===G.id?"bg-indigo-500 text-white":"bg-slate-50 text-indigo-400 shadow-inner"}`,children:G.name.charAt(0)}),t.jsx("div",{className:"min-w-0",children:t.jsx("p",{className:`text-[10px] font-black uppercase leading-none truncate ${V===G.id?"text-white":"text-slate-800"}`,children:G.name})})]}),V===G.id&&t.jsx(nt,{size:14,className:"text-emerald-400"})]},G.id))})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[8.5px] font-black text-slate-900 uppercase tracking-widest ml-1",children:"Case Notes"}),t.jsx("textarea",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 text-[10px] font-medium text-slate-700 outline-none h-20 shadow-inner placeholder:text-slate-300 focus:ring-1 focus:ring-indigo-500",placeholder:"Details for unreturned report...",value:W,onChange:G=>ue(G.target.value)})]}),t.jsxs("button",{onClick:re,disabled:C.size===0,className:"w-full bg-[#0F1135] text-white py-4 rounded-2xl text-[9px] font-black uppercase tracking-widest shadow-xl hover:bg-indigo-700 transition-all flex items-center justify-center gap-3 disabled:opacity-40 active:scale-[0.98]",children:[t.jsx(us,{size:16}),t.jsx("span",{children:"Add to Registry Exceptions"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.2rem] shadow-sm flex flex-col overflow-hidden animate-in fade-in duration-500",children:[t.jsx("div",{className:"px-6 py-4 bg-[#0F1135] flex items-center justify-between shrink-0",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-1.5 bg-white/10 rounded-lg text-indigo-400 shadow-inner",children:t.jsx(ss,{size:14})}),t.jsx("h5",{className:"text-[10px] font-black text-white uppercase tracking-[0.15em]",children:"Pending Reports (Exceptions)"})]})}),t.jsx("div",{className:"flex-1 max-h-[350px] overflow-y-auto no-scrollbar bg-slate-50/30",children:M.length===0?t.jsxs("div",{className:"py-16 flex flex-col items-center justify-center text-center opacity-40 space-y-4",children:[t.jsx(ib,{size:36,className:"text-slate-200"}),t.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-400 px-12",children:"No unreturned tools reported."})]}):t.jsx("div",{className:"p-5 space-y-6",children:Object.entries(xe).map(([G,U])=>{const Q=d.find(te=>te.id===G);return t.jsxs("div",{className:"bg-white border border-slate-100 rounded-[1.8rem] shadow-sm overflow-hidden animate-in slide-in-from-bottom-2",children:[t.jsxs("div",{className:"bg-slate-900 px-5 py-2.5 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-1.5 bg-indigo-500 rounded-lg text-white shadow-sm",children:t.jsx(Ms,{size:10})}),t.jsx("span",{className:"text-[8.5px] font-black text-white uppercase truncate max-w-[180px]",children:(Q==null?void 0:Q.name)||G})]}),t.jsxs("span",{className:"text-[7px] font-black text-white/40 uppercase tracking-widest",children:[U.length," Reports"]})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:U.map((te,J)=>{const pe=c.find(ge=>ge.id===te.toolId);return t.jsxs("div",{className:"group p-3 flex items-center justify-between hover:bg-indigo-50/10 transition-colors",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("p",{className:"text-[9.5px] font-black text-slate-800 uppercase truncate leading-none",children:(pe==null?void 0:pe.name)||te.toolId}),t.jsxs("span",{className:"text-[9px] font-black text-indigo-700 bg-indigo-50 px-1.5 py-0.5 rounded tabular-nums",children:["x",te.quantity]})]}),t.jsx("p",{className:"text-[6.5px] font-bold text-slate-300 uppercase mt-1",children:"STATUS: UNRETURNED"})]}),t.jsx("button",{onClick:()=>D(M.filter(ge=>ge!==te)),className:"p-1.5 text-slate-200 hover:text-rose-500 rounded-lg transition-all",children:t.jsx(il,{size:12})})]},J)})})]},G)})})})]})]})}),t.jsxs("div",{className:"px-6 py-5 bg-white border-t border-slate-100 flex justify-between shrink-0 items-center",children:[t.jsx("div",{children:A===2&&t.jsx("button",{onClick:()=>w(1),className:"px-8 py-3.5 rounded-xl border border-slate-200 text-slate-400 text-[9px] font-black uppercase tracking-widest hover:bg-slate-50 transition-all active:scale-95",children:"Back to Scan"})}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("button",{onClick:()=>A===1?f.length>0?w(2):alert("Please upload a scan first."):de(),className:"px-12 py-4 bg-[#0F1135] text-white rounded-[2rem] font-black uppercase text-[10px] tracking-[0.1em] shadow-2xl flex items-center gap-4 transition-all hover:bg-indigo-600 active:scale-95 group",children:[t.jsx("span",{children:A===1?"Report Unreturned Tools":"Commit Records"}),t.jsx(qs,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]})]})})},l1=({type:c,tempValue:d,maxAvailable:x,onUpdateTempValue:o,onCancel:y,onAuthorize:S})=>t.jsxs("div",{className:"absolute inset-0 z-30 bg-[#0F1135] rounded-[2.2rem] p-6 flex flex-col justify-center items-center text-center animate-in zoom-in-95 duration-200",children:[t.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center text-white mb-4 shadow-xl ${c==="DAM"?"bg-amber-500":"bg-rose-500"}`,children:c==="DAM"?t.jsx(ms,{size:28}):t.jsx(Rs,{size:28})}),t.jsx("h4",{className:"text-xs font-black text-white uppercase tracking-widest mb-1",children:"Quantity Check"}),t.jsxs("p",{className:"text-[8px] font-black text-indigo-300 uppercase tracking-[0.15em] mb-6",children:["How many tools are ",c==="DAM"?"broken":"missing","?"]}),t.jsxs("div",{className:"flex items-center space-x-6 mb-8 bg-white/5 p-4 rounded-3xl border border-white/10 w-full justify-between",children:[t.jsx("button",{onClick:()=>o(Math.max(1,d-1)),className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center text-white hover:bg-white/20 transition-all active:scale-90",children:t.jsx(Wn,{size:20})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-3xl font-black text-white tabular-nums leading-none",children:d}),t.jsxs("span",{className:"text-[7px] font-black text-white/40 uppercase mt-1",children:["OF ",x," TOTAL"]})]}),t.jsx("button",{onClick:()=>o(Math.min(x,d+1)),className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center text-white hover:bg-white/20 transition-all active:scale-90",children:t.jsx(us,{size:20})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full",children:[t.jsx("button",{onClick:y,className:"py-3 bg-white/5 rounded-xl text-white/50 text-[9px] font-black uppercase tracking-widest hover:bg-white/10",children:"Back"}),t.jsx("button",{onClick:()=>S(c==="DAM"?"Damaged":"Lost",d),className:"py-3 bg-white text-[#0F1135] rounded-xl text-[9px] font-black uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"Confirm"})]})]}),n1=({tool:c,res:d,activeHolders:x,usageLogs:o,isMaintenance:y,completion:S,isVariance:q,isLockedByCase:A=!1,isHighlightError:w=!1,staffSearch:f,filteredStaff:E,isPrompting:b,variancePromptType:m,varianceTempValue:_,onToggleVerification:M,onTogglePieceStatus:D,onMarkAllPiecesFound:H,onUpdateQuantity:F,onUpdateCondition:g,onStaffSearchChange:z,onLiabilityAssignment:C,onNoteChange:ie,onExecuteConditionUpdate:k,onCancelPrompt:v,onUpdatePromptValue:Y})=>{var ae;const j=c.assetClass==="Set"||c.assetClass==="Toolbox",V=p.useMemo(()=>o.filter(L=>L.toolId===c.id&&L.issuanceType==="Outstanding"&&!L.isReturned&&L.escalationStatus!=="Resolved"),[o,c.id]),K=p.useMemo(()=>V.reduce((L,re)=>L+(re.quantity||0),0),[V]),W=p.useMemo(()=>{const L=new Set;return V.forEach(re=>{const h=(re.comment||"").toUpperCase(),R=h.match(/\[MISSING:\s*([^\]]+)\]/i),de=h.match(/\[DAMAGED:\s*([^\]]+)\]/i);R&&R[1].split(",").forEach(xe=>L.add(xe.trim().toUpperCase())),de&&de[1].split(",").forEach(xe=>L.add(xe.trim().toUpperCase()))}),L},[V]),ue=V.length>0,ee=L=>{switch(L){case"Excellent":return{label:"GOOD",color:"text-emerald-600",active:"bg-emerald-500 text-white border-emerald-600 shadow-emerald-200",border:"border-emerald-200",dot:"bg-emerald-500"};case"Damaged":return{label:"BROKEN",color:"text-amber-600",active:"bg-amber-500 text-white border-amber-600 shadow-amber-200",border:"border-amber-200",dot:"bg-amber-500"};case"Lost":return{label:"MISSING",color:"text-rose-600",active:"bg-rose-500 text-white border-rose-600 shadow-rose-200",border:"border-rose-200",dot:"bg-rose-500"};default:return{label:"CHECK",color:"text-slate-400",active:"bg-slate-900 text-white",border:"border-slate-200",dot:"bg-slate-300"}}},se=(d==null?void 0:d.quantity)??((c==null?void 0:c.available)||0),N=c.quantity-c.available,Z=x.map(L=>L.staffName.split(" ")[0]).filter((L,re,h)=>h.indexOf(L)===re).join(", ");return t.jsxs("div",{className:`bg-white border rounded-[2.2rem] p-5 shadow-sm transition-all duration-500 flex flex-col space-y-4 relative overflow-hidden ${A?"border-indigo-200 bg-indigo-50/10 opacity-60":w?"border-rose-500 ring-4 ring-rose-100 shadow-xl shadow-rose-100":d!=null&&d.verified?q?"border-rose-400 ring-2 ring-rose-50 shadow-lg":"border-indigo-500 ring-2 ring-indigo-50 shadow-lg":"border-slate-100 hover:border-indigo-200"}`,children:[(d==null?void 0:d.verified)&&!q&&t.jsx("div",{className:"absolute -top-2 -right-2 opacity-10 pointer-events-none rotate-12",children:t.jsx(Ve,{size:100,className:"text-indigo-600"})}),ue&&t.jsx("div",{className:"absolute top-0 right-0 left-0 bg-[#0F1135] py-1.5 text-center shadow-lg z-20",children:t.jsxs("p",{className:"text-[7.5px] font-black text-indigo-300 uppercase tracking-[0.2em] flex items-center justify-center gap-1.5",children:[t.jsx(mt,{size:10,className:"text-rose-500"})," ",K," UNIT",K>1?"S":""," UNDER PROCESS"]})}),w&&t.jsx("div",{className:"absolute top-0 right-0 left-0 bg-rose-600 py-1.5 text-center shadow-lg z-20",children:t.jsxs("p",{className:"text-[7.5px] font-black text-white uppercase tracking-[0.2em] flex items-center justify-center gap-1.5",children:[t.jsx(ms,{size:10})," ACTION REQUIRED"]})}),b&&m&&t.jsx(l1,{type:m,tempValue:_,maxAvailable:c.available,onUpdateTempValue:Y,onCancel:v,onAuthorize:(L,re)=>k(c.id,L,re)}),t.jsxs("div",{className:`flex items-center space-x-3 relative z-10 ${w||ue?"mt-4":""}`,children:[t.jsx("button",{onClick:()=>!A&&M(c.id),disabled:A,className:`w-11 h-11 rounded-xl flex items-center justify-center shrink-0 transition-all duration-300 ${A?"bg-indigo-100 text-indigo-600 cursor-default":w?"bg-rose-50 text-rose-600 border-2 border-rose-200":d!=null&&d.verified?"bg-indigo-600 text-white shadow-md":"bg-slate-50 text-slate-300 border border-slate-100 hover:border-indigo-300"}`,children:A?t.jsx(gc,{size:22}):w?t.jsx(Kl,{size:22}):t.jsx(Ve,{size:22})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("h4",{className:`text-sm font-black uppercase tracking-tight leading-[1.2] line-clamp-2 transition-colors ${w?"text-rose-700":"text-slate-900"}`,children:c.name})}),t.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[t.jsx("span",{className:"text-[8px] font-black text-slate-300 uppercase tracking-widest",children:c.category}),ue&&t.jsx("span",{className:"text-[7px] font-black text-rose-500 uppercase tracking-tighter",children:"Variance Active"})]})]})]}),j&&t.jsx("div",{className:"space-y-2 relative z-10",children:t.jsxs("div",{className:`p-4 rounded-2xl border transition-all ${d!=null&&d.verified?"bg-white/90 border-slate-100":"bg-white border-indigo-200 ring-2 ring-indigo-50 shadow-md"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vc,{size:14,className:"text-indigo-600"}),t.jsx("h4",{className:"text-[9px] font-black text-slate-900 uppercase tracking-widest",children:"Kits Check"})]}),t.jsx("button",{onClick:()=>H(c.id),className:"text-[7.5px] font-black text-indigo-600 uppercase border border-indigo-200 px-2 py-0.5 rounded hover:bg-indigo-50",children:"Find All"})]}),t.jsx("div",{className:"grid grid-cols-1 gap-1.5 max-h-48 overflow-y-auto no-scrollbar pr-1",children:(ae=c.composition)==null?void 0:ae.map((L,re)=>{var xe;const h=(xe=d==null?void 0:d.pieceStatus)==null?void 0:xe[L],R=L.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,"").toUpperCase(),de=W.has(R);return t.jsxs("button",{disabled:A||de,onClick:()=>D(c.id,L),className:`w-full flex items-center justify-between p-2.5 rounded-xl border transition-all text-left ${de?"bg-slate-900 border-slate-900 cursor-not-allowed text-white shadow-sm":A?"bg-slate-50 border-slate-100 cursor-not-allowed opacity-60":h?h==="Present"?"bg-emerald-50/30 border-emerald-200 hover:border-emerald-300 shadow-sm":h==="Missing"?"bg-rose-50 border-rose-200 shadow-sm":"bg-amber-50 border-amber-200 shadow-sm":"bg-slate-50 border-slate-100 hover:bg-slate-100 hover:border-slate-200"}`,children:[t.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[t.jsx("span",{className:`text-[9px] font-black uppercase truncate ${de?"text-indigo-300":h?h==="Present"?"text-emerald-700":h==="Missing"?"text-rose-700":"text-amber-700":"text-slate-400"}`,children:L}),de&&t.jsx("span",{className:"text-[6px] font-black text-rose-500 uppercase tracking-tighter bg-white/10 px-1 rounded",children:"PROCESS ACTIVE"})]}),de?t.jsx(gc,{size:12,className:"text-rose-500"}):h?h==="Present"?t.jsx($d,{size:12,className:"text-emerald-500"}):h==="Missing"?t.jsx(Rs,{size:12,className:"text-rose-500"}):t.jsx(ua,{size:12,className:"text-amber-500"}):t.jsx(Zn,{size:12,className:"text-slate-200"})]},re)})})]})}),(d==null?void 0:d.verified)&&q&&t.jsxs("div",{className:"space-y-3 animate-in slide-in-from-top-2 duration-300 bg-slate-50 p-4 rounded-2xl border border-rose-100 shadow-inner relative z-10",children:[t.jsxs("div",{className:"space-y-1.5 relative",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsible Staff"}),t.jsxs("div",{className:"relative group",children:[t.jsx(fs,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl pl-9 pr-3 py-2 text-[9px] font-bold text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500 shadow-sm transition-all",placeholder:"Personnel search (blank for self)...",value:f,onChange:L=>z(c.id,L.target.value)}),E.length>0&&f&&t.jsx("div",{className:"absolute bottom-full left-0 right-0 z-50 bg-white border border-slate-200 rounded-xl mb-1 shadow-2xl overflow-hidden max-h-32 overflow-y-auto no-scrollbar",children:E.map(L=>t.jsxs("button",{onClick:()=>C(c.id,L.id,L.name),className:"w-full text-left px-4 py-2 hover:bg-indigo-50 flex items-center justify-between border-b border-slate-50 last:border-0 transition-colors",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[9px] font-black uppercase text-slate-800",children:L.name}),t.jsx("span",{className:"text-[7px] font-bold text-slate-400 uppercase",children:L.id})]}),t.jsx(us,{size:12,className:"text-indigo-600"})]},L.id))})]}),d.responsibleStaffName&&t.jsxs("div",{className:"mt-1.5 flex items-center justify-between px-2 py-1.5 bg-indigo-50 border border-indigo-100 rounded-lg animate-in fade-in duration-300",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ve,{size:10,className:"text-indigo-600"}),t.jsx("span",{className:"text-[8px] font-black text-indigo-700 uppercase truncate max-w-[120px]",children:d.responsibleStaffName})]}),t.jsx("button",{onClick:()=>C(c.id,"",""),className:"text-indigo-400 hover:text-rose-500 p-1",children:t.jsx(ht,{size:10})})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsxs("div",{className:"flex items-center justify-between ml-1",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Case Notes"}),t.jsx(Fn,{size:10,className:"text-slate-300"})]}),t.jsx("textarea",{className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-2.5 text-[10px] font-medium text-slate-700 outline-none h-16 focus:ring-1 focus:ring-indigo-500 shadow-sm resize-none",placeholder:"Sighting context...",value:d.notes||"",onChange:L=>ie(c.id,L.target.value)})]})]}),t.jsxs("div",{className:"mt-auto space-y-4 pt-2 relative z-10",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{className:"bg-slate-900 border border-white/5 rounded-[1.5rem] p-4 text-center shadow-xl shadow-slate-900/10 relative group overflow-hidden flex flex-col justify-center min-h-[90px]",children:[t.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500 opacity-50"}),t.jsx("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest mb-1 leading-none",children:"Expected"}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("p",{className:"text-2xl font-black text-white tabular-nums leading-none",children:c.available}),t.jsxs("p",{className:"text-[7px] font-black text-slate-400 uppercase mt-1 tracking-tighter",children:["System Total: ",c.quantity]})]}),N>0&&t.jsx("div",{className:"mt-2 pt-2 border-t border-white/5",children:t.jsxs("p",{className:"text-[6.5px] font-bold text-indigo-400 uppercase tracking-widest leading-tight",children:["Held By: ",Z||"External Registry"]})})]}),t.jsxs("div",{className:`rounded-[1.5rem] p-4 text-center border transition-all relative group flex flex-col justify-center min-h-[90px] ${A?"bg-indigo-100 border-indigo-200 shadow-inner":d!=null&&d.verified?q?"bg-rose-50 border-rose-300 shadow-xl shadow-rose-100":"bg-indigo-50 border-indigo-200 shadow-lg shadow-indigo-100":"bg-white border-slate-100 shadow-sm"}`,children:[t.jsx("p",{className:`text-[8px] font-black uppercase tracking-widest mb-1 leading-none ${A?"text-indigo-600":d!=null&&d.verified?q?"text-rose-600":"text-indigo-600":"text-slate-400"}`,children:"Sighted"}),t.jsx("div",{className:"flex flex-col items-center",children:t.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[t.jsx("button",{disabled:A,onClick:()=>F(c.id,-1),className:`w-8 h-8 rounded-lg bg-white/20 border border-current/10 flex items-center justify-center text-slate-300 hover:text-indigo-600 active:scale-90 transition-all ${A?"opacity-20 cursor-not-allowed":""}`,children:t.jsx(Wn,{size:18})}),t.jsx("span",{className:`text-2xl font-black tabular-nums leading-none ${A?"text-indigo-700":q?"text-rose-700":"text-indigo-700"}`,children:se}),t.jsx("button",{disabled:A||se>=c.available,onClick:()=>F(c.id,1),className:`w-8 h-8 rounded-lg bg-white/20 border border-current/10 flex items-center justify-center text-slate-300 hover:text-indigo-600 active:scale-90 transition-all ${A||se>=c.available?"opacity-20 cursor-not-allowed":""}`,children:t.jsx(us,{size:18})})]})})]})]}),t.jsx("div",{className:"flex gap-1.5 p-1.5 bg-slate-100/50 rounded-[1.4rem] shadow-inner border border-slate-200/50",children:["Excellent","Damaged","Lost"].map(L=>{const re=(d==null?void 0:d.condition)===L,h=ee(L);return t.jsx("button",{disabled:A,onClick:()=>!A&&g(c.id,L),className:`flex-1 py-3.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all duration-300 relative group ${re?`${h.active} scale-[1.05] z-10 shadow-xl ring-4 ring-white/20`:`text-slate-400 border border-dashed border-slate-300 hover:border-slate-400 hover:bg-white hover:text-slate-600 ${A?"opacity-40 cursor-not-allowed":""}`}`,children:t.jsx("span",{className:"relative z-10",children:h.label})},L)})})]})]})},i1=({verifiedCount:c,totalCount:d,flagCount:x,isFirstSection:o,isLastSection:y,onBack:S,onNext:q,onFinalize:A})=>t.jsxs("div",{className:"px-10 py-6 bg-white border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-6 sticky bottom-0 z-20 shadow-[0_-20px_50px_rgba(0,0,0,0.05)] sm:rounded-b-[2.5rem]",children:[t.jsxs("div",{className:"flex items-center space-x-5",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-slate-400",children:[t.jsx(Ve,{size:20,className:"text-indigo-600"}),t.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-700",children:[c||0," / ",d||0," CHECKED"]})]}),t.jsx("div",{className:"h-6 w-px bg-slate-100"}),t.jsxs("div",{className:"flex items-center space-x-2 text-rose-500",children:[t.jsx(ms,{size:16}),t.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.15em]",children:[x||0," DIFFERENCE(S) FOUND"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4 w-full sm:w-auto",children:[!o&&t.jsx("button",{onClick:S,className:"flex-1 sm:flex-none px-8 py-4 rounded-2xl border border-slate-200 text-slate-500 font-black uppercase text-[10px] tracking-widest hover:bg-slate-50 transition-all",children:"Previous Page"}),y?t.jsxs("button",{onClick:A,className:"flex-1 sm:flex-none px-16 py-4 rounded-2xl bg-indigo-600 text-white text-[10px] font-black uppercase tracking-[0.3em] shadow-2xl hover:bg-[#0F1135] transition-all active:scale-95 flex items-center justify-center space-x-2",children:[t.jsx(Ve,{size:20})," ",t.jsx("span",{children:"Submit Completed Audit"})]}):t.jsxs("button",{onClick:q,className:"flex-1 sm:flex-none px-12 py-4 rounded-2xl bg-slate-900 text-white text-[10px] font-black uppercase tracking-[0.2em] shadow-2xl hover:bg-indigo-600 transition-all flex items-center justify-center gap-3 active:scale-95",children:[t.jsx("span",{children:"Go to Next Page"}),t.jsx(qs,{size:16})]})]})]}),c1=({currentZone:c,targetZone:d,searchTerm:x,onSearchChange:o,onCancel:y})=>t.jsx("div",{className:"px-8 py-5 border-b border-slate-100 bg-white sticky top-0 z-20",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-[#0F1135] rounded-2xl flex items-center justify-center text-white shadow-lg",children:t.jsx(_g,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase tracking-tight leading-none",children:"Inspection Checklist"}),t.jsxs("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-1.5",children:["Looking at: ",t.jsx("span",{className:"text-indigo-600 uppercase",children:c||d})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"hidden lg:flex items-center space-x-2 bg-slate-50 px-4 py-2 rounded-xl border border-slate-100",children:[t.jsx(xs,{size:14,className:"text-slate-300"}),t.jsx("input",{className:"bg-transparent text-[10px] font-black uppercase tracking-widest outline-none w-48 text-slate-700",placeholder:"FIND A TOOL...",value:x,onChange:S=>o(S.target.value)})]}),t.jsx("button",{onClick:y,className:"text-slate-300 hover:text-slate-900 transition-colors p-2",children:t.jsx(ht,{size:24})})]})]})}),r1=({zones:c,activeIndex:d,onZoneSelect:x})=>t.jsx("div",{className:"px-8 py-3 bg-slate-50 border-b border-slate-100 flex items-center space-x-2 overflow-x-auto no-scrollbar sticky top-[80px] z-10",children:c.map((o,y)=>t.jsxs("button",{onClick:()=>x(y),className:`px-4 py-2 rounded-xl text-[8px] font-black uppercase tracking-widest transition-all shrink-0 border ${y===d?"bg-[#0F1135] text-white shadow-md":"bg-white text-slate-400 border-slate-200"}`,children:[y+1,". ",o]},o))}),d1=({tools:c,usageLogs:d,maintenanceHistory:x=[],staff:o=[],targetZone:y,onSave:S,onCancel:q,currentUser:A})=>{const[w,f]=p.useState(""),[E,b]=p.useState(0),[m,_]=p.useState({}),[M,D]=p.useState({}),[H,F]=p.useState(new Set),[g,z]=p.useState(!1),C=p.useRef(null),[ie,k]=p.useState(!1),v=p.useRef(null);p.useEffect(()=>{var U;if(g&&C.current){const Q=C.current,te=(U=Q.parentElement)==null?void 0:U.getBoundingClientRect();if(!te)return;const J=window.devicePixelRatio||1;Q.width=te.width*J,Q.height=te.height*J,Q.style.width=`${te.width}px`,Q.style.height=`${te.height}px`;const pe=Q.getContext("2d");pe&&(pe.scale(J,J),pe.lineCap="round",pe.lineJoin="round",pe.strokeStyle="#0F1135",pe.lineWidth=2.5,v.current=pe)}},[g]);const Y=U=>{if(!C.current)return{x:0,y:0};const Q=C.current.getBoundingClientRect(),te="touches"in U?U.touches[0].clientX:U.clientX,J="touches"in U?U.touches[0].clientY:U.clientY;return{x:te-Q.left,y:J-Q.top}},j=U=>{if(!v.current)return;const{x:Q,y:te}=Y(U);v.current.beginPath(),v.current.moveTo(Q,te),k(!0),"touches"in U&&U.preventDefault()},V=U=>{if(!ie||!v.current)return;const{x:Q,y:te}=Y(U);v.current.lineTo(Q,te),v.current.stroke(),"touches"in U&&U.preventDefault()},K=()=>{v.current&&v.current.closePath(),k(!1)},W=p.useMemo(()=>{const U=w.toLowerCase();return c.filter(Q=>y==="Full Store"||Q.zone===y).filter(Q=>(Q.name||"").toLowerCase().includes(U)||(Q.id||"").toLowerCase().includes(U))},[c,y,w]),ue=p.useMemo(()=>Array.from(new Set(W.map(U=>U.zone))).sort(),[W]),ee=ue[E],se=p.useMemo(()=>W.filter(U=>U.zone===ee),[W,ee]),N=U=>{if(U.length===0)return;const Q=U[0],te=document.getElementById(`audit-card-${Q}`);te&&te.scrollIntoView({behavior:"smooth",block:"center"})},Z=U=>{const Q=c.find(te=>te.id===U);Q&&(_(te=>{const J=te[U]||{condition:"Excellent",verified:!1,notes:"",quantity:Q.available||0,damagedQuantity:0,pieceStatus:{}};return{...te,[U]:{...J,verified:!J.verified}}}),F(te=>{const J=new Set(te);return J.delete(U),J}))},ae=U=>{const Q=c.find(J=>J.id===U);if(!Q||!Q.composition)return;const te={};Q.composition.forEach(J=>te[J]="Present"),_(J=>({...J,[U]:{...J[U]||{condition:"Excellent",verified:!1,notes:"",quantity:Q.available,damagedQuantity:0,pieceStatus:{}},pieceStatus:te,condition:"Excellent",verified:!0}})),F(J=>{const pe=new Set(J);return pe.delete(U),pe})},L=(U,Q)=>{_(te=>{const J=c.find(vt=>vt.id===U),pe=te[U]||{condition:"Excellent",verified:!1,notes:"",quantity:(J==null?void 0:J.available)||0,damagedQuantity:0,pieceStatus:{}},ge=pe.pieceStatus[Q];let Ce="Present";ge?ge==="Present"?Ce="Missing":ge==="Missing"?Ce="Damaged":ge==="Damaged"&&(Ce="Present"):Ce="Present";const _e={...pe.pieceStatus,[Q]:Ce};let Qe="Excellent";return Object.values(_e).some(vt=>vt==="Missing")?Qe="Lost":Object.values(_e).some(vt=>vt==="Damaged")&&(Qe="Damaged"),{...te,[U]:{...pe,pieceStatus:_e,condition:Qe,verified:!0}}}),F(te=>{const J=new Set(te);return J.delete(U),J})},[re,h]=p.useState(null),R=(U,Q)=>{c.find(J=>J.id===U)&&h({toolId:U,type:Q,val:1})},de=(U,Q,te)=>{const J=c.find(pe=>pe.id===U);J&&(_(pe=>({...pe,[U]:{...pe[U]||{condition:"Excellent",verified:!1,notes:"",quantity:J.available,damagedQuantity:0,pieceStatus:{}},condition:Q,quantity:Q==="Lost"||Q==="Damaged"?Math.max(0,J.available-te):J.available,verified:!0}})),h(null),F(pe=>{const ge=new Set(pe);return ge.delete(U),ge}))},xe=()=>{var te;const U=((te=C.current)==null?void 0:te.toDataURL("image/png"))||"",Q=Object.entries(m).filter(([J,pe])=>pe.verified).map(([J,pe])=>{const ge=c.find(At=>At.id===J),Ce=(pe.quantity||0)<((ge==null?void 0:ge.available)||0)||pe.condition==="Lost"||pe.condition==="Damaged",_e=Ce?pe.responsibleStaffId||A.id:void 0,Qe=Ce?pe.responsibleStaffName||A.name:void 0;let vt=pe.notes;if((ge==null?void 0:ge.assetClass)==="Set"||(ge==null?void 0:ge.assetClass)==="Toolbox"){const At=Object.entries(pe.pieceStatus).filter(([dt,Re])=>Re==="Missing").map(([dt])=>dt),Gt=Object.entries(pe.pieceStatus).filter(([dt,Re])=>Re==="Damaged").map(([dt])=>dt);if(At.length>0||Gt.length>0){const dt=At.length>0?`[MISSING: ${At.join(", ")}]`:"",Re=Gt.length>0?`[DAMAGED: ${Gt.join(", ")}]`:"",Ds=`${dt} ${Re}`.trim();vt=vt?`${vt} | ${Ds}`:Ds}}return{toolId:J,condition:pe.condition||"Excellent",notes:vt,quantity:pe.quantity,expectedQty:(ge==null?void 0:ge.available)||0,responsibleStaffId:_e,responsibleStaffName:Qe,pieceStatus:pe.pieceStatus}});S(Q,U)},G=U=>{const Q=U.toLowerCase();return o.filter(te=>te.name.toLowerCase().includes(Q)||te.id.toLowerCase().includes(Q)).slice(0,5)};return t.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-0 sm:p-4 bg-slate-950/80 backdrop-md overflow-y-auto no-scrollbar",children:t.jsxs("div",{className:"relative bg-[#F8FAFF] w-full max-w-7xl h-full sm:h-auto sm:rounded-[2rem] shadow-2xl border border-white/10 animate-in zoom-in-95 duration-300 flex flex-col sm:max-h-[90vh]",children:[t.jsx(c1,{currentZone:ee,targetZone:y,searchTerm:w,onSearchChange:f,onCancel:q}),t.jsx(r1,{zones:ue,activeIndex:E,onZoneSelect:U=>{const Q=se.filter(te=>{var J;return!((J=m[te.id])!=null&&J.verified)}).map(te=>te.id);Q.length===0||U<E?b(U):(F(new Set(Q)),N(Q))}}),t.jsxs("div",{className:"flex-1 p-4 md:p-6 overflow-y-auto no-scrollbar bg-slate-50/30",children:[H.size>0&&t.jsxs("div",{className:"mb-6 p-4 bg-rose-50 border border-rose-200 rounded-2xl flex items-center gap-3 animate-in slide-in-from-top-2",children:[t.jsx(ms,{className:"text-rose-600",size:20}),t.jsxs("p",{className:"text-[10px] font-black text-rose-700 uppercase tracking-widest",children:["Action Required: Please check the ",H.size," remaining items highlighted below."]})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:se.map(U=>{const Q=m[U.id]||{verified:!1,condition:"Excellent",quantity:U.available,pieceStatus:{}},te=Q.verified&&(Q.quantity<U.available||Q.condition==="Lost"||Q.condition==="Damaged");return t.jsx("div",{id:`audit-card-${U.id}`,children:t.jsx(n1,{tool:U,res:Q,activeHolders:d.filter(J=>J.toolId===U.id&&!J.isReturned),usageLogs:d,isMaintenance:U.condition==="Maintenance",completion:U.composition?Math.round(Object.keys(Q.pieceStatus).length/U.composition.length*100):0,isVariance:te,isHighlightError:H.has(U.id),onToggleVerification:Z,onTogglePieceStatus:L,onMarkAllPiecesFound:()=>ae(U.id),onUpdateQuantity:(J,pe)=>{_(ge=>{const Ce=ge[J]||{condition:"Excellent",verified:!1,notes:"",quantity:U.available,damagedQuantity:0,pieceStatus:{}},_e=Math.min(U.available,Math.max(0,(Ce.quantity??U.available)+pe));let Qe=Ce.condition;return _e<U.available?Qe="Lost":_e===U.available&&Ce.condition==="Lost"&&(Qe="Excellent"),{...ge,[J]:{...Ce,quantity:_e,condition:Qe,verified:!0}}}),F(ge=>{const Ce=new Set(ge);return Ce.delete(J),Ce})},onUpdateCondition:(J,pe)=>{pe==="Excellent"?(_(ge=>({...ge,[J]:{...ge[J]||{condition:"Excellent",verified:!1,notes:"",quantity:U.available,damagedQuantity:0,pieceStatus:{}},condition:"Excellent",quantity:U.available,verified:!0}})),F(ge=>{const Ce=new Set(ge);return Ce.delete(J),Ce})):R(J,pe==="Damaged"?"DAM":"LOS")},onNoteChange:(J,pe)=>_(ge=>({...ge,[J]:{...ge[J],notes:pe}})),staffSearch:M[U.id]||"",filteredStaff:G(M[U.id]||""),onStaffSearchChange:(J,pe)=>D(ge=>({...ge,[J]:pe})),onLiabilityAssignment:(J,pe,ge)=>{_(Ce=>({...Ce,[J]:{...Ce[J],responsibleStaffId:pe,responsibleStaffName:ge}})),D(Ce=>({...Ce,[J]:""}))},isPrompting:(re==null?void 0:re.toolId)===U.id,variancePromptType:(re==null?void 0:re.type)||null,varianceTempValue:(re==null?void 0:re.val)||1,onExecuteConditionUpdate:de,onCancelPrompt:()=>h(null),onUpdatePromptValue:J=>h(pe=>pe?{...pe,val:J}:null)})},U.id)})})]}),t.jsx(i1,{verifiedCount:Object.values(m).filter(U=>U.verified).length,totalCount:W.length,flagCount:Object.entries(m).filter(([U,Q])=>{const te=c.find(J=>J.id===U);return Q.verified&&((Q.quantity||0)<((te==null?void 0:te.available)||0)||Q.condition==="Lost"||Q.condition==="Damaged")}).length,isFirstSection:E===0,isLastSection:E===ue.length-1,onBack:()=>b(U=>U-1),onNext:()=>{const U=se.filter(Q=>{var te;return!((te=m[Q.id])!=null&&te.verified)}).map(Q=>Q.id);U.length===0?b(Q=>Q+1):(F(new Set(U)),N(U))},onFinalize:()=>{const U=se.filter(Q=>{var te;return!((te=m[Q.id])!=null&&te.verified)}).map(Q=>Q.id);U.length===0?z(!0):(F(new Set(U)),N(U))}}),g&&t.jsx("div",{className:"absolute inset-0 z-[250] bg-slate-900/90 backdrop-blur-md flex items-center justify-center p-6",children:t.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl flex flex-col border border-white/20 animate-in zoom-in-95",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-black uppercase text-xs text-slate-900",children:"Sign Your Name"}),t.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Audit Certification"})]}),t.jsx("button",{onClick:()=>z(!1),className:"text-slate-300 hover:text-slate-900",children:t.jsx(ht,{size:20})})]}),t.jsxs("div",{className:"border-2 border-dashed border-slate-200 h-48 bg-slate-50 mb-8 rounded-[1.8rem] relative overflow-hidden group",children:[t.jsx("canvas",{ref:C,className:"w-full h-full cursor-crosshair touch-none relative z-10",onMouseDown:j,onMouseMove:V,onMouseUp:K,onMouseLeave:K,onTouchStart:j,onTouchMove:V,onTouchEnd:K}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10 pointer-events-none text-[8px] font-black uppercase tracking-[0.4em] text-slate-400",children:"Sign Below"})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>{v.current&&C.current&&v.current.clearRect(0,0,C.current.width,C.current.height)},className:"flex-1 py-4 bg-slate-100 text-slate-400 rounded-2xl font-black uppercase text-[9px] hover:bg-slate-200",children:"Clear"}),t.jsxs("button",{onClick:xe,className:"flex-[2] py-4 bg-[#0F1135] text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-indigo-600 transition-all active:scale-95 flex items-center justify-center space-x-2",children:[t.jsx(Ve,{size:20})," ",t.jsx("span",{children:"Finish Audit"})]})]})]})})]})})},o1=({record:c,staff:d,onConfirm:x,onCancel:o})=>{const[y,S]=p.useState(""),[q,A]=p.useState(null),[w,f]=p.useState(!1),E=p.useMemo(()=>{const b=y.toLowerCase();return!b||q?[]:d.filter(m=>m.name.toLowerCase().includes(b)||m.id.toLowerCase().includes(b)).slice(0,5)},[d,y,q]);return t.jsx("div",{className:"fixed inset-0 z-[350] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-slate-900 rounded-xl text-white shadow-lg",children:t.jsx(ti,{size:18})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-black uppercase tracking-tight",children:"Reassign Technician"}),t.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:["Escalated Asset: ",c.toolName]})]})]}),t.jsx("button",{onClick:o,className:"text-slate-300 hover:text-slate-900",children:t.jsx(ht,{size:20})})]}),t.jsxs("div",{className:"p-8 space-y-6",children:[t.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-4 rounded-2xl",children:[t.jsx("p",{className:"text-[8px] font-black text-indigo-400 uppercase mb-1",children:"Current Assignee:"}),t.jsx("p",{className:"text-sm font-black text-indigo-900 uppercase",children:c.assignedStaffName||"NONE"})]}),t.jsxs("div",{className:"space-y-1.5 relative",children:[t.jsx("label",{className:"text-[9px] font-black text-slate-900 uppercase ml-1",children:"New Technical Lead"}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),t.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-11 pr-4 py-4 text-[10px] font-black text-slate-700 uppercase outline-none focus:ring-1 focus:ring-indigo-500 shadow-inner",placeholder:"Search replacement technician...",value:y,onChange:b=>{S(b.target.value),A(null)}}),E.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-10 bg-white border border-slate-200 rounded-xl mt-1 shadow-2xl overflow-hidden",children:E.map(b=>t.jsxs("button",{onClick:()=>{A(b),S(b.name)},className:"w-full text-left px-5 py-3 hover:bg-indigo-50 flex items-center justify-between border-b border-slate-50 last:border-0",children:[t.jsx("span",{className:"text-[10px] font-black uppercase text-slate-800",children:b.name}),t.jsx(us,{size:14,className:"text-indigo-600"})]},b.id))})]})]}),t.jsxs("button",{disabled:!q||w,onClick:async()=>{f(!0),await x(q.id,q.name),f(!1)},className:"w-full bg-[#0F1135] text-white py-4 rounded-2xl font-black uppercase tracking-widest text-[9px] shadow-xl transition-all flex items-center justify-center space-x-2 disabled:opacity-40",children:[t.jsx(Ve,{size:18}),t.jsx("span",{children:w?"SYNCHRONIZING...":"AUTHORIZE REASSIGNMENT"})]})]})]})})},u1=({tools:c,staff:d,currentUser:x,onSave:o,onCancel:y})=>{const[S,q]=p.useState(new Set),[A,w]=p.useState(""),[f,E]=p.useState(!1),[b,m]=p.useState(""),[_,M]=p.useState(!1),[D,H]=p.useState(""),[F,g]=p.useState(""),[z,C]=p.useState(!1),ie=p.useMemo(()=>{const j=A.toLowerCase();return c.filter(V=>!S.has(V.id)).filter(V=>V.name.toLowerCase().includes(j)||V.id.toLowerCase().includes(j)).slice(0,5)},[c,A,S]),k=p.useMemo(()=>{const j=F.toLowerCase();return!j||D?[]:d.filter(V=>V.name.toLowerCase().includes(j)||V.id.toLowerCase().includes(j)).slice(0,5)},[d,F,D]),v=j=>{q(V=>{const K=new Set(V);return K.has(j)?K.delete(j):K.add(j),K}),w(""),E(!1)},Y=async()=>{if(S.size===0||!b||!D)return;M(!0);const j=Array.from(S).map(V=>{const K=c.find(W=>W.id===V);return{id:`MNT-${Date.now()}-${V}`,toolId:V,toolName:(K==null?void 0:K.name)||"Unknown",reportedBy:x.name,reportedDate:new Date().toISOString().split("T")[0],breakdownContext:b,isRepairable:null,status:"Staged",assignedStaffId:D,assignedStaffName:F}});await o(j),M(!1)};return t.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl text-white shadow-lg",children:t.jsx(Kl,{size:18})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-black uppercase tracking-tight text-slate-900",children:"Report Broken Tool"}),t.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:"Tell us what tools are broken"})]})]}),t.jsx("button",{onClick:y,className:"text-slate-300 hover:text-slate-900 transition-colors",children:t.jsx(ht,{size:20})})]}),t.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto no-scrollbar flex-1",children:[t.jsxs("div",{className:"space-y-1.5 relative",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Select Tools"}),t.jsxs("div",{className:"relative",children:[t.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:14}),t.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-11 pr-4 py-3 text-[10px] font-black text-slate-700 uppercase outline-none focus:ring-1 focus:ring-indigo-500 shadow-inner",placeholder:"Find tool...",value:A,onChange:j=>{w(j.target.value),E(!0)},onFocus:()=>E(!0)}),f&&A&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-10 bg-white border border-slate-200 rounded-xl mt-1 shadow-2xl overflow-hidden",children:ie.length===0?t.jsx("div",{className:"p-4 text-center text-[8px] font-black text-slate-300 uppercase",children:"No tools found"}):ie.map(j=>t.jsxs("button",{onClick:()=>v(j.id),className:"w-full text-left px-4 py-3 hover:bg-indigo-50 flex items-center justify-between border-b border-slate-50 last:border-0",children:[t.jsx("div",{className:"min-w-0 flex-1",children:t.jsx("p",{className:"text-[10px] font-black uppercase text-slate-800 leading-none",children:j.name})}),t.jsx(us,{size:14,className:"text-indigo-600"})]},j.id))})]}),S.size>0&&t.jsx("div",{className:"flex flex-wrap gap-2 mt-3 animate-in fade-in slide-in-from-top-1",children:Array.from(S).map(j=>{const V=c.find(K=>K.id===j);return t.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 px-3 py-1.5 rounded-lg flex items-center gap-2",children:[t.jsx("span",{className:"text-[9px] font-black text-indigo-700 uppercase",children:(V==null?void 0:V.name)||j}),t.jsx("button",{onClick:()=>v(j),className:"text-indigo-300 hover:text-rose-500 transition-colors",children:t.jsx(il,{size:12})})]},j)})})]}),t.jsxs("div",{className:"space-y-1.5 relative",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Assign Technician"}),t.jsxs("div",{className:"relative",children:[t.jsx(fs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:14}),t.jsx("input",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-11 pr-4 py-3 text-[10px] font-black text-slate-700 uppercase outline-none focus:ring-1 focus:ring-indigo-500 shadow-inner",placeholder:"Who will check the tool?",value:F,onChange:j=>{g(j.target.value),H(""),C(!0)},onFocus:()=>C(!0)}),z&&F&&!D&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-10 bg-white border border-slate-200 rounded-xl mt-1 shadow-2xl overflow-hidden",children:k.length===0?t.jsx("div",{className:"p-4 text-center text-[8px] font-black text-slate-300 uppercase",children:"No tech found"}):k.map(j=>t.jsx("button",{onClick:()=>{H(j.id),g(j.name),C(!1)},className:"w-full text-left px-4 py-3 hover:bg-indigo-50 flex items-center justify-between border-b border-slate-50 last:border-0",children:t.jsx("p",{className:"text-[10px] font-black uppercase text-slate-800",children:j.name})},j.id))})]})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"What happened?"}),t.jsx("textarea",{className:"w-full bg-slate-50 border border-slate-200 rounded-2xl px-5 py-4 text-[11px] font-medium text-slate-700 outline-none h-24 focus:ring-1 focus:ring-indigo-500 shadow-inner",placeholder:"Describe the breakdown...",value:b,onChange:j=>m(j.target.value)})]})]}),t.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100",children:t.jsxs("button",{disabled:S.size===0||!b||!D||_,onClick:Y,className:"w-full bg-[#0F1135] text-white py-4 rounded-2xl font-black uppercase tracking-[0.2em] text-[10px] hover:bg-indigo-600 shadow-xl transition-all flex items-center justify-center space-x-2 disabled:opacity-40",children:[t.jsx(Ve,{size:18}),t.jsx("span",{children:_?"Saving...":`Report ${S.size} broken tool(s)`})]})})]})})},x1=({record:c,staff:d,onConfirm:x,onCancel:o})=>{const[y,S]=p.useState(c.status==="In_Repair"?"Spares":"Restored"),[q,A]=p.useState(c.technicianNotes||""),[w,f]=p.useState(c.estimatedCost||0),[E,b]=p.useState(!1),[m,_]=p.useState(c.assignedStaffId||""),[M,D]=p.useState(c.assignedStaffName||""),H=p.useMemo(()=>{const g=M.toLowerCase();return!g||m?[]:d.filter(z=>z.name.toLowerCase().includes(g)||z.id.toLowerCase().includes(g)).slice(0,5)},[d,M,m]),F=async()=>{b(!0);let g="In_Repair",z=null;y==="Restored"?(g="Restored",z=!0):y==="Decommissioned"?(g="Decommissioned",z=!1):(g="In_Repair",z=!0),await x({isRepairable:z,technicianNotes:q,estimatedCost:w,assignedStaffId:m,assignedStaffName:M,resolutionDate:g==="Restored"||g==="Decommissioned"?new Date().toISOString().split("T")[0]:void 0},g),b(!1)};return t.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white w-full max-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300 flex flex-col max-h-[95vh]",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-slate-900 rounded-xl text-white shadow-lg",children:t.jsx(ua,{size:18})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-black uppercase tracking-tight",children:"Finish Repair"}),t.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:["Tool: ",c.toolName]})]})]}),t.jsx("button",{onClick:o,className:"text-slate-300 hover:text-slate-900 transition-colors",children:t.jsx(ht,{size:20})})]}),t.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto no-scrollbar flex-1 bg-slate-50/20",children:[t.jsx("div",{className:"bg-indigo-600 rounded-[1.5rem] p-4 text-white shadow-lg shadow-indigo-100 flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(mt,{size:20,className:"text-indigo-200"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[7.5px] font-black uppercase tracking-widest opacity-60",children:"Status"}),t.jsx("p",{className:"text-[10px] font-black uppercase",children:c.status.replace("_"," ")})]})]})}),t.jsxs("div",{className:"space-y-1.5 relative",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Assigned Tech"}),t.jsxs("div",{className:"relative",children:[t.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:14}),t.jsx("input",{className:"w-full bg-white border border-slate-200 rounded-xl pl-11 pr-4 py-3 text-[10px] font-black text-slate-700 uppercase outline-none focus:ring-1 focus:ring-indigo-500 shadow-sm",placeholder:"Search tech...",value:M,onChange:g=>{D(g.target.value),_("")}}),H.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-10 bg-white border border-slate-200 rounded-xl mt-1 shadow-2xl overflow-hidden",children:H.map(g=>t.jsx("button",{onClick:()=>{_(g.id),D(g.name)},className:"w-full text-left px-4 py-2.5 hover:bg-indigo-50 flex items-center justify-between border-b border-slate-50 last:border-0",children:t.jsx("span",{className:"text-[9px] font-black uppercase",children:g.name})},g.id))})]})]}),t.jsxs("div",{className:"pt-2 space-y-3",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"What is the result?"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"Restored",label:"Fixed",sub:"Ready to use",icon:t.jsx(nt,{size:14}),color:"emerald"},{id:"Spares",label:"Need Parts",sub:"Wait for spares",icon:t.jsx(Jl,{size:14}),color:"indigo"},{id:"Decommissioned",label:"Cannot Fix",sub:"Throw away",icon:t.jsx(Id,{size:14}),color:"rose"}].map(g=>t.jsxs("button",{onClick:()=>S(g.id),className:`flex flex-col items-center justify-center p-3 rounded-2xl border transition-all text-center gap-1 ${y===g.id?`bg-${g.color}-50 border-${g.color}-500 text-${g.color}-700 shadow-md ring-2 ring-${g.color}-50`:"bg-white border-slate-100 text-slate-400 hover:border-indigo-200"}`,children:[g.icon,t.jsx("span",{className:"text-[9px] font-black uppercase tracking-tighter leading-none",children:g.label}),t.jsx("span",{className:"text-[6.5px] font-bold opacity-60 uppercase whitespace-nowrap",children:g.sub})]},g.id))})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Repair Notes"}),t.jsx("textarea",{className:"w-full bg-white border border-slate-200 rounded-2xl px-5 py-4 text-[11px] font-medium text-slate-700 outline-none h-24 focus:ring-1 focus:ring-indigo-500 shadow-sm",placeholder:"Details about the fix...",value:q,onChange:g=>A(g.target.value)})]}),y!=="Decommissioned"&&t.jsxs("div",{className:"space-y-1.5 animate-in slide-in-from-top-2",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Repair Cost ($)"}),t.jsxs("div",{className:"relative",children:[t.jsx(yc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:14}),t.jsx("input",{type:"number",className:"w-full bg-white border border-slate-200 rounded-xl pl-11 pr-4 py-3 text-[11px] font-black text-slate-900 outline-none shadow-sm",value:w||"",onChange:g=>f(parseFloat(g.target.value)||0)})]})]})]}),t.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100",children:t.jsxs("button",{disabled:!m||E,onClick:F,className:`w-full text-white py-4 rounded-2xl font-black uppercase tracking-[0.2em] text-[10px] shadow-xl transition-all flex items-center justify-center space-x-2 disabled:opacity-40 ${y==="Restored"?"bg-emerald-600 hover:bg-emerald-700":y==="Spares"?"bg-indigo-600 hover:bg-indigo-700":"bg-[#0F1135] hover:bg-rose-600"}`,children:[t.jsx(Ve,{size:18}),t.jsx("span",{children:E?"Saving...":"Finish Record"})]})})]})})},m1=({state:c,data:d,handlers:x,showFeedback:o})=>t.jsxs(t.Fragment,{children:[c.isReportingMaintenance&&t.jsx(u1,{tools:d.cloudTools,staff:d.masterEmployees,currentUser:d.currentUser,onSave:async y=>{await x.handleMaintenanceReport(y),o(`${Array.isArray(y)?y.length:1} Maintenance Logs Recorded`)},onCancel:()=>x.setIsReportingMaintenance(!1)}),c.resolvingMaintenance&&t.jsx(x1,{record:c.resolvingMaintenance,staff:d.masterEmployees,onConfirm:async(y,S)=>{await x.handleMaintenanceResolve(y,S),o(`Asset Status: ${S.replace("_"," ")}`)},onCancel:()=>x.setResolvingMaintenance(null)}),c.reassigningMaintenance&&t.jsx(o1,{record:c.reassigningMaintenance,staff:d.masterEmployees,onConfirm:async(y,S)=>{await x.handleMaintenanceReassign(c.reassigningMaintenance.id,y,S),o("Technician Reassigned by Supervisor")},onCancel:()=>x.setReassigningMaintenance(null)}),c.verifyingLog&&t.jsx(s1,{log:c.verifyingLog,staffRegistry:d.masterEmployees,onConfirm:async(y,S,q,A,w,f,E)=>{await x.handleReturnConfirm(c.verifyingLog,S,q,A,w,f,E),x.setVerifyingLog(null),o("Registry Reconciled Successfully")},onCancel:()=>x.setVerifyingLog(null)}),(c.isAddingTool||c.editingTool)&&t.jsx(e1,{initialData:c.editingTool,currentUser:d.currentUser,onSave:async y=>{x.setSystemBusy(!0);try{c.editingTool?x.onUpdateTools(d.cloudTools.map(S=>S.id===c.editingTool.id?y:S)):x.onUpdateTools([y,...d.cloudTools]),await x.syncToolAsset(y),x.setIsAddingTool(!1),x.setEditingTool(null),o(c.editingTool?"Asset Identity Updated":"New Asset Enrolled")}finally{x.setSystemBusy(!1)}},onCancel:()=>{x.setIsAddingTool(!1),x.setEditingTool(null)}}),c.isIssuingTool&&t.jsx(t1,{availableTools:d.cloudTools,staffRegistry:d.masterEmployees,currentUser:d.currentUser,onConfirm:async(y,S,q)=>{await x.handleIssuanceConfirm(y,S,q),o("Asset Issuance Authorized")},onCancel:()=>x.setIsIssuingTool(!1)}),(c.isDigitizingLog||c.auditTargetLog)&&t.jsx(a1,{tools:d.cloudTools,staff:d.masterEmployees,onSave:async(y,S)=>{await x.handleLogbookCommit(y,S),o("Logbook Digitized & Archived")},onCancel:()=>{x.setIsDigitizingLog(!1),x.setAuditTargetLog(null)},currentUser:d.currentUser,initialRecord:c.auditTargetLog,startAtAudit:!!c.auditTargetLog}),c.isWeeklyAuditOpen&&t.jsx(d1,{tools:d.cloudTools,usageLogs:d.cloudUsageLogs,maintenanceHistory:c.maintenanceRecords,staff:d.masterEmployees,currentUser:d.currentUser,targetZone:c.auditZone,onSave:async(y,S)=>{await x.handleInspectionCommit(y,S)&&o("Master Ledger Audit Certified")},onCancel:()=>x.setIsWeeklyAuditOpen(!1)})]}),f1=({stats:c})=>t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[t.jsxs(kt,{className:"flex items-center space-x-3 p-3 border-none shadow-sm bg-white rounded-[1rem]",children:[t.jsx("div",{className:"p-2.5 bg-indigo-50 rounded-xl text-indigo-600 shrink-0",children:t.jsx(yc,{size:16})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest truncate",children:"Total Assets"}),t.jsxs("p",{className:"text-sm font-black text-slate-900 truncate",children:["$",c.totalValue.toLocaleString()]})]})]}),t.jsxs(kt,{className:"flex items-center space-x-3 p-3 border-none shadow-sm bg-white rounded-[1rem]",children:[t.jsx("div",{className:"p-2.5 bg-rose-50 rounded-xl text-rose-600 shrink-0",children:t.jsx(ms,{size:16})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest truncate",children:"Damaged/Lost"}),t.jsx("p",{className:"text-sm font-black text-slate-900 truncate",children:c.criticalIssues})]})]}),t.jsxs(kt,{className:"flex items-center space-x-3 p-3 border-none shadow-sm bg-white rounded-[1rem]",children:[t.jsx("div",{className:"p-2.5 bg-orange-50 rounded-xl text-orange-600 shrink-0",children:t.jsx(Ia,{size:16})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest truncate",children:"Section Held"}),t.jsx("p",{className:"text-sm font-black text-slate-900 truncate",children:c.outstandingCount})]})]}),t.jsxs(kt,{className:"flex items-center space-x-3 p-3 border-none shadow-sm bg-slate-900 rounded-[1rem]",children:[t.jsx("div",{className:"p-2.5 bg-white/10 rounded-xl text-emerald-400 shrink-0",children:t.jsx(Ve,{size:16})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7.5px] font-black text-slate-500 uppercase tracking-widest truncate",children:"Last Audit"}),t.jsx("p",{className:"text-sm font-black text-white truncate",children:c.lastInspection})]})]})]}),p1=({activeTab:c,setActiveTab:d,searchTerm:x,setSearchTerm:o,categoryFilter:y,setCategoryFilter:S,zoneFilter:q,setZoneFilter:A,conditionFilter:w,setConditionFilter:f,archiveStatusFilter:E,setArchiveStatusFilter:b,archiveOfficerFilter:m,setArchiveOfficerFilter:_,masterEmployees:M=[],onDigitize:D,onEnrollTool:H,hasPermission:F})=>{const g=[{id:"inventory",icon:t.jsx(bg,{size:13}),label:"Tool Registry"},{id:"sectional",icon:t.jsx(Pn,{size:13}),label:"Section Tools"},{id:"archives",icon:t.jsx(Xn,{size:13}),label:"Daily Logs"},{id:"audit",icon:t.jsx(Ve,{size:13}),label:"Inspections"},{id:"maintenance",icon:t.jsx(ua,{size:13}),label:"Repairs"}],z=["Power tools","Electrical tools","Hand tools","Calibration Tools","Hydraulics","Pneumatics"],C=["Main Store","Workshop Bay 1","Workshop Bay 2","Panel Beating","Engine Section","Electrical Unit","Road Call Van"],ie=F("inventory","create","archives"),k=F("inventory","create","master");return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex justify-center w-full mt-2 px-1",children:t.jsx("div",{className:"flex flex-wrap justify-center items-center gap-2 bg-slate-50/80 backdrop-blur-md p-2 rounded-[2rem] border border-slate-200 shadow-sm transition-all max-w-full overflow-hidden",children:g.map(v=>t.jsxs("button",{onClick:()=>d(v.id),className:`flex items-center space-x-2.5 px-6 py-3.5 rounded-[1.2rem] font-black uppercase text-[10px] tracking-widest transition-all cursor-pointer active:scale-95 whitespace-nowrap ${c===v.id?"bg-white text-indigo-600 shadow-lg border border-indigo-100 ring-4 ring-indigo-50/50":"text-slate-400 hover:text-slate-600 hover:bg-white/50 border border-transparent"}`,children:[v.icon,t.jsx("span",{className:"hidden sm:inline",children:v.label}),t.jsx("span",{className:"sm:hidden",children:v.label.split(" ")[0]})]},v.id))})}),t.jsx("div",{className:"bg-white border border-slate-100 rounded-[2.2rem] p-4 shadow-sm space-y-4 mx-1",children:t.jsxs("div",{className:"flex flex-col xl:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{className:"relative w-full xl:w-96 group",children:[t.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-indigo-600 transition-colors",size:14}),t.jsx("input",{type:"text",placeholder:c==="archives"?"Search daily logs...":"Search registry...",className:"w-full bg-slate-50 border border-slate-100 rounded-xl pl-11 pr-4 py-3 text-[10px] font-black uppercase tracking-widest text-slate-700 outline-none focus:ring-1 focus:ring-indigo-500 shadow-inner",value:x,onChange:v=>o(v.target.value)})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full xl:w-auto",children:[c==="inventory"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 border border-slate-100 px-3 py-1.5 rounded-xl flex-1 md:flex-none",children:[t.jsx(rb,{size:12,className:"text-slate-400"}),t.jsxs("select",{value:y,onChange:v=>S(v.target.value),className:"bg-transparent text-[9px] font-black uppercase text-slate-600 outline-none cursor-pointer w-full",children:[t.jsx("option",{value:"ALL",children:"All Categories"}),z.map(v=>t.jsx("option",{value:v,children:v},v))]})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 border border-slate-100 px-3 py-1.5 rounded-xl flex-1 md:flex-none",children:[t.jsx(ym,{size:12,className:"text-slate-400"}),t.jsxs("select",{value:q,onChange:v=>A(v.target.value),className:"bg-transparent text-[9px] font-black uppercase text-slate-600 outline-none cursor-pointer w-full",children:[t.jsx("option",{value:"ALL",children:"All Locations"}),C.map(v=>t.jsx("option",{value:v,children:v},v))]})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 border border-slate-100 px-3 py-1.5 rounded-xl flex-1 md:flex-none",children:[t.jsx(ra,{size:12,className:"text-slate-400"}),t.jsxs("select",{value:w,onChange:v=>f(v.target.value),className:"bg-transparent text-[9px] font-black uppercase text-slate-600 outline-none cursor-pointer w-full",children:[t.jsx("option",{value:"ALL",children:"Health & Variance"}),t.jsxs("optgroup",{label:"Discrepancy Checks",children:[t.jsx("option",{value:"VARIANCE",children:"Discrepancies Only"}),t.jsx("option",{value:"OUT_OF_STOCK",children:"Out of Stock"}),t.jsx("option",{value:"IRREPARABLE",children:"Decommissioned (-1)"})]}),t.jsxs("optgroup",{label:"Core Conditions",children:[t.jsx("option",{value:"Excellent",children:"Excellent"}),t.jsx("option",{value:"Good",children:"Good"}),t.jsx("option",{value:"Damaged",children:"Damaged"}),t.jsx("option",{value:"Lost",children:"Lost"})]})]})]}),k&&t.jsxs("button",{onClick:H,className:"bg-indigo-600 text-white px-8 py-3 rounded-xl font-black uppercase tracking-widest text-[9px] hover:bg-[#0F1135] shadow-xl shadow-indigo-100 transition-all flex items-center justify-center space-x-2 active:scale-95",children:[t.jsx(Zd,{size:14}),t.jsx("span",{children:"Enroll New Asset"})]})]}),c==="archives"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 border border-slate-100 px-3 py-1.5 rounded-xl flex-1 md:flex-none",children:[t.jsx(Ms,{size:12,className:"text-slate-400"}),t.jsxs("select",{value:m,onChange:v=>_(v.target.value),className:"bg-transparent text-[9px] font-black uppercase text-slate-600 outline-none cursor-pointer w-full",children:[t.jsx("option",{value:"ALL",children:"All Officers"}),M.filter(v=>v.role.includes("Supervisor")||v.role.includes("Attendant")||v.role.includes("Manager")).map(v=>t.jsx("option",{value:v.id,children:v.name},v.id))]})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-slate-50 border border-slate-100 px-3 py-1.5 rounded-xl flex-1 md:flex-none",children:[t.jsx(da,{size:12,className:"text-slate-400"}),t.jsxs("select",{value:E,onChange:v=>b(v.target.value),className:"bg-transparent text-[9px] font-black uppercase text-slate-600 outline-none cursor-pointer w-full",children:[t.jsx("option",{value:"ALL",children:"All Records"}),t.jsx("option",{value:"ISSUES",children:"With Issues"}),t.jsx("option",{value:"CLEAR",children:"Cleared"})]})]}),ie&&t.jsxs("button",{onClick:D,className:"bg-indigo-600 text-white px-8 py-3 rounded-xl font-black uppercase tracking-widest text-[9px] hover:bg-[#0F1135] shadow-xl shadow-indigo-100 transition-all flex items-center justify-center space-x-2 active:scale-95",children:[t.jsx(Xn,{size:14}),t.jsx("span",{children:"Upload Daily Log"})]})]})]})]})})]})},h1=({filteredTools:c,onEdit:d,onDelete:x,usageLogs:o,hasPermission:y})=>{const[S,q]=p.useState(null),[A,w]=p.useState(null),[f,E]=p.useState(1),b=15,m=y("inventory","update","master"),_=y("inventory","delete","master"),M=g=>{q(z=>z===g?null:g)},D=p.useMemo(()=>[...c].sort((g,z)=>{const C=v=>{const Y=o.filter(ue=>ue.toolId===v.id&&!ue.isReturned),j=Y.filter(ue=>ue.issuanceType==="Daily"||ue.issuanceType==="Section-Held").length,V=Y.filter(ue=>ue.issuanceType==="Outstanding").length,K=v.available<v.quantity;let W=0;return V>0&&(W+=100),j>0&&(W+=50),K&&(W+=10),W},ie=C(g),k=C(z);return ie!==k?k-ie:g.name.localeCompare(z.name)}),[c,o]),H=Math.ceil(D.length/b),F=p.useMemo(()=>{const g=(f-1)*b;return D.slice(g,g+b)},[D,f]);return t.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500 max-w-full pb-10",children:[A&&t.jsxs("div",{className:"fixed inset-0 z-[1000] bg-slate-950/95 backdrop-blur-xl flex items-center justify-center p-4",children:[t.jsx("button",{onClick:()=>w(null),className:"absolute top-6 right-6 text-white/50 hover:text-white transition-colors bg-white/10 p-3 rounded-2xl",children:t.jsx(ht,{size:24})}),t.jsx("img",{src:A,className:"max-w-full max-h-[90vh] object-contain rounded-xl shadow-2xl",alt:"Tool"})]}),t.jsxs("div",{className:"bg-white border border-slate-100 shadow-xl rounded-[2.5rem] overflow-hidden mx-1",children:[t.jsxs("div",{className:"hidden lg:grid grid-cols-12 bg-slate-50/80 backdrop-blur-md text-[8px] font-black text-slate-400 uppercase tracking-widest border-b border-slate-100 px-10 py-5",children:[t.jsx("div",{className:"col-span-4",children:"Asset Identification"}),t.jsx("div",{className:"col-span-3 text-center",children:"Submission Date"}),t.jsx("div",{className:"col-span-3",children:"Stock & Zone"}),t.jsx("div",{className:"col-span-2 text-right",children:"Actions"})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:D.length===0?t.jsxs("div",{className:"py-32 text-center",children:[t.jsx(Dt,{size:48,className:"mx-auto mb-4 text-slate-100 opacity-50"}),t.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"No matching technical records"})]}):F.map(g=>{const z=S===g.id,C=g.submissionDate||"---",ie=g.lastVerified||"---",k=g.addedBy||"System",v=o.filter(N=>N.toolId===g.id&&!N.isReturned),Y=v.filter(N=>N.issuanceType==="Daily"||N.issuanceType==="Section-Held"),j=Y.reduce((N,Z)=>N+(Z.quantity||0),0),V=v.filter(N=>N.issuanceType==="Outstanding"),K=V.map(N=>{const Z=(N.comment||"").toUpperCase();let ae="Manual Entry";Z.includes("[AUDIT]")?ae="Audit Inspection":Z.includes("[LOGBOOK]")?ae="Logbook Digitalization":Z.includes("[AUDIT_RECOVERY]")&&(ae="Audit Follow-up");const L=Z.match(/(?:MISSING|UNRETURNED PIECES|CHECK):\s*([^|\]]+)/i),re=L?L[1].split(",").map(h=>h.trim().toUpperCase()):[];return{qty:N.quantity,source:ae,date:N.date,staff:N.staffName,id:N.id,pieces:re}}),W=V.reduce((N,Z)=>N+(Z.quantity||0),0),ue=W>0,ee=[`${j} currently issued to staff`,W>0?`LEAKS: ${K.map(N=>`${N.qty}u ${N.source}`).join(" | ")}`:"Registry Intact"].join(` 
 `),se=new Set;return K.forEach(N=>N.pieces.forEach(Z=>se.add(Z))),t.jsxs(zs.Fragment,{children:[t.jsx("div",{onClick:()=>M(g.id),className:`group p-6 lg:px-10 lg:py-5 hover:bg-indigo-50/20 transition-all cursor-pointer ${z?"bg-indigo-50/30":""}`,children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-center",children:[t.jsx("div",{className:"col-span-1 lg:col-span-4",children:t.jsxs("div",{className:"flex items-center space-x-5",children:[t.jsx("div",{onClick:N=>{g.imageUrl&&(N.stopPropagation(),w(g.imageUrl))},className:"w-12 h-12 bg-white border border-slate-100 rounded-2xl flex items-center justify-center text-indigo-600 font-black shrink-0 shadow-sm overflow-hidden group-hover:border-indigo-400 transition-all",children:g.imageUrl?t.jsx("img",{src:g.imageUrl,className:"w-full h-full object-cover"}):t.jsx(Dt,{size:20})}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-slate-700 text-sm uppercase truncate leading-none",children:g.name}),(ue||j>0)&&t.jsx("div",{className:"w-3 h-3 flex items-center justify-center text-indigo-500 animate-pulse",title:ee,children:t.jsx(Fn,{size:10,strokeWidth:3})})]}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsxs("span",{className:"text-[7.5px] font-medium text-slate-300 uppercase tracking-widest",children:["Last Update: ",ie]}),t.jsxs("span",{className:"text-[7.5px] font-bold text-slate-300 uppercase tracking-tighter opacity-30",children:["| UID: ",g.id]})]})]})]})}),t.jsx("div",{className:"col-span-1 lg:col-span-3 text-center flex items-center lg:block",children:t.jsxs("div",{className:"flex flex-col items-center justify-center space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-1.5 text-slate-900",children:[t.jsx(cl,{size:11,className:"text-indigo-600"}),t.jsx("span",{className:"text-[9.5px] font-black uppercase tracking-widest",children:C})]}),t.jsx("div",{className:"flex items-center space-x-1 text-slate-400",children:t.jsxs("span",{className:"text-[7.5px] font-bold uppercase tracking-tight truncate max-w-[120px]",children:["ENROLLED BY: ",k]})})]})}),t.jsx("div",{className:"col-span-1 lg:col-span-3 flex items-center lg:block",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest",children:"Available"}),t.jsx("span",{title:ee,className:"inline-flex",children:t.jsx(Fn,{size:8,className:"text-indigo-400 cursor-help"})})]}),t.jsxs("span",{className:`text-base font-black ${g.available===0?"text-rose-600":"text-slate-900"}`,children:[g.available," / ",g.quantity]})]}),t.jsx("div",{className:"h-6 w-px bg-slate-100"}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest",children:"Zone"}),t.jsx("span",{className:"text-[10px] font-black text-slate-700 uppercase truncate",children:g.zone})]})]})}),t.jsx("div",{className:"col-span-1 lg:col-span-2",children:t.jsxs("div",{className:"flex items-center justify-between lg:justify-end gap-3 border-t lg:border-t-0 border-slate-50 pt-4 lg:pt-0",children:[t.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[7px] font-black uppercase border tracking-widest ${g.condition==="Excellent"?"text-emerald-600 bg-emerald-50 border-emerald-200":g.condition==="Lost"||g.condition==="Irreparable"?"text-white bg-slate-900 border-slate-900":"text-rose-600 bg-rose-50 border-rose-200"}`,children:g.condition}),t.jsxs("div",{className:"flex items-center space-x-1.5",children:[m&&t.jsx("button",{onClick:N=>{N.stopPropagation(),d(g)},className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-indigo-600 bg-white border border-slate-100 rounded-lg transition-all active:scale-90 shadow-sm",children:t.jsx(Jd,{size:14})}),_&&t.jsx("button",{onClick:N=>{N.stopPropagation(),x==null||x(g.id)},className:"w-8 h-8 flex items-center justify-center text-slate-300 hover:text-rose-600 bg-white border border-slate-100 rounded-lg transition-all active:scale-90 shadow-sm",children:t.jsx(il,{size:14})})]}),t.jsx(as,{size:18,className:`transition-transform duration-500 text-slate-400 ${z?"rotate-180 text-indigo-600":""}`})]})})]})}),z&&t.jsx("div",{className:"bg-slate-50 border-y border-slate-100 p-6 lg:p-10 animate-in slide-in-from-top-4 duration-500 shadow-inner",children:t.jsx("div",{className:"max-w-6xl mx-auto space-y-6",children:t.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[t.jsx("div",{className:"xl:col-span-5 space-y-4",children:t.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.2rem] p-6 shadow-sm space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center space-x-3 text-slate-900",children:[t.jsx(ra,{size:18,className:"text-indigo-600"}),t.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest",children:"Operational Status"})]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100 shadow-inner text-center",children:[t.jsx("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Inventory Total"}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("span",{className:"text-2xl font-black text-slate-900 tabular-nums",children:g.quantity}),t.jsx("span",{className:"text-[6.5px] font-black text-slate-400 uppercase mt-1",children:"Registry Lock Active"})]})]}),t.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border border-slate-100 shadow-inner text-center",children:[t.jsx("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Available Now"}),t.jsx("span",{className:`text-2xl font-black tabular-nums ${g.available===0?"text-rose-600":"text-emerald-600"}`,children:g.available}),t.jsx("p",{className:"text-[7px] font-bold text-slate-300 uppercase mt-1",children:"In Storage"})]})]}),t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Current Deployments:"}),t.jsx("div",{className:"space-y-2",children:Y.length>0?Y.map((N,Z)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-indigo-50/50 border border-indigo-100 rounded-xl animate-in fade-in slide-in-from-left-1",style:{animationDelay:`${Z*50}ms`},children:[t.jsxs("div",{className:"flex items-center space-x-3 min-w-0",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-indigo-100 flex items-center justify-center text-indigo-600 shadow-sm shrink-0",children:t.jsx(oa,{size:14})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[10px] font-black text-indigo-900 uppercase truncate",children:N.staffName}),t.jsxs("p",{className:"text-[7px] font-bold text-indigo-400 uppercase mt-0.5 flex items-center gap-1",children:[t.jsx(_s,{size:8})," ",N.date,"  ",N.issuanceType]})]})]}),t.jsxs("span",{className:"text-[11px] font-black text-indigo-900 bg-white px-2 py-1 rounded-lg border border-indigo-100 tabular-nums",children:["x",N.quantity]})]},N.id)):t.jsx("div",{className:"p-4 bg-slate-50 border border-dashed border-slate-200 rounded-xl text-center opacity-40",children:t.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase",children:"No active field deployments"})})})]}),t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Registry Variances:"}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.jsxs("div",{className:`flex flex-col p-3 border rounded-xl transition-all ${W>0?"bg-rose-50 border-rose-100":"bg-slate-50 border-slate-100 opacity-40"}`,children:[t.jsxs("div",{className:"flex items-center justify-between w-full mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-2.5",children:[t.jsx(ms,{size:14,className:W>0?"text-rose-600":"text-slate-400"}),t.jsx("span",{className:`text-[9px] font-black uppercase ${W>0?"text-rose-700":"text-slate-500"}`,children:"Loss/Damage Leaks"})]}),t.jsxs("span",{className:`text-[11px] font-black tabular-nums ${W>0?"text-rose-900":"text-slate-600"}`,children:[W," U"]})]}),W>0&&t.jsx("div",{className:"max-h-40 overflow-y-auto no-scrollbar space-y-3 pt-3 border-t border-rose-100/50",children:K.map((N,Z)=>t.jsx("div",{className:"flex flex-col gap-2 p-2 bg-white/50 rounded-lg animate-in fade-in",style:{animationDelay:`${Z*40}ms`},children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[t.jsx(qa,{size:10,className:"text-rose-300 shrink-0"}),t.jsxs("div",{className:"flex flex-col",children:[t.jsxs("span",{className:"text-[7px] font-black text-slate-500 uppercase leading-none",children:["Origin: ",N.source]}),t.jsxs("span",{className:"text-[6px] font-bold text-slate-400 uppercase mt-1",children:["Ref: ",N.staff]})]})]}),t.jsxs("div",{className:"text-right shrink-0",children:[t.jsxs("p",{className:"text-[9px] font-black text-rose-600 leading-none",children:["-",N.qty,"U"]}),t.jsx("p",{className:"text-[5px] font-bold text-slate-300 mt-1",children:N.date})]})]})},N.id))})]})})]}),t.jsxs("div",{className:"p-4 bg-indigo-50/30 rounded-2xl border border-indigo-50 flex items-center space-x-4",children:[t.jsx("div",{className:"p-2 bg-white rounded-xl shadow-sm text-indigo-600",children:t.jsx(ym,{size:16})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7.5px] font-black text-indigo-400 uppercase tracking-widest leading-none mb-1",children:"Current Storage Location"}),t.jsx("p",{className:"text-[11px] font-black text-slate-900 uppercase truncate",children:g.zone})]})]})]})}),t.jsx("div",{className:"xl:col-span-7 space-y-4",children:t.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.2rem] overflow-hidden shadow-sm h-full flex flex-col",children:[t.jsxs("div",{className:"px-8 py-5 bg-slate-50/80 border-b border-slate-100 flex items-center justify-between shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ss,{size:16,className:"text-indigo-600"}),t.jsx("h4",{className:"text-[11px] font-black text-slate-800 uppercase tracking-widest",children:"Asset Manifest Data"})]}),t.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["UID: ",g.id]})]}),t.jsx("div",{className:"p-8 flex-1",children:g.composition&&g.composition.length>0?t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"Itemized Component Ledger:"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:g.composition.map((N,Z)=>{const ae=N.includes("(MISSING)"),L=N.includes("(DAMAGED)"),re=N.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,"").toUpperCase(),h=se.has(re);return t.jsxs("div",{className:`flex items-center justify-between p-4 bg-slate-50 border rounded-2xl group/piece transition-all shadow-sm ${ae||h?"border-rose-100 bg-rose-50/30":L?"border-amber-100 bg-amber-50/30":"border-slate-100 hover:border-indigo-200"}`,children:[t.jsxs("div",{className:"flex items-center space-x-3 min-w-0",children:[t.jsx("div",{className:`w-8 h-8 rounded-xl bg-white border border-slate-100 flex items-center justify-center transition-colors shadow-inner ${ae||h?"text-rose-400":L?"text-amber-400":"text-slate-300"}`,children:h?t.jsx(Rs,{size:14,className:"animate-pulse"}):t.jsx(Zn,{size:14})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("span",{className:`text-[10px] font-black uppercase truncate block ${ae||h?"text-rose-700 line-through":L?"text-amber-700":"text-slate-700"}`,children:re}),(ae||h)&&t.jsx("span",{className:"text-[6px] font-black text-rose-500 uppercase tracking-widest",children:h?"NOT RETURNED (LOG)":"Registry Variance"}),L&&t.jsx("span",{className:"text-[6px] font-black text-amber-500 uppercase tracking-widest",children:"Maintenance Required"})]})]}),t.jsx(nt,{size:14,className:`transition-opacity ${ae||h?"text-rose-400":L?"text-amber-400":"text-emerald-500 opacity-20 group-hover/piece:opacity-100"}`})]},Z)})})]}):t.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 opacity-40 grayscale py-12",children:[t.jsx(Zn,{size:48,className:"text-slate-200"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Unitary Asset Structure"}),t.jsx("p",{className:"text-[8px] font-medium text-slate-400 uppercase tracking-widest",children:"No complex manifest data recorded."})]})]})}),t.jsxs("div",{className:"px-8 py-4 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-1.5",children:[t.jsx(fs,{size:12,className:"text-emerald-50"}),t.jsxs("span",{className:"text-[8.5px] font-black text-slate-400 uppercase tracking-widest",children:["Custodian: ",k]})]}),t.jsxs("div",{className:"flex items-center space-x-1.5",children:[t.jsx(Ve,{size:12,className:"text-indigo-400"}),t.jsx("span",{className:"text-[8.5px] font-black text-slate-400 uppercase tracking-widest",children:"Registry Integrity Verified"})]})]})]})})]})})})]},g.id)})}),t.jsxs("div",{className:"px-10 py-5 bg-[#FAF9F6] border-t border-slate-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3 text-slate-400",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),t.jsxs("span",{className:"text-[8px] font-black uppercase tracking-widest",children:["Found ",c.length," Assets in Registry"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>{E(g=>Math.max(1,g-1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:f===1,className:"p-2.5 rounded-xl bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm active:scale-90",children:t.jsx(Ha,{size:18})}),t.jsx("div",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl shadow-inner text-center",children:t.jsxs("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:["Page ",f," of ",H||1]})}),t.jsx("button",{onClick:()=>{E(g=>Math.min(H,g+1)),window.scrollTo({top:0,behavior:"smooth"})},disabled:f===H||H===0,className:"p-2.5 rounded-xl bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm active:scale-90",children:t.jsx(qs,{size:18})})]})]})]}),t.jsx("div",{className:"px-8 py-4 bg-[#0F1135] rounded-[1.5rem] flex flex-col md:flex-row items-center justify-end text-white shadow-2xl border border-white/5 gap-3 mx-1",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-orange-500 animate-pulse"}),t.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["Items with Staff: ",o.filter(g=>!g.isReturned).length]})]}),t.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-[0.1em]",children:["Total Registry Items: ",t.jsx("span",{className:"text-white font-black ml-1.5",children:c.length})]})]})})]})},g1=({logs:c,tools:d=[],staffRegistry:x=[],onIssue:o,onVerify:y,hasPermission:S})=>{const[q,A]=p.useState(null),[w,f]=p.useState(1),[E,b]=p.useState("ALL"),m=15,_=S("inventory","create","sectional")||S("inventory","create"),M=S("inventory","update","sectional")||S("inventory","update"),D=p.useMemo(()=>c.filter(v=>String(v.issuanceType||"").toLowerCase().includes("section")),[c]),H=v=>{if(!v)return{missing:[],damaged:[]};const Y=v.match(/(?:MISSING|UNRETURNED PIECES|CHECK):\s*([^|\]]+)/i),j=v.match(/DAMAGED:\s*([^|\]]+)/i);return{missing:Y?Y[1].split(",").map(V=>V.trim().toUpperCase()):[],damaged:j?j[1].split(",").map(V=>V.trim().toUpperCase()):[]}},F=v=>{const Y=v.actionHistory||[],j=Y.length>0?Y[Y.length-1]:null,V=[...Y].reverse().find(K=>K.action.includes("RETURN")||K.action.includes("RECOVERY")||K.action.includes("RESOLUTION"));return{protocol:j?j.action:v.isReturned?"RECONCILED":"DISPATCHED",lastUpdate:j?j.timestamp:null,receivingOfficer:(V==null?void 0:V.actorName)||null}},g=(v,Y)=>{if(Y&&Y.toUpperCase()!=="SYSTEM"&&Y.trim()!=="")return Y;const j=x.find(V=>V.id===v);return j?j.name:Y||"OFFICER"},z=p.useMemo(()=>{const v={};return[...D].forEach(j=>{v[j.staffId]||(v[j.staffId]={staffName:j.staffName,staffId:j.staffId,items:[]}),v[j.staffId].items.push(j)}),Object.values(v).filter(j=>{const K=j.items.filter(ue=>!ue.isReturned).some(ue=>ue.conditionOnReturn==="Lost"||H(ue.comment).missing.length>0),W=j.items.every(ue=>ue.isReturned);return E==="VARIANCES"?K:E==="CLEARED"?W:!0}).sort((j,V)=>{const K=j.items.filter(se=>!se.isReturned).length,W=V.items.filter(se=>!se.isReturned).length,ue=j.items.some(se=>!se.isReturned&&(se.conditionOnReturn==="Lost"||H(se.comment).missing.length>0)),ee=V.items.some(se=>!se.isReturned&&(se.conditionOnReturn==="Lost"||H(se.comment).missing.length>0));return ue!==ee?ue?-1:1:K!==W?W-K:V.items.length-j.items.length})},[D,E]),C=Math.ceil(z.length/m),ie=p.useMemo(()=>{const v=(w-1)*m;return z.slice(v,v+m)},[z,w]),k=v=>{A(Y=>Y===v?null:v)};return t.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500 max-w-full",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-1 mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-[#0F1135] rounded-2xl flex items-center justify-center text-white shadow-lg shrink-0",children:t.jsx(Pn,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase tracking-tight leading-none",children:"Tools with Staff"}),t.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-widest mt-1.5",children:"Track who has what tools"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[t.jsx("div",{className:"flex bg-white border border-slate-200 p-1 rounded-xl shadow-sm",children:[{id:"ALL",label:"All"},{id:"VARIANCES",label:"Exceptions"},{id:"CLEARED",label:"Verified"}].map(v=>t.jsx("button",{onClick:()=>{b(v.id),f(1)},className:`px-4 py-1.5 rounded-lg text-[8px] font-black uppercase transition-all ${E===v.id?"bg-[#0F1135] text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:v.label},v.id))}),_&&t.jsxs("button",{onClick:o,className:"bg-indigo-600 text-white px-6 py-2.5 rounded-xl font-black uppercase text-[9px] hover:bg-[#0F1135] transition-all flex items-center gap-2 shadow-lg",children:[t.jsx(Zd,{size:14}),t.jsx("span",{children:"Issue Tools"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-100 shadow-xl rounded-[2rem] overflow-hidden mx-1",children:[t.jsxs("div",{className:"hidden lg:grid grid-cols-12 bg-slate-50/80 backdrop-blur-md text-[8px] font-black text-slate-400 uppercase tracking-[0.25em] border-b border-slate-100 px-8 py-4",children:[t.jsx("div",{className:"col-span-4",children:"Staff Personnel"}),t.jsx("div",{className:"col-span-5 text-center",children:"Status"}),t.jsx("div",{className:"col-span-3 text-right pr-4",children:"Details"})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:ie.length===0?t.jsxs("div",{className:"py-32 text-center",children:[t.jsx(Zn,{size:48,className:"mx-auto mb-4 text-slate-100 opacity-50"}),t.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"No Active Records"})]}):ie.map(v=>{const Y=q===v.staffId,j=v.items.filter(L=>!L.isReturned),V=v.items.every(L=>L.isReturned),K=v.items[0],W=(K==null?void 0:K.date)||"---",ue=g((K==null?void 0:K.attendantId)||"",K==null?void 0:K.attendantName),ee=v.items.find(L=>L.escalationStatus==="In-Grace-Period"),se=ee&&ee.graceExpiryDate?Math.max(0,Math.ceil((new Date(ee.graceExpiryDate).getTime()-new Date().getTime())/(1e3*3600*24))):null,N=j.filter(L=>L.conditionOnReturn==="Lost"||H(L.comment).missing.length>0),Z=j.length>0?j.map(L=>L.toolName).join(", "):"",ae=[...v.items].sort((L,re)=>L.isReturned!==re.isReturned?L.isReturned?1:-1:new Date(re.date).getTime()-new Date(L.date).getTime());return t.jsxs(zs.Fragment,{children:[t.jsx("div",{onClick:()=>k(v.staffId),className:`group relative p-6 lg:px-8 lg:py-7 hover:bg-indigo-50/20 transition-all duration-300 cursor-pointer ${Y?"bg-indigo-50/30":""}`,children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-5 items-center",children:[t.jsx("div",{className:"col-span-1 lg:col-span-4",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 text-white flex items-center justify-center font-black text-lg uppercase shadow-md transition-transform group-hover:scale-110 duration-500",children:v.staffName.charAt(0)}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("span",{className:"font-black text-slate-900 text-sm uppercase tracking-tight leading-none mb-2",children:v.staffName}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1.5 bg-indigo-50 px-2 py-0.5 rounded-md border border-indigo-100",children:[t.jsx(_s,{size:10,className:"text-indigo-600"}),t.jsxs("span",{className:"text-[8px] font-black text-indigo-700 uppercase tracking-widest",children:["ISSUED: ",W]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 bg-white px-2 py-0.5 rounded-md border border-slate-200 shadow-sm",children:[t.jsx(fs,{size:10,className:"text-indigo-600"}),t.jsxs("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:["ISSUER: ",t.jsx("span",{className:"text-indigo-600",children:ue})]})]})]})]})]})}),t.jsxs("div",{className:"col-span-1 lg:col-span-5 text-center flex flex-col items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[V?t.jsxs("span",{className:"px-3 py-1.5 bg-emerald-50 text-emerald-600 border border-emerald-200 rounded-xl text-[8px] font-black uppercase tracking-widest flex items-center gap-2 shadow-sm",children:[t.jsx(nt,{size:12}),"RETURNED"]}):t.jsxs("span",{className:"px-3 py-1.5 bg-indigo-600 text-white border border-indigo-700 rounded-xl text-[8px] font-black uppercase tracking-widest shadow-md",children:[j.length," TOOLS HELD"]}),N.length>0&&t.jsxs("div",{className:"px-3 py-1.5 bg-rose-600 text-white border border-rose-600 rounded-xl text-[8px] font-black uppercase flex items-center gap-2 shadow-md animate-pulse",children:[t.jsx(ms,{size:12}),"ISSUE FOUND"]}),se!==null&&t.jsxs("div",{className:"px-3 py-1.5 bg-amber-500 text-white rounded-xl text-[8px] font-black uppercase flex items-center gap-2 shadow-lg animate-pulse",children:[t.jsx(Jl,{size:12}),se," DAYS TO REPLACE"]})]}),!V&&!Y&&t.jsx("p",{className:"text-[7px] font-medium text-slate-300 uppercase tracking-tighter truncate max-w-[250px] mt-2 italic group-hover:text-slate-400 transition-colors",children:Z})]}),t.jsx("div",{className:"col-span-1 lg:col-span-3 text-right pr-4",children:t.jsx("div",{className:`transition-transform duration-500 inline-block ${Y?"rotate-180 text-indigo-600":"text-slate-400"}`,children:t.jsx(as,{size:24,strokeWidth:3})})})]})}),Y&&t.jsx("div",{className:"bg-slate-50 border-y border-slate-100 p-6 lg:px-12 animate-in slide-in-from-top-4 duration-500 shadow-inner",children:t.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.2rem] overflow-hidden shadow-xl max-w-5xl mx-auto",children:[t.jsxs("div",{className:"px-8 py-5 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[t.jsxs("h4",{className:"text-[10px] font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[t.jsx(ss,{size:16,className:"text-indigo-600"}),"Tool List"]}),t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs("span",{className:"text-[7.5px] font-bold text-slate-400 uppercase tracking-widest",children:["Personnel: ",v.staffName]})})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:ae.map((L,re)=>{const h=H(L.comment),R=L.conditionOnReturn==="Lost"||h.missing.length>0,de=L.isReturned,xe=F(L),G=g(L.attendantId,L.attendantName),U=xe.receivingOfficer,Q=d.find(_e=>_e.id===L.toolId),te=(Q==null?void 0:Q.assetClass)==="Set"||(Q==null?void 0:Q.assetClass)==="Toolbox",J=(Q==null?void 0:Q.composition)||[],ge=(L.comment||"").toUpperCase().match(/PARTIAL DISPATCH: MISSING ([^|\]]+)/i),Ce=ge?ge[1].split(",").map(_e=>_e.trim().toUpperCase()):[];return t.jsxs("div",{className:`p-6 flex flex-col hover:bg-slate-50 transition-colors gap-6 ${!de&&R?"bg-rose-50/20":""}`,children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center space-x-6 min-w-0 flex-1",children:[t.jsx("div",{className:`w-12 h-12 rounded-2xl border flex items-center justify-center shrink-0 shadow-inner ${de?"bg-emerald-50 border-emerald-100 text-emerald-500":R?"bg-rose-100 border-rose-200 text-rose-600":"bg-white border-slate-100 text-indigo-400"}`,children:t.jsx(Dt,{size:20})}),t.jsx("div",{className:"min-w-0 flex-1",children:t.jsxs("div",{className:"flex flex-col mb-1",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("p",{className:`text-[11px] font-black uppercase truncate leading-none ${de?"text-emerald-700":R?"text-rose-700 underline decoration-rose-300":"text-slate-900"}`,children:[L.toolName,!de&&t.jsxs("span",{className:`ml-2 text-[10px] font-black ${R?"text-rose-600":"text-indigo-600"}`,children:["(Qty: ",L.quantity,")"]})]}),de?t.jsx("span",{className:"px-2 py-0.5 bg-emerald-600 text-white rounded text-[7px] font-black uppercase shadow-sm",children:"RETURNED"}):R?t.jsxs("span",{className:"px-2 py-0.5 bg-rose-600 text-white rounded text-[7px] font-black uppercase shadow-sm flex items-center gap-1",children:[t.jsx(mt,{size:8})," ISSUE FOUND"]}):t.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white rounded text-[7px] font-black uppercase shadow-sm",children:"HELD BY STAFF"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(pm,{size:12,className:"text-indigo-400"}),t.jsxs("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-tight",children:["Issued by: ",t.jsx("span",{className:"text-indigo-500 font-black",children:G})]})]}),de&&U&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(mm,{size:12,className:"text-emerald-400"}),t.jsxs("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-tight",children:["Received by: ",t.jsx("span",{className:"text-emerald-600 font-black",children:U})]})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ra,{size:12,className:"text-slate-300"}),t.jsxs("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-tight",children:["Trace: ",xe.protocol.replace(/_/g," ")]})]})]})]})})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 shrink-0",children:[!L.isReturned&&M&&t.jsxs("button",{onClick:()=>y==null?void 0:y(L),className:`px-10 py-3.5 rounded-2xl text-[9px] font-black uppercase tracking-widest transition-all active:scale-95 flex items-center gap-2 shadow-lg ${R?"bg-rose-600 text-white hover:bg-rose-700 shadow-rose-100":"bg-[#0F1135] text-white hover:bg-indigo-600 shadow-indigo-100"}`,children:[t.jsx(Jn,{size:16}),t.jsx("span",{children:R?"Resolve Issue":"Confirm Return"})]}),L.isReturned&&t.jsxs("div",{className:"flex items-center space-x-2 px-6 py-3 bg-emerald-50 text-emerald-600 rounded-2xl border border-emerald-100 shadow-inner",children:[t.jsx(nt,{size:16}),t.jsx("span",{className:"text-[9px] font-black uppercase",children:"Handover Confirmed"})]})]})]}),te&&J.length>0&&t.jsxs("div",{className:"mt-1 animate-in fade-in duration-700",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-slate-400 mb-2 px-1",children:[t.jsx(da,{size:10}),t.jsx("span",{className:"text-[7px] font-black uppercase tracking-widest",children:"Handover Manifest Details"})]}),t.jsx("div",{className:"bg-slate-50/50 border border-slate-100 rounded-lg overflow-hidden max-w-2xl",children:t.jsxs("table",{className:"w-full text-left table-fixed border-collapse",children:[t.jsx("thead",{className:"bg-white border-b border-slate-100",children:t.jsxs("tr",{className:"text-[6px] font-black text-slate-300 uppercase tracking-widest",children:[t.jsx("th",{className:"py-1.5 px-3 w-1/2",children:"Piece / Component"}),t.jsx("th",{className:"py-1.5 px-3",children:"Issuance State"}),t.jsx("th",{className:"py-1.5 px-3 text-right",children:"Verification"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:J.map((_e,Qe)=>{const vt=_e.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,"").toUpperCase(),At=_e.toUpperCase().includes("MISSING"),Gt=Ce.includes(vt),dt=!At&&!Gt;return t.jsxs("tr",{className:"hover:bg-white transition-colors group",children:[t.jsx("td",{className:"py-1 px-3",children:t.jsx("span",{className:`text-[7px] font-medium uppercase truncate block ${dt?"text-slate-600 font-bold":"text-slate-300 italic"}`,children:vt})}),t.jsx("td",{className:"py-1 px-3",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("div",{className:`w-1 h-1 rounded-full ${dt?"bg-emerald-400":"bg-rose-300"}`}),t.jsx("span",{className:`text-[6.5px] font-black uppercase ${dt?"text-emerald-600":"text-rose-400"}`,children:dt?"ISSUED TO STAFF":At?"RETAINED (MISSING)":"NOT ISSUED"})]})}),t.jsx("td",{className:"py-1 px-3 text-right",children:dt?t.jsx($d,{size:8,className:"text-emerald-400 inline"}):t.jsx(ht,{size:8,className:"text-rose-300 inline"})})]},Qe)})})]})})]}),(h.missing.length>0||h.damaged.length>0)&&t.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-[1.8rem] p-5 animate-in slide-in-from-top-1",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-2 text-rose-600",children:[t.jsx(mt,{size:14}),t.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Broken or Missing Pieces"})]})}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[h.missing.map((_e,Qe)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-rose-100 rounded-xl shadow-sm group",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-1.5 bg-rose-50 text-rose-600 rounded-lg group-hover:bg-rose-600 group-hover:text-white transition-all",children:t.jsx(Rs,{size:14})}),t.jsx("span",{className:"text-[9px] font-black text-rose-700 uppercase truncate",children:_e})]}),t.jsx("span",{className:"text-[7px] font-black bg-rose-50 text-rose-600 px-1.5 py-0.5 rounded uppercase",children:"MISSING"})]},`m-${Qe}`)),h.damaged.map((_e,Qe)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-amber-100 rounded-xl shadow-sm group",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-1.5 bg-amber-50 text-amber-600 rounded-lg group-hover:bg-amber-600 group-hover:text-white transition-all",children:t.jsx(ua,{size:14})}),t.jsx("span",{className:"text-[9px] font-black text-amber-700 uppercase truncate",children:_e})]}),t.jsx("span",{className:"text-[7px] font-black bg-amber-50 text-amber-100 px-1.5 py-0.5 rounded uppercase",children:"DAMAGED"})]},`d-${Qe}`))]})]})]},re)})})]})})]},v.staffId)})}),t.jsxs("div",{className:"px-8 py-5 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between",children:[t.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["PERSONNEL WITH ASSETS: ",z.length]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>f(v=>Math.max(1,v-1)),disabled:w===1,className:"p-2 rounded-lg bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm",children:t.jsx(Ha,{size:16})}),t.jsx("div",{className:"px-4 py-2 bg-white border border-slate-200 rounded-lg shadow-inner text-center",children:t.jsxs("span",{className:"text-[9px] font-black text-slate-900 uppercase tracking-widest",children:["Page ",w]})}),t.jsx("button",{onClick:()=>f(v=>Math.min(C,v+1)),disabled:w===C||C===0,className:"p-2 rounded-lg bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm",children:t.jsx(qs,{size:16})})]})]})]})]})},b1=({archive:c,usageLogs:d,tools:x,currentUserLevel:o,onVerify:y,onResolve:S,onClose:q})=>{const[A,w]=p.useState(new Set),[f,E]=p.useState({}),b=o==="Supervisor"||o==="Admin"||o==="Manager",m=o==="Manager"||o==="Admin",_=k=>String(k||"").replace(/[^a-z0-9]/gi,"").toLowerCase(),M=k=>String(k||"").replace(/[^0-9]/g,""),D=k=>String(k||"").split(" ")[0].split("T")[0],H=p.useMemo(()=>{const k=_(c.id),v=M(c.id);return d.filter(Y=>{if(Y.escalationStatus==="Resolved")return!1;const j=_(Y.physicalArchiveId||Y.batchId||""),V=M(Y.physicalArchiveId||Y.batchId||""),K=_(Y.comment||"");return j===k||v&&V===v||c.pageNumber&&K.includes(_(c.pageNumber))})},[d,c]),F=p.useMemo(()=>{const k={};return H.forEach(v=>{const Y=!v.staffId||v.staffId==="UNIDENTIFIED"||v.staffId==="Audit-Attendant",j=Y?c.attendantId||"SYSTEM-VAR":v.staffId,V=Y?c.attendantName||"Stores Attendant (Fallback)":v.staffName;k[j]||(k[j]={staffName:V,staffId:j,items:[],isAttendantFallback:Y}),k[j].items.push(v)}),Object.values(k).sort((v,Y)=>Y.items.length-v.items.length)},[H,c]),g=k=>{w(v=>{const Y=new Set(v);return Y.has(k)?Y.delete(k):Y.add(k),Y})},z=k=>{if(!k)return[];const v=k.match(/(?:MISSING(?:\sPIECES)?|PARTIAL(?:\sKIT\sISSUANCE)?):\s*([^|\]]+)/i);return v?v[1].split(",").map(Y=>Y.trim().toUpperCase()).filter(Boolean):[]},C=k=>{const v=k.monetaryValue||0;return k.conditionOnReturn==="Lost"||(k.comment||"").toUpperCase().includes("LOST")||v>200?{label:"CRITICAL",color:"bg-rose-600 text-white shadow-rose-200"}:v>50||k.conditionOnReturn==="Damaged"?{label:"HIGH",color:"bg-amber-50 text-white shadow-amber-200"}:{label:"STANDARD",color:"bg-slate-900 text-white shadow-slate-200"}},ie=(k="Store")=>{switch(k){case"Store":return{label:"At Store Level",color:"bg-indigo-50 text-indigo-600 border-indigo-100"};case"Supervisor":return{label:"Escalated: Supervisor",color:"bg-amber-50 text-amber-600 border-amber-100"};case"Manager":return{label:"Escalated: Manager",color:"bg-rose-50 text-rose-600 border-rose-100"};default:return{label:"Pending",color:"bg-slate-50 text-slate-400"}}};return t.jsx("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm",children:t.jsxs("div",{className:"relative bg-[#F8FAFF] w-full max-w-5xl rounded-[2.5rem] shadow-2xl border border-white/20 overflow-hidden flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 flex items-center justify-between bg-white shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:t.jsx(Gd,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-tight leading-none",children:"Logbook Exception Management"}),t.jsxs("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest mt-2",children:["Archive Ref: ",c.pageNumber||c.id,"  ",D(c.date)]})]})]}),t.jsx("button",{onClick:q,className:"p-2 text-slate-300 hover:text-slate-900 transition-colors",children:t.jsx(ht,{size:24})})]}),t.jsx("div",{className:"bg-amber-50/50 border-b border-amber-100 px-8 py-3 flex items-center justify-between shrink-0",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(jc,{size:14,className:"text-amber-600"}),t.jsxs("p",{className:"text-[8px] font-black text-amber-700 uppercase tracking-[0.1em]",children:['Select "Recovery Verified" to launch the ',t.jsx("span",{className:"underline decoration-2",children:"SOP Verification Checklist"})," for any asset below."]})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-6",children:F.length===0?t.jsxs("div",{className:"py-32 flex flex-col items-center justify-center bg-white rounded-[2.5rem] border border-slate-100",children:[t.jsx(Fd,{size:48,className:"text-slate-100 mb-4"}),t.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em]",children:"All Exceptions Reconciled"})]}):t.jsx("div",{className:"space-y-4",children:F.map(k=>t.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2rem] overflow-hidden shadow-sm",children:[t.jsxs("button",{onClick:()=>g(k.staffId),className:`w-full flex items-center justify-between px-8 py-5 transition-all ${A.has(k.staffId)?"bg-indigo-50/20":"hover:bg-slate-50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-xs shadow-inner border ${k.isAttendantFallback?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-indigo-600 border-slate-100"}`,children:k.isAttendantFallback?t.jsx(mt,{size:18}):t.jsx(Ms,{size:18})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-[11px] font-black text-slate-900 uppercase",children:k.staffName}),t.jsxs("p",{className:"text-[7.5px] font-bold text-slate-400 uppercase mt-1 tracking-widest",children:["ID: ",k.staffId,"  ",k.items.length," Pending Exceptions"]})]})]}),t.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center transition-all ${A.has(k.staffId)?"bg-indigo-600 text-white shadow-lg rotate-180":"bg-slate-50 text-slate-300"}`,children:t.jsx(as,{size:18,strokeWidth:3})})]}),A.has(k.staffId)&&t.jsxs("div",{className:"px-8 pb-6 space-y-4 animate-in slide-in-from-top-2",children:[t.jsx("div",{className:"h-px w-full bg-slate-50 mb-2"}),k.items.map(v=>{const Y=ie(v.escalationStage),j=C(v),V=z(v.comment),K=v.conditionOnReturn==="Lost"||(v.comment||"").toUpperCase().includes("LOST"),W=v.conditionOnReturn==="Damaged"||(v.comment||"").toUpperCase().includes("DAMAGED"),ue=v.isReturned;return t.jsxs("div",{className:`bg-slate-50/50 border border-slate-100 rounded-2xl p-4 space-y-4 hover:border-indigo-200 transition-all ${ue?"bg-emerald-50/5 border-emerald-100":""}`,children:[t.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-4 min-w-0 flex-1",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl border flex items-center justify-center shrink-0 shadow-inner ${ue?"bg-emerald-50 border-emerald-100 text-emerald-600":K?"bg-rose-50 border-rose-100 text-rose-600":W?"bg-amber-50 border-amber-100 text-amber-600":"bg-white text-indigo-400"}`,children:ue?t.jsx(nt,{size:18}):K?t.jsx(Rs,{size:18}):W?t.jsx(ua,{size:18}):t.jsx(Dt,{size:18})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:`text-[9.5px] font-black uppercase truncate leading-none ${ue?"text-emerald-700":"text-slate-900"}`,children:v.toolName}),ue?t.jsxs("span",{className:"px-1.5 py-0.5 rounded text-[6.5px] font-black uppercase bg-emerald-600 text-white shadow-sm flex items-center gap-1",children:[t.jsx(Ve,{size:8})," RESTORED"]}):t.jsxs("span",{className:`px-1.5 py-0.5 rounded text-[6.5px] font-black uppercase border ${j.color}`,children:[t.jsx(Ph,{size:8,className:"inline mr-1"})," ",j.label]})]}),t.jsxs("div",{className:"flex items-center space-x-3 mt-1.5",children:[t.jsx("span",{className:`text-[7px] font-black uppercase px-2 py-0.5 rounded border tracking-widest ${ue?"bg-emerald-50 text-emerald-600 border-emerald-100":Y.color}`,children:ue?"CLEARED":Y.label}),t.jsxs("div",{className:"flex items-center space-x-1 text-[7px] font-bold text-slate-400 uppercase tracking-widest",children:[t.jsx(cl,{size:10,className:"text-slate-300"}),t.jsxs("span",{children:["Filing Date: ",D(v.date)]})]}),!ue&&t.jsxs("span",{className:"text-[7px] font-black text-indigo-600 uppercase bg-indigo-50 px-2 py-0.5 rounded border border-indigo-100",children:["Qty Missing: ",v.quantity]})]})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2 w-full lg:w-auto",children:ue?t.jsxs("div",{className:"flex items-center space-x-2 px-6 py-2 bg-emerald-50 text-emerald-600 rounded-xl border border-emerald-100 shadow-inner",children:[t.jsx(nt,{size:14}),t.jsx("span",{className:"text-[8px] font-black uppercase",children:"Verified Restored"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>y(v),className:"flex-1 lg:flex-none px-5 py-2 bg-emerald-600 text-white rounded-xl text-[8px] font-black uppercase tracking-widest shadow-lg hover:bg-emerald-700 transition-all active:scale-95 flex items-center justify-center gap-2",children:[t.jsx(Ve,{size:14}),t.jsx("span",{children:"Recovery Verified"})]}),b&&v.escalationStage==="Supervisor"&&t.jsxs("button",{onClick:()=>S(v.id,"sup_confirm_loss",f[v.id]),className:"flex-1 lg:flex-none px-5 py-2 bg-indigo-600 text-white rounded-xl text-[8px] font-black uppercase tracking-widest shadow-xl flex items-center justify-center space-x-2",children:[t.jsx(Jl,{size:14})," ",t.jsx("span",{children:"Grant 30D Grace"})]}),m&&v.escalationStage==="Manager"&&t.jsxs("button",{onClick:()=>S(v.id,"hr_escalate",f[v.id]),className:"flex-1 lg:flex-none px-5 py-2 bg-rose-600 text-white rounded-xl text-[8px] font-black uppercase tracking-widest shadow-xl flex items-center justify-center space-x-2",children:[t.jsx(mt,{size:14})," ",t.jsx("span",{children:"HR Determination"})]})]})})]}),!ue&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-1.5",children:[t.jsx("label",{className:"text-[7px] font-black text-slate-300 uppercase tracking-widest ml-1",children:"Case Context Notes"}),t.jsx("textarea",{className:"w-full bg-white border border-slate-100 rounded-xl p-3 text-[9px] font-medium text-slate-500 outline-none h-16 shadow-inner",placeholder:"Record final resolution notes here...",value:f[v.id]||"",onChange:ee=>E({...f,[v.id]:ee.target.value})})]}),t.jsxs("div",{className:"bg-white border border-slate-100 rounded-xl p-3 overflow-hidden shadow-inner flex flex-col",children:[t.jsx("p",{className:"text-[7px] font-black text-slate-300 uppercase tracking-widest mb-2",children:"Internal Sighting Archive"}),V.length>0?t.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:V.map(ee=>t.jsxs("span",{className:"px-1.5 py-0.5 bg-rose-50 text-rose-600 border border-rose-100 rounded text-[6.5px] font-black uppercase",children:["MISSING: ",ee]},ee))}):t.jsxs("p",{className:"text-[9px] font-medium text-slate-400 italic line-clamp-2 leading-relaxed",children:['"',v.comment||"No contextual data provided during digitization.",'"']})]})]})]},v.id)})]})]},k.staffId))})}),t.jsxs("div",{className:"px-8 py-5 bg-slate-900 border-t border-white/5 flex items-center justify-between shrink-0",children:[t.jsxs("div",{className:"flex items-center space-x-3 text-slate-500",children:[t.jsx(mt,{size:16}),t.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest",children:"SOP Protocol: Verified Identity Custodianship  Trace-Linked"})]}),t.jsx("button",{onClick:q,className:"px-10 py-3 bg-white text-slate-900 rounded-xl text-[9px] font-black uppercase shadow-xl hover:bg-slate-50 transition-all active:scale-95",children:"Close Case Review"})]})]})})},v1=({logs:c,usageLogs:d,tools:x,masterEmployees:o,currentUserLevel:y,onDigitize:S,onAuditTarget:q,onVerify:A,onResolve:w,hasPermission:f})=>{const[E,b]=p.useState(null),[m,_]=p.useState(0),[M,D]=p.useState(1),[H,F]=p.useState("ALL"),[g,z]=p.useState(null),[C,ie]=p.useState(null),k=15,v=ee=>String(ee||"").replace(/[^a-z0-9]/gi,"").toLowerCase(),Y=p.useMemo(()=>c.filter(ee=>{const se=v(ee.id),N=v(ee.pageNumber||""),L=d.filter(re=>{const h=v(re.physicalArchiveId||re.batchId||""),R=v(re.comment||"");return h===se||N&&R.includes(N)}).filter(re=>!re.isReturned&&re.escalationStatus!=="Resolved").length>0;return H==="VARIANCES"?L:H==="CLEARED"?!L:!0}),[c,d,H]),j=Math.ceil(Y.length/k),V=p.useMemo(()=>{const ee=(M-1)*k;return[...Y].sort((se,N)=>String(N.date||"").localeCompare(String(se.date||""))).slice(ee,ee+k)},[Y,M]),K=ee=>{ie(se=>se===ee?null:ee)},W=ee=>{if(!ee.comment)return[];const se=ee.comment.match(/(?:MISSING|UNRETURNED PIECES|CHECK|VARIANCE):\s*([^|\]]+)/i);return se?se[1].split(",").map(N=>N.trim().toUpperCase()).filter(Boolean):[]},ue=ee=>{const se=ee.actionHistory||[],N=se.length>0?se[se.length-1]:null,Z=[...se].reverse().find(ae=>ae.action.includes("RETURN")||ae.action.includes("RECOVERY")||ae.action.includes("RESOLUTION"));return{protocol:N?N.action:ee.isReturned?"RETURNED":"ISSUED",lastUpdate:N?N.timestamp:null,receivingOfficer:(Z==null?void 0:Z.actorName)||null}};return t.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500 max-w-full pb-10",children:[g&&t.jsx(b1,{archive:g,usageLogs:d,tools:x,currentUserLevel:y,onVerify:A,onResolve:w,onClose:()=>z(null)}),E&&t.jsxs("div",{className:"fixed inset-0 z-[1000] bg-slate-950/95 backdrop-blur-xl flex items-center justify-center p-4 animate-in fade-in duration-300",children:[t.jsx("button",{onClick:()=>b(null),className:"absolute top-6 right-6 text-white/50 hover:text-white transition-colors bg-white/10 p-3 rounded-2xl z-20",children:t.jsx(ht,{size:24})}),E.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>_(ee=>ee>0?ee-1:E.length-1),className:"absolute left-6 top-1/2 -translate-y-1/2 bg-white/10 p-4 rounded-full text-white/50 hover:text-white transition-all z-20",children:t.jsx(Ha,{size:32})}),t.jsx("button",{onClick:()=>_(ee=>ee<E.length-1?ee+1:0),className:"absolute right-6 top-1/2 -translate-y-1/2 bg-white/10 p-4 rounded-full text-white/50 hover:text-white transition-all z-20",children:t.jsx(qs,{size:32})})]}),t.jsx("div",{className:"relative max-w-full max-h-[90vh] flex flex-col items-center",children:t.jsx("img",{src:E[m],className:"max-w-full max-h-[80vh] object-contain rounded-xl shadow-2xl border border-white/10 animate-in zoom-in-95",alt:"Log"})})]}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-[#0F1135] rounded-2xl flex items-center justify-center text-white shadow-lg shrink-0",children:t.jsx(Hd,{size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight leading-none",children:"Daily Log Records"}),t.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-widest mt-1.5",children:"Scanned logbook history"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex bg-slate-50 border border-slate-200 p-1 rounded-xl shadow-inner",children:[{id:"ALL",label:"All"},{id:"VARIANCES",label:"Exceptions"},{id:"CLEARED",label:"Clear"}].map(ee=>t.jsx("button",{onClick:()=>{F(ee.id),D(1)},className:`px-4 py-1.5 rounded-lg text-[8px] font-black uppercase transition-all ${H===ee.id?"bg-[#0F1135] text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:ee.label},ee.id))}),t.jsxs("button",{onClick:S,className:"bg-indigo-600 text-white px-8 py-3.5 rounded-xl font-black uppercase tracking-[0.15em] text-[9px] hover:bg-[#0F1135] shadow-xl shadow-indigo-100 transition-all flex items-center justify-center space-x-2 active:scale-95",children:[t.jsx(Zd,{size:14}),t.jsx("span",{children:"Upload Daily Log"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-100 shadow-xl rounded-[2rem] overflow-hidden mx-1",children:[t.jsxs("div",{className:"hidden lg:grid grid-cols-12 bg-slate-50/80 backdrop-blur-md text-[8px] font-black text-slate-400 uppercase tracking-[0.25em] border-b border-slate-100 px-8 py-4",children:[t.jsx("div",{className:"col-span-4",children:"Staff Member"}),t.jsx("div",{className:"col-span-5 text-center",children:"Current Status"}),t.jsx("div",{className:"col-span-3 text-right pr-4",children:"Details"})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:V.length===0?t.jsxs("div",{className:"py-32 text-center",children:[t.jsx(Hd,{size:48,className:"mx-auto text-slate-100 mb-4"}),t.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em]",children:"No logs found"})]}):V.map(ee=>{var de;const se=C===ee.id,N=v(ee.id),Z=v(ee.pageNumber||""),ae=d.filter(xe=>{const G=v(xe.physicalArchiveId||xe.batchId||""),U=v(xe.comment||"");return G===N||Z&&U.includes(Z)}),L=ae.filter(xe=>!xe.isReturned&&xe.escalationStatus!=="Resolved"),re=L.length>0,h=ee.attendantName||((de=o.find(xe=>xe.id===ee.attendantId))==null?void 0:de.name)||"Staff",R=Array.from(new Set(ae.map(xe=>xe.staffId))).map(xe=>{var J;const G=ae.filter(pe=>pe.staffId===xe),U=G.filter(pe=>!pe.isReturned),Q=G.find(pe=>pe.escalationStatus==="In-Grace-Period"),te=Q&&Q.graceExpiryDate?Math.max(0,Math.ceil((new Date(Q.graceExpiryDate).getTime()-new Date().getTime())/(1e3*3600*24))):null;return{staffId:xe,staffName:((J=G[0])==null?void 0:J.staffName)||"Unknown",items:G,heldCount:U.length,graceDays:te}});return t.jsxs(zs.Fragment,{children:[t.jsxs("div",{onClick:()=>K(ee.id),className:`group relative p-6 lg:px-8 lg:py-7 hover:bg-indigo-50/20 transition-all cursor-pointer ${se?"bg-indigo-50/30":""}`,children:[ee.timestamp&&t.jsxs("div",{className:"absolute top-3 right-8 flex items-center gap-1.5 transition-all",children:[t.jsx(wh,{size:10,className:"text-indigo-400"}),t.jsxs("span",{className:"text-[7px] font-black text-indigo-600 uppercase tracking-widest bg-indigo-50 px-2 py-0.5 rounded-lg border border-indigo-100 shadow-sm",children:["Last Update: ",ee.timestamp]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-5 items-center",children:[t.jsx("div",{className:"col-span-1 lg:col-span-4",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{onClick:xe=>{var G;xe.stopPropagation(),((G=ee.imageUrls)==null?void 0:G.length)>0&&(b(ee.imageUrls),_(0))},className:"w-10 h-10 bg-white border border-slate-100 rounded-xl flex items-center justify-center shadow-sm shrink-0 overflow-hidden cursor-zoom-in hover:border-indigo-400 transition-all duration-500",children:ee.imageUrls&&ee.imageUrls[0]?t.jsx("img",{src:ee.imageUrls[0],className:"w-full h-full object-cover",alt:"log"}):t.jsx(dg,{size:18,className:"text-slate-300"})}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("span",{className:"font-black text-slate-900 text-sm uppercase tracking-tight truncate leading-none",children:h}),t.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[t.jsx(_s,{size:10,className:"text-indigo-400"}),t.jsxs("span",{className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest bg-indigo-50 px-2 py-0.5 rounded border border-indigo-100 shadow-sm",children:["Date: ",ee.date]})]})]})]})}),t.jsx("div",{className:"col-span-1 lg:col-span-5 text-center flex flex-col items-center",children:t.jsx("div",{className:"flex items-center gap-1.5 flex-wrap justify-center",children:re?t.jsxs("div",{className:"px-3 py-1 bg-rose-600 text-white border border-rose-600 rounded-lg text-[8px] font-black uppercase flex items-center gap-2 shadow-md",children:[t.jsx(Kl,{size:12}),L.length," UNRETURNED TOOLS"]}):t.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-600 border border-emerald-200 rounded-lg text-[8px] font-black uppercase tracking-widest flex items-center gap-2 shadow-sm",children:[t.jsx(nt,{size:12}),"ALL CLEAR"]})})}),t.jsx("div",{className:"col-span-1 lg:col-span-3 text-right pr-4",children:t.jsx("div",{className:`transition-transform duration-500 inline-block ${se?"rotate-180 text-indigo-600":"text-slate-400"}`,children:t.jsx(as,{size:24,strokeWidth:3})})})]})]}),se&&t.jsx("div",{className:"bg-slate-50 border-y border-slate-100 p-6 lg:px-12 animate-in slide-in-from-top-4 duration-500 shadow-inner",children:t.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.2rem] overflow-hidden shadow-xl max-w-5xl mx-auto",children:[t.jsx("div",{className:"px-8 py-5 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:t.jsxs("h4",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[t.jsx(ss,{size:16,className:"text-slate-300"}),"Tool History Log"]})}),t.jsx("div",{className:"divide-y divide-slate-100",children:R.length===0?t.jsx("div",{className:"py-12 text-center",children:t.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"No entries found for this log."})}):R.map(xe=>t.jsxs("div",{className:"bg-white overflow-hidden",children:[t.jsxs("div",{className:"px-8 py-4 bg-indigo-50/40 border-b border-indigo-50 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-600 text-white flex items-center justify-center font-black text-[9px] shadow-sm uppercase",children:xe.staffName.charAt(0)}),t.jsx("div",{children:t.jsx("p",{className:"text-[13px] font-black text-slate-900 uppercase leading-none",children:xe.staffName})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-600 border border-indigo-50 rounded text-[7px] font-black uppercase tracking-widest",children:[xe.items.length," Tools"]}),xe.heldCount>0&&t.jsx("span",{className:"px-2 py-0.5 bg-rose-500/80 text-white rounded text-[7px] font-black uppercase shadow-sm",children:"OUTSTANDING"})]})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:xe.items.map((G,U)=>{const Q=W(G),te=!G.isReturned&&(G.conditionOnReturn==="Lost"||Q.length>0),J=G.isReturned,pe=ue(G),ge=G.attendantName||"Staff",Ce=pe.receivingOfficer;return t.jsx("div",{className:`p-5 flex flex-col hover:bg-slate-50 transition-colors gap-5 ${te?"bg-rose-50/10":""}`,children:t.jsxs("div",{className:"flex items-center justify-between lg:flex-row flex-col gap-6",children:[t.jsxs("div",{className:"flex items-center space-x-5 min-w-0 flex-1",children:[t.jsx("div",{className:`w-10 h-10 rounded-2xl border flex items-center justify-center shrink-0 shadow-inner ${J?"bg-emerald-50 border-emerald-100 text-emerald-500":te?"bg-rose-50 border-rose-100 text-rose-300":"bg-white border-slate-100 text-indigo-200"}`,children:J?t.jsx(nt,{size:16}):te?t.jsx(Rs,{size:16}):t.jsx(Dt,{size:16})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[t.jsxs("p",{className:`text-[11px] font-black uppercase truncate leading-none ${J?"text-emerald-700":te?"text-rose-700 underline decoration-rose-200":"text-slate-800"}`,children:[G.toolName,!J&&t.jsxs("span",{className:`ml-2 text-[10px] font-black ${te?"text-rose-600":"text-slate-500"}`,children:["(x",G.quantity,")"]})]}),J?t.jsx("span",{className:"px-2 py-0.5 bg-emerald-600 text-white rounded text-[6.5px] font-black uppercase shadow-sm",children:"RETURNED"}):te?t.jsxs("span",{className:"px-2 py-0.5 bg-rose-600 text-white rounded text-[6.5px] font-black uppercase shadow-sm flex items-center gap-1",children:[t.jsx(mt,{size:8})," VARIANCE"]}):t.jsx("span",{className:"px-2 py-0.5 bg-indigo-600 text-white rounded text-[6.5px] font-black uppercase shadow-sm",children:"HELD"})]}),Q.length>0&&t.jsx("div",{className:"mt-2 flex flex-wrap gap-1.5 animate-in slide-in-from-left-2",children:Q.map((_e,Qe)=>t.jsxs("span",{className:"bg-rose-50 text-rose-600 px-2 py-0.5 rounded-lg border border-rose-100 text-[6.5px] font-black uppercase tracking-tighter",children:["Unreturned Piece: ",_e]},Qe))}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-3",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(pm,{size:12,className:"text-indigo-400"}),t.jsxs("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-tight",children:["Issued by: ",t.jsx("span",{className:"text-indigo-500 font-black",children:ge})]})]}),J&&Ce&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(mm,{size:12,className:"text-emerald-400"}),t.jsxs("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-tight",children:["Received by: ",t.jsx("span",{className:"text-emerald-600 font-black",children:Ce})]})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(ra,{size:12,className:"text-slate-300"}),t.jsxs("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-tight",children:["Trace: ",pe.protocol.replace(/_/g," ")]})]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 shrink-0",children:[!G.isReturned&&t.jsxs("button",{onClick:_e=>{_e.stopPropagation(),A(G)},className:`px-8 py-3 rounded-xl text-[8px] font-black uppercase tracking-widest transition-all active:scale-95 flex items-center gap-2 shadow-md ${te?"bg-rose-600 text-white hover:bg-rose-700":"bg-[#0F1135] text-white hover:bg-indigo-600"}`,children:[t.jsx(Jn,{size:14}),t.jsx("span",{children:te?"Resolve":"Return"})]}),G.isReturned&&t.jsxs("div",{className:"flex items-center space-x-2 px-5 py-2.5 bg-emerald-50 text-emerald-600 rounded-xl border border-emerald-50",children:[t.jsx(nt,{size:14}),t.jsx("span",{className:"text-[8px] font-black uppercase",children:"Filing Reconciled"})]})]})]})},U)})})]},xe.staffId))})]})})]},ee.id)})}),t.jsxs("div",{className:"px-8 py-5 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-3 text-slate-400",children:t.jsxs("span",{className:"text-[8px] font-black uppercase tracking-widest",children:[Y.length," Logs found"]})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>D(ee=>Math.max(1,ee-1)),disabled:M===1,className:"p-2 rounded-lg bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm",children:t.jsx(Ha,{size:16})}),t.jsx("div",{className:"px-4 py-2 bg-white border border-slate-200 rounded-lg shadow-inner text-center",children:t.jsxs("span",{className:"text-[9px] font-black text-slate-900 uppercase tracking-widest",children:["Page ",M," of ",j||1]})}),t.jsx("button",{onClick:()=>D(ee=>Math.min(j,ee+1)),disabled:M===j||j===0,className:"p-2 rounded-lg bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm",children:t.jsx(qs,{size:16})})]})]})]})]})},y1=({report:c,tools:d,sectionalItems:x,activeCases:o,onClose:y})=>{const[S,q]=p.useState(!1),[A,w]=p.useState(!1),f=p.useRef(null);p.useEffect(()=>{const m=_=>{f.current&&!f.current.contains(_.target)&&q(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const E=async()=>{const m=document.getElementById("printable-report-content");if(!m)return;q(!1),w(!0);const _={margin:[10,10,10,10],filename:`Audit_Report_${c.id}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!1,allowTaint:!0,letterRendering:!0,logging:!1},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};try{await new Promise(M=>setTimeout(M,1200)),await window.html2pdf().from(m).set(_).save()}catch(M){console.error("PDF Generation Error:",M)}finally{w(!1)}},b=m=>{const _=d.find(g=>g.id===m.toolId);if(!((_==null?void 0:_.assetClass)==="Set"||(_==null?void 0:_.assetClass)==="Toolbox")||!m.comment)return`${m.toolName} (x${m.quantity})`;const D=m.comment.match(/\[MISSING:\s*([^\]]+)\]/i),H=m.comment.match(/\[DAMAGED:\s*([^\]]+)\]/i),F=[...D?D[1].split(",").map(g=>`Missing: ${g.trim()}`):[],...H?H[1].split(",").map(g=>`Damaged: ${g.trim()}`):[]];if(F.length===0){const g=m.comment.match(/(?:MISSING(?:\sPIECES)?|PARTIAL(?:\sKIT\sISSUANCE)?):\s*([^|\]]+)/i),z=m.comment.match(/DAMAGED:\s*([^|\]]+)/i);g&&F.push(...g[1].split(",").map(C=>`Missing: ${C.trim()}`)),z&&F.push(...z[1].split(",").map(C=>`Damaged: ${C.trim()}`))}return F.length===0?`${m.toolName} (x${m.quantity})`:`${m.toolName} (x${m.quantity})  Pieces: [${F.join("; ")}]`};return t.jsx("div",{className:"fixed inset-0 z-[1000] bg-slate-900/95 flex items-start justify-center overflow-y-auto no-scrollbar",children:t.jsxs("div",{className:"relative bg-white w-full max-w-6xl shadow-2xl flex flex-col min-h-screen",children:[t.jsxs("div",{className:"px-8 py-4 border-b border-slate-100 flex items-center justify-between bg-white shrink-0 sticky top-0 z-30 shadow-sm",children:[t.jsxs("button",{onClick:y,className:"flex items-center space-x-2 text-slate-400 hover:text-indigo-600 font-black uppercase text-[10px] tracking-widest transition-all",children:[t.jsx(fm,{size:18}),t.jsx("span",{children:"Return to Hub"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"relative",ref:f,children:[t.jsxs("button",{disabled:A,onClick:()=>q(!S),className:"flex items-center space-x-3 px-6 py-2.5 bg-emerald-600 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-xl hover:bg-emerald-700 active:scale-95 transition-all disabled:opacity-50",children:[A?t.jsx(bm,{size:16,className:"animate-spin"}):t.jsx(Vg,{size:16}),t.jsx("span",{children:A?"Generating PDF...":"Export Report PDF"}),!A&&t.jsx(as,{size:14,className:`transition-transform duration-300 ${S?"rotate-180":""}`})]}),S&&t.jsx("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-2xl shadow-2xl border border-slate-100 py-2 z-50 animate-in slide-in-from-top-2",children:t.jsxs("button",{onClick:E,className:"w-full px-5 py-3.5 flex items-center gap-4 hover:bg-indigo-50 text-left transition-colors group",children:[t.jsx("div",{className:"w-9 h-9 bg-indigo-50 text-indigo-600 rounded-xl flex items-center justify-center group-hover:bg-indigo-600 group-hover:text-white transition-all",children:t.jsx(qd,{size:16})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase tracking-tight",children:"Download PDF"}),t.jsx("p",{className:"text-[7px] font-bold text-slate-400 uppercase mt-0.5",children:"High-Res Document"})]})]})})]}),t.jsx("button",{onClick:y,className:"w-9 h-9 bg-rose-50 text-rose-500 rounded-xl flex items-center justify-center hover:bg-rose-100 transition-colors",children:t.jsx(ht,{size:18})})]})]}),t.jsxs("div",{id:"printable-report-content",className:"p-8 md:p-10 bg-white text-slate-900 font-sans",children:[t.jsxs("div",{className:"flex items-start justify-between border-b-2 border-slate-900 pb-6 mb-8",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 bg-slate-900 rounded-xl flex items-center justify-center text-white shrink-0",children:t.jsx(Ve,{size:28})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-black uppercase tracking-tighter leading-none mb-1",children:"Executive Audit Summary"}),t.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Official Asset Ledger  FORM SOP-AUD-04"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest mb-0.5",children:"Audit Reference"}),t.jsx("p",{className:"text-lg font-black font-mono tracking-tight",children:c.id})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8 bg-slate-50 p-6 rounded-[1.5rem] border border-slate-100",children:[t.jsxs("div",{className:"space-y-0.5",children:[t.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Officer"}),t.jsx("p",{className:"text-[11px] font-black uppercase text-slate-900",children:c.inspector})]}),t.jsxs("div",{className:"space-y-0.5",children:[t.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),t.jsx("p",{className:"text-[11px] font-black uppercase text-slate-900",children:c.date})]}),t.jsxs("div",{className:"space-y-0.5",children:[t.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Zone"}),t.jsx("p",{className:"text-[11px] font-black uppercase text-indigo-600",children:c.section})]})]}),t.jsxs("div",{className:"space-y-4 mb-8",children:[t.jsxs("h2",{className:"text-base font-black uppercase tracking-tight flex items-center gap-2",children:[t.jsx(mt,{size:18,className:"text-rose-600"}),"Technical Discrepancies"]}),t.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden shadow-sm",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-slate-900 text-white",children:t.jsxs("tr",{className:"text-[8px] font-black uppercase tracking-widest",children:[t.jsx("th",{className:"py-3 px-6 w-[35%]",children:"Asset Designation"}),t.jsx("th",{className:"py-3 px-4 text-center",children:"System"}),t.jsx("th",{className:"py-3 px-4 text-center",children:"Sighted"}),t.jsx("th",{className:"py-3 px-4 text-center",children:"Condition"}),t.jsx("th",{className:"py-3 px-6 text-right",children:"Observations"})]})}),t.jsxs("tbody",{className:"divide-y divide-slate-100",children:[(c.issues||[]).map((m,_)=>{const M=d.find(z=>z.id===m.toolId),D=m.expectedQty||(M==null?void 0:M.available)||0,H=m.quantity,F=H<D,g=m.condition==="Lost"?"Missing":m.condition;return t.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors ${F?"bg-rose-50/10":""}`,children:[t.jsxs("td",{className:"py-3.5 px-6",children:[t.jsx("p",{className:"text-[10px] font-black uppercase text-slate-900",children:(M==null?void 0:M.name)||m.toolId}),t.jsxs("p",{className:"text-[7px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:["UID: ",m.toolId]})]}),t.jsx("td",{className:"py-3.5 px-4 text-center",children:t.jsx("span",{className:"text-[9px] font-black text-slate-400 tabular-nums",children:D})}),t.jsx("td",{className:"py-3.5 px-4 text-center",children:t.jsx("span",{className:`text-[10px] font-black tabular-nums ${F?"text-rose-600":"text-slate-900"}`,children:H})}),t.jsx("td",{className:"py-3.5 px-4 text-center",children:t.jsx("span",{className:`px-2 py-0.5 rounded text-[7px] font-black uppercase border ${m.condition==="Excellent"||m.condition==="Good"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:g})}),t.jsx("td",{className:"py-3.5 px-6 text-right",children:t.jsx("p",{className:"text-[9px] font-medium text-slate-500 italic leading-relaxed",children:m.notes||"No variances identified."})})]},_)}),(c.issues||[]).length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"py-12 text-center text-[9px] font-black uppercase text-slate-300 tracking-[0.4em]",children:"Compliance Certified."})})]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-8 mb-10 opacity-40",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h3",{className:"text-[10px] font-normal uppercase tracking-widest flex items-center gap-2 text-slate-400",children:[t.jsx(ss,{size:14}),"Store External Custody (Section-Held)"]}),t.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden shadow-sm",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:t.jsxs("tr",{className:"text-[7px] font-normal text-slate-400 uppercase tracking-widest",children:[t.jsx("th",{className:"py-2 px-6 w-[50%]",children:"Asset & Piece ID"}),t.jsx("th",{className:"py-2 px-4 text-center",children:"Custodian"}),t.jsx("th",{className:"py-2 px-6 text-right",children:"Date"})]})}),t.jsxs("tbody",{className:"divide-y divide-slate-50 text-slate-600",children:[x.map((m,_)=>t.jsxs("tr",{children:[t.jsx("td",{className:"py-2.5 px-6 text-[9px] font-normal uppercase",children:b(m)}),t.jsx("td",{className:"py-2.5 px-4 text-center text-[9px] font-normal uppercase",children:m.staffName}),t.jsx("td",{className:"py-2.5 px-6 text-right text-[9px] font-normal uppercase",children:m.date})]},_)),x.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:3,className:"py-6 text-center text-[8px] font-normal text-slate-200 uppercase tracking-widest italic",children:"Zero external records"})})]})]})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h3",{className:"text-[10px] font-normal uppercase tracking-widest flex items-center gap-2 text-slate-400",children:[t.jsx(mt,{size:14}),"Institutional Liability (Pending Issues)"]}),t.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden shadow-sm",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:t.jsxs("tr",{className:"text-[7px] font-normal text-slate-400 uppercase tracking-widest",children:[t.jsx("th",{className:"py-2 px-6 w-[50%]",children:"Variance Description"}),t.jsx("th",{className:"py-2 px-4 text-center",children:"Responsible"}),t.jsx("th",{className:"py-2 px-6 text-right",children:"Status"})]})}),t.jsxs("tbody",{className:"divide-y divide-slate-50 text-slate-600",children:[o.map((m,_)=>t.jsxs("tr",{children:[t.jsx("td",{className:"py-2.5 px-6 text-[9px] font-normal uppercase",children:b(m)}),t.jsx("td",{className:"py-2.5 px-4 text-center text-[9px] font-normal uppercase",children:m.staffName}),t.jsx("td",{className:"py-2.5 px-6 text-right",children:t.jsx("span",{className:"text-[8px] font-normal uppercase px-1.5 py-0.5 border border-slate-200 rounded",children:m.escalationStatus})})]},_)),o.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:3,className:"py-6 text-center text-[8px] font-normal text-slate-200 uppercase tracking-widest italic",children:"No pending liability"})})]})]})})]})]}),t.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100 flex items-end justify-between",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:"h-24 w-56 border-b border-dashed border-slate-200 mb-4 flex items-center justify-center p-2 bg-slate-50/30 rounded-t-xl overflow-hidden relative",children:c.signature?t.jsx("img",{src:c.signature,className:"max-h-full max-w-full object-contain grayscale",alt:"Digital Certification Signature",width:"220",height:"90",style:{display:"block"}}):t.jsx("span",{className:"text-[8px] font-black text-slate-200 uppercase tracking-[0.4em]",children:"Official Stamp Only"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-[11px] font-black uppercase text-slate-900 leading-none",children:c.inspector}),t.jsx("p",{className:"text-[7px] font-black uppercase tracking-[0.3em] text-slate-400 mt-1",children:"Inspecting Officer"})]})]}),t.jsxs("div",{className:"text-right space-y-2",children:[t.jsx("div",{className:"flex items-center justify-end space-x-4 mb-2",children:t.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-xl flex items-center justify-center text-emerald-500 border border-emerald-100 shadow-sm",children:t.jsx(nt,{size:24})})}),t.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-900",children:"Registry Certification"}),t.jsxs("div",{className:"flex items-center justify-end gap-2 text-[6px] font-bold text-slate-400 uppercase tracking-widest",children:[t.jsx(ss,{size:8}),t.jsxs("span",{children:["SYSTEM HASH: ",c.id]})]})]})]}),t.jsxs("div",{className:"mt-16 text-center opacity-30",children:[t.jsx("p",{className:"text-[7px] font-black uppercase tracking-[0.5em] mb-1",children:"ShiftPro Workforce Intelligence System"}),t.jsx("p",{className:"text-[6.5px] font-bold",children:"Electronically generated institutional record. FORM SOP-AUD-04"})]})]})]})})},j1=({audit:c,usageLogs:d,tools:x,masterEmployees:o,onClose:y})=>{const[S,q]=p.useState(!1),[A,w]=p.useState(!1),f=p.useRef(null),E=M=>String(M||"").replace(/[^a-z0-9]/gi,"").toLowerCase(),b=d.filter(M=>E(M.physicalArchiveId||"")===E(c.id)&&M.escalationStatus==="In-Grace-Period"&&!M.isReturned);p.useEffect(()=>{const M=D=>{f.current&&!f.current.contains(D.target)&&q(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const m=async()=>{const M=document.getElementById("printable-agreement-content");if(!M)return;q(!1),w(!0);const D={margin:[8,8,8,8],filename:`Restitution_Agreement_${c.id}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!1,allowTaint:!0,letterRendering:!0,logging:!1},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};try{await new Promise(H=>setTimeout(H,1200)),await window.html2pdf().from(M).set(D).save()}catch(H){console.error("PDF Generation Error:",H)}finally{w(!1)}},_=M=>{const D=x.find(C=>C.id===M.toolId);if(!((D==null?void 0:D.assetClass)==="Set"||(D==null?void 0:D.assetClass)==="Toolbox")||!M.comment)return M.toolName;const F=M.comment.match(/\[MISSING:\s*([^\]]+)\]/i),g=M.comment.match(/\[DAMAGED:\s*([^\]]+)\]/i),z=[...F?F[1].split(",").map(C=>`Missing: ${C.trim()}`):[],...g?g[1].split(",").map(C=>`Damaged: ${C.trim()}`):[]];return z.length===0?M.toolName:`${M.toolName} (${z.join("; ")})`};return t.jsx("div",{className:"fixed inset-0 z-[1000] bg-slate-900/95 flex items-start justify-center overflow-y-auto no-scrollbar",children:t.jsxs("div",{className:"relative bg-white w-full max-w-5xl shadow-2xl flex flex-col min-h-screen",children:[t.jsxs("div",{className:"px-8 py-4 border-b border-slate-100 flex items-center justify-between bg-white shrink-0 sticky top-0 z-30",children:[t.jsxs("button",{onClick:y,className:"flex items-center space-x-2 text-slate-400 hover:text-indigo-600 font-black uppercase text-[10px] tracking-widest transition-all",children:[t.jsx(fm,{size:18}),t.jsx("span",{children:"Exit Archive"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"relative",ref:f,children:[t.jsxs("button",{disabled:A,onClick:()=>q(!S),className:"flex items-center space-x-3 px-6 py-2 bg-emerald-600 text-white rounded-xl text-[8.5px] font-black uppercase tracking-widest shadow-xl active:scale-95 transition-all disabled:opacity-50",children:[A?t.jsx(bm,{size:14,className:"animate-spin"}):t.jsx(qd,{size:14}),t.jsx("span",{children:A?"Processing PDF...":"Download Agreement"}),!A&&t.jsx(as,{size:12,className:`transition-transform duration-300 ${S?"rotate-180":""}`})]}),S&&t.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-2xl shadow-2xl border border-slate-100 py-2 z-50 animate-in slide-in-from-top-2",children:t.jsxs("button",{onClick:m,className:"w-full px-5 py-3 flex items-center gap-3 hover:bg-indigo-50 text-left transition-colors group",children:[t.jsx(qd,{size:14,className:"text-indigo-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Save as PDF"}),t.jsx("p",{className:"text-[7px] font-bold text-slate-400 uppercase tracking-tighter",children:"1-Page High-Res"})]})]})})]}),t.jsx("button",{onClick:y,className:"w-9 h-9 bg-rose-50 text-rose-500 rounded-xl flex items-center justify-center hover:bg-rose-100 transition-colors",children:t.jsx(ht,{size:18})})]})]}),t.jsxs("div",{id:"printable-agreement-content",className:"p-10 bg-white text-slate-900 font-serif leading-tight",children:[t.jsxs("div",{className:"flex items-start justify-between border-b-2 border-slate-900 pb-5 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 bg-slate-900 rounded-xl flex items-center justify-center text-white shrink-0 shadow-lg",children:t.jsx(Ve,{size:32})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-black uppercase tracking-tight leading-none mb-1 font-sans",children:"Restitution Acknowledgement"}),t.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.3em] font-sans",children:"Institutional Asset Recovery Ledger  FSC-01"})]})]}),t.jsxs("div",{className:"text-right font-sans",children:[t.jsx("p",{className:"text-[8px] font-black uppercase text-slate-400 tracking-widest mb-0.5",children:"FORM REF"}),t.jsxs("p",{className:"text-[11px] font-black font-mono",children:["SOP-REC-01/AUD-",c.id.split("-").pop()]})]})]}),t.jsxs("div",{className:"space-y-6 mb-8",children:[t.jsxs("div",{className:"bg-slate-50 p-6 rounded-[1.5rem] border border-slate-100 shadow-inner relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-5 pointer-events-none font-sans font-black text-2xl uppercase rotate-12",children:"Authorized"}),t.jsxs("h2",{className:"text-sm font-black uppercase tracking-tight mb-3 flex items-center gap-2 font-sans",children:[t.jsx(jm,{size:16,className:"text-indigo-600"}),"Acknowledgment of Liability"]}),t.jsx("p",{className:"text-[10.5px] leading-relaxed text-slate-700 font-medium",children:"I, the undersigned, acknowledge responsibility for the missing or damaged institutional assets listed below. I agree to provide identical replacements within 30 days. Non-compliance authorizes institutional payroll recovery per company policy SOP-ASSET-09."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-[9px] font-black uppercase tracking-widest flex items-center gap-1.5 font-sans text-slate-400",children:[t.jsx(Jn,{size:12}),"Asset Schedule"]}),t.jsx("div",{className:"border border-slate-200 rounded-2xl overflow-hidden font-sans shadow-sm",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-slate-900 text-white",children:t.jsxs("tr",{className:"text-[7.5px] font-black uppercase tracking-widest",children:[t.jsx("th",{className:"py-2.5 px-6 w-[55%]",children:"Asset / Variance Identification"}),t.jsx("th",{className:"py-2.5 px-4",children:"Custodian"}),t.jsx("th",{className:"py-2.5 px-3 text-center",children:"Qty"}),t.jsx("th",{className:"py-2.5 px-6 text-right",children:"Reprocurement Due"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map((M,D)=>t.jsxs("tr",{className:"bg-white",children:[t.jsxs("td",{className:"py-3 px-6",children:[t.jsx("p",{className:"text-[10px] font-black uppercase text-slate-900 leading-none",children:_(M)}),t.jsxs("p",{className:"text-[6.5px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:["TRACE UID: ",M.toolId]})]}),t.jsxs("td",{className:"py-3 px-4",children:[t.jsx("p",{className:"text-[9px] font-black uppercase text-slate-700 leading-none",children:M.staffName}),t.jsxs("p",{className:"text-[6.5px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:["ID: ",M.staffId]})]}),t.jsx("td",{className:"py-3 px-3 text-center",children:t.jsxs("span",{className:"text-[11px] font-black text-rose-600 tabular-nums",children:["x",M.quantity]})}),t.jsxs("td",{className:"py-3 px-6 text-right",children:[t.jsx("span",{className:"text-[10px] font-black text-emerald-600",children:M.graceExpiryDate}),t.jsx("p",{className:"text-[6px] font-black text-slate-300 uppercase tracking-tighter mt-1",children:"30-DAY WINDOW"})]})]},D))})]})})]})]}),t.jsx("div",{className:"mt-10 pt-6 border-t border-slate-100",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8",children:[b.slice(0,2).map((M,D)=>t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-24 border-b border-dashed border-slate-300 flex items-center justify-center p-2 bg-slate-50/20 rounded-t-xl overflow-hidden relative",children:M.recipientSignature?t.jsx("img",{src:M.recipientSignature,className:"max-h-full max-w-full object-contain grayscale",alt:"Staff Certification",style:{display:"block"},width:"200",height:"80"}):t.jsx("span",{className:"text-[7px] font-black text-slate-200 uppercase tracking-[0.4em]",children:"Awaiting Signature"})}),t.jsxs("div",{className:"text-center font-sans",children:[t.jsx("p",{className:"text-[10px] font-black uppercase text-slate-900 leading-none",children:M.staffName}),t.jsx("p",{className:"text-[7px] font-black uppercase tracking-[0.2em] text-slate-400 mt-1",children:"Custodian (Acknowledgee)"})]})]},D)),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-24 border-b border-dashed border-slate-300 flex items-center justify-center p-2 bg-slate-50/20 rounded-t-xl overflow-hidden relative",children:c.signature?t.jsx("img",{src:c.signature,className:"max-h-full max-w-full object-contain grayscale",alt:"Inspector Certification",style:{display:"block"},width:"200",height:"80"}):t.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-full flex items-center justify-center text-slate-200 border border-slate-100",children:t.jsx(Ms,{size:20})})}),t.jsxs("div",{className:"text-center font-sans",children:[t.jsx("p",{className:"text-[10px] font-black uppercase text-slate-900 leading-none",children:c.inspector}),t.jsx("p",{className:"text-[7px] font-black uppercase tracking-[0.2em] text-slate-400 mt-1",children:"Inspecting Officer"})]})]})]})}),t.jsxs("div",{className:"mt-12 text-center space-y-3 font-sans opacity-40",children:[t.jsx("div",{className:"w-10 h-px bg-slate-200 mx-auto"}),t.jsx("p",{className:"text-[7px] font-black uppercase tracking-[0.4em] text-slate-400",children:"Institutional Archive Entry  SOP-REC-01"}),t.jsxs("div",{className:"flex items-center justify-center gap-5",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Ve,{size:10,className:"text-emerald-500"}),t.jsx("span",{className:"text-[6.5px] font-bold",children:"DIGITALLY HASHED"})]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(cl,{size:10,className:"text-indigo-500"}),t.jsxs("span",{className:"text-[6.5px] font-bold uppercase tracking-tighter",children:["STAMPED: ",new Date().toLocaleString()]})]})]})]})]})]})})},N1=({audit:c,isExpanded:d,onToggle:x,onViewReport:o,onViewAgreement:y,stats:S,usageLogs:q=[],masterEmployees:A=[]})=>{var _;const[w,f]=p.useState(!1),E=p.useRef(null),b=M=>String(M||"").replace(/[^a-z0-9]/gi,"").toLowerCase();p.useEffect(()=>{const M=D=>{E.current&&!E.current.contains(D.target)&&f(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const m=p.useMemo(()=>{const M=q.filter(se=>b(se.physicalArchiveId||"")===b(c.id)),H=Array.from(new Set(M.map(se=>b(se.toolId)))).filter(se=>!M.filter(ae=>b(ae.toolId)===se).some(ae=>ae.isReturned||ae.escalationStatus==="Resolved")),g=[...M.flatMap(se=>se.actionHistory||[])].sort((se,N)=>new Date(N.timestamp).getTime()-new Date(se.timestamp).getTime()),z=g[0],C=z?z.timestamp:c.timestamp||c.date,ie=S.total>0&&H.length===0,k=g.find(se=>se.action==="FINAL_RESOLUTION_RETURN"||se.action==="PHYSICAL RECOVERY"||se.action.includes("RECOVERY")),v=M.find(se=>se.isReturned||se.escalationStatus==="Resolved"),Y=(k==null?void 0:k.actorName)||(v==null?void 0:v.attendantName)||"Authorized Officer";if(H.length===0&&!ie)return{lastUpdateDate:C,activeSOP:"CLEAR",isResolved:!1,totalVariances:0};const j=M.filter(se=>H.includes(b(se.toolId))),V=j.find(se=>se.escalationStatus==="In-Grace-Period"),K=j.find(se=>se.escalationStage==="Supervisor"||se.escalationStage==="Manager"),W=j.find(se=>se.actionHistory&&se.actionHistory.length>0);let ue="VARIANCE",ee=null;return ie?ue="RESOLVED":V?(ue="RESTITUTION",V.graceExpiryDate&&(ee=Math.max(0,Math.ceil((new Date(V.graceExpiryDate).getTime()-new Date().getTime())/(1e3*3600*24))))):K?ue="SUPERVISOR":W&&(ue="SEARCH"),{lastUpdateDate:C,activeSOP:ue,graceDaysRemaining:ee,totalVariances:H.length,hasFiscalCases:!!V||ie&&M.some(se=>se.escalationStatus==="Resolved"&&se.graceExpiryDate),isResolved:ie,resolverName:Y}},[q,c.id,c.date,c.timestamp,S.total]);return t.jsxs("div",{onClick:x,className:`group relative p-6 lg:px-8 lg:py-7 hover:bg-indigo-50/20 transition-all cursor-pointer ${d?"bg-indigo-50/30":""}`,children:[(m==null?void 0:m.lastUpdateDate)&&t.jsxs("div",{className:"absolute top-3 right-8 flex items-center gap-1.5 transition-all",children:[t.jsx(ti,{size:10,className:"text-indigo-400"}),t.jsxs("span",{className:"text-[7px] font-black text-indigo-600 uppercase tracking-widest bg-indigo-50 px-2 py-0.5 rounded-lg border border-indigo-100 shadow-sm",children:[m.isResolved?"Resolved At":"Last Update",": ",m.lastUpdateDate]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-5 items-center",children:[t.jsx("div",{className:"col-span-1 lg:col-span-4",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 text-white flex items-center justify-center font-black text-[10px] uppercase shadow-sm",children:((_=c.inspector)==null?void 0:_.charAt(0))||"A"}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("span",{className:"font-black text-slate-900 text-sm uppercase tracking-tight truncate leading-none",children:c.inspector||"System Audit"}),t.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[t.jsx(_s,{size:10,className:"text-indigo-400"}),t.jsxs("span",{className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest bg-indigo-50 px-2 py-0.5 rounded border border-indigo-100 shadow-sm",children:["FILED: ",String(c.date).split(" ")[0]]})]})]})]})}),t.jsx("div",{className:"col-span-1 lg:col-span-5 text-center flex flex-col items-center",children:t.jsx("div",{className:"flex items-center justify-center gap-1.5 flex-wrap",children:m!=null&&m.isResolved?t.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[t.jsxs("div",{className:"px-3 py-1 bg-emerald-600 text-white border border-emerald-700 rounded-lg text-[8px] font-black uppercase flex items-center gap-2 shadow-md animate-in zoom-in-95 duration-500",children:[t.jsx(Ve,{size:12}),"REGISTRY RESTORED"]}),t.jsxs("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest",children:["Verified By: ",t.jsx("span",{className:"text-indigo-600",children:m.resolverName})]})]}):S.total===0?t.jsxs("span",{className:"px-3 py-1 bg-emerald-50 text-emerald-600 border border-emerald-200 rounded-lg text-[8px] font-black uppercase tracking-widest flex items-center gap-2 shadow-sm",children:[t.jsx(nt,{size:12}),"COMPLIANCE VERIFIED"]}):t.jsxs(t.Fragment,{children:[(m==null?void 0:m.activeSOP)==="RESTITUTION"?t.jsxs("div",{className:"px-3 py-1 bg-emerald-600 text-white rounded-lg text-[8px] font-black uppercase flex items-center gap-2 shadow-md animate-pulse",children:[t.jsx(Jl,{size:12}),m.totalVariances," VARIANCES: STAFF RESTITUTION (",m.graceDaysRemaining,"D)"]}):(m==null?void 0:m.activeSOP)==="SUPERVISOR"?t.jsxs("div",{className:"px-3 py-1 bg-[#4338CA] text-white rounded-lg text-[8px] font-black uppercase flex items-center gap-2 shadow-md",children:[t.jsx(fs,{size:12}),m.totalVariances," VARIANCES: SUPERVISOR FOLLOW-UP"]}):(m==null?void 0:m.activeSOP)==="SEARCH"?t.jsxs("div",{className:"px-3 py-1 bg-indigo-600 text-white rounded-lg text-[8px] font-black uppercase flex items-center gap-2 shadow-md",children:[t.jsx(xs,{size:12}),m.totalVariances," RECOVERY IN PROGRESS"]}):t.jsxs("div",{className:"px-3 py-1 bg-rose-600 text-white border border-rose-600 rounded-lg text-[8px] font-black uppercase flex items-center gap-2 shadow-md",children:[t.jsx(ms,{size:12}),m.totalVariances," VARIANCE(S) IDENTIFIED"]}),t.jsxs("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-600 border border-indigo-200 rounded-lg text-[8px] font-black uppercase tracking-widest ml-1",children:["ZONE: ",c.section||"STORE"]})]})})}),t.jsx("div",{className:"col-span-1 lg:col-span-3 text-right pr-4",children:t.jsxs("div",{className:"flex items-center justify-end space-x-3 relative",ref:E,children:[t.jsx("button",{onClick:M=>{M.stopPropagation(),f(!w)},className:`w-11 h-11 rounded-xl flex items-center justify-center transition-all shadow-xl active:scale-95 border-2 ${w?"bg-indigo-600 text-white border-indigo-500":"bg-[#0F1135] text-white border-indigo-500/20 hover:bg-indigo-600"}`,title:"View Audit Reports",children:t.jsx(Gd,{size:22,strokeWidth:2.5})}),w&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-2xl shadow-2xl border border-slate-100 py-2 z-50 animate-in slide-in-from-top-2",children:[t.jsxs("button",{onClick:M=>{M.stopPropagation(),o(c),f(!1)},className:"w-full px-5 py-4 flex items-center gap-4 hover:bg-slate-50 text-left transition-colors group",children:[t.jsx("div",{className:"w-10 h-10 bg-indigo-50 text-indigo-600 rounded-xl flex items-center justify-center group-hover:bg-indigo-600 group-hover:text-white transition-all",children:t.jsx(Gd,{size:18})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase tracking-tight",children:"Main Audit Report"}),t.jsx("p",{className:"text-[7px] font-bold text-slate-400 uppercase mt-0.5",children:"Full Technical Summary"})]})]}),(m==null?void 0:m.hasFiscalCases)&&t.jsxs("button",{onClick:M=>{M.stopPropagation(),y(c),f(!1)},className:"w-full px-5 py-4 flex items-center gap-4 hover:bg-emerald-50 text-left transition-colors border-t border-slate-50 group",children:[t.jsx("div",{className:"w-10 h-10 bg-emerald-50 text-emerald-600 rounded-xl flex items-center justify-center group-hover:bg-emerald-600 group-hover:text-white transition-all",children:t.jsx(Xh,{size:18})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase tracking-tight",children:"Restitution Agreement"}),t.jsx("p",{className:"text-[7px] font-bold text-slate-400 uppercase mt-0.5",children:"Legal Staff Commitment"})]})]})]}),t.jsx("div",{className:`transition-transform duration-500 inline-block ${d?"rotate-180 text-indigo-600":"text-slate-400"}`,children:t.jsx(as,{size:24,strokeWidth:3})})]})})]})]})},w1=({staffGroups:c,tools:d,usageLogs:x,auditId:o,auditDate:y,inspector:S,onVerify:q})=>{const A=E=>String(E||"").replace(/[^a-z0-9]/gi,"").toLowerCase(),w=E=>{if(!E)return[];const b=E.match(/\[MISSING:\s*([^\]]+)\]/i),m=E.match(/\[DAMAGED:\s*([^\]]+)\]/i),_=[];if(b&&b[1].split(",").forEach(M=>{M.trim()&&_.push({name:M.trim().toUpperCase(),status:"MISSING"})}),m&&m[1].split(",").forEach(M=>{M.trim()&&_.push({name:M.trim().toUpperCase(),status:"DAMAGED"})}),_.length===0){const M=E.match(/(?:MISSING|CHECK):\s*([^|\]]+)/i),D=E.match(/DAMAGED:\s*([^|\]]+)/i);M&&M[1].split(",").forEach(H=>_.push({name:H.trim().toUpperCase(),status:"MISSING"})),D&&D[1].split(",").forEach(H=>_.push({name:H.trim().toUpperCase(),status:"DAMAGED"}))}return _},f=p.useMemo(()=>[...c].sort((E,b)=>{const m=E.items.some(M=>!x.find(D=>A(D.physicalArchiveId)===A(o)&&A(D.toolId)===A(M.toolId)&&D.isReturned)),_=b.items.some(M=>!x.find(D=>A(D.physicalArchiveId)===A(o)&&A(D.toolId)===A(M.toolId)&&D.isReturned));return m===_?0:m?-1:1}),[c,x,o]);return t.jsx("div",{className:"bg-slate-50 border-y border-slate-100 p-4 lg:px-10 animate-in slide-in-from-top-4 duration-500 shadow-inner",children:t.jsxs("div",{className:"bg-white border border-slate-200 rounded-[1.8rem] overflow-hidden shadow-xl max-w-5xl mx-auto",children:[t.jsxs("div",{className:"px-6 py-3 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[t.jsxs("h4",{className:"text-[8px] font-black text-slate-800 uppercase tracking-widest flex items-center gap-1.5",children:[t.jsx(ss,{size:12,className:"text-indigo-600"}),"Detailed Variance Ledger"]}),t.jsxs("span",{className:"text-[6.5px] font-bold text-slate-400 uppercase tracking-widest",children:["Inspector Certificate: ",S]})]}),t.jsx("div",{className:"divide-y divide-slate-100",children:f.length===0?t.jsxs("div",{className:"py-16 text-center space-y-2",children:[t.jsx("div",{className:"w-10 h-10 bg-emerald-50 rounded-full flex items-center justify-center mx-auto text-emerald-500",children:t.jsx(Ve,{size:20})}),t.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Compliance Verified: All items present."})]}):f.map(E=>{const b=[...E.items].sort((m,_)=>{const M=x.find(H=>A(H.physicalArchiveId)===A(o)&&A(H.toolId)===A(m.toolId)&&H.isReturned),D=x.find(H=>A(H.physicalArchiveId)===A(o)&&A(H.toolId)===A(_.toolId)&&H.isReturned);return!!M==!!D?0:M?1:-1});return t.jsxs("div",{className:"bg-white overflow-hidden",children:[t.jsxs("div",{className:"px-8 py-4 bg-indigo-50/20 border-b border-indigo-50 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-8 h-8 rounded-lg ${A(E.staffId)==="auditfallback"?"bg-slate-800":"bg-indigo-600"} text-white flex items-center justify-center font-black text-[9px] shadow-sm uppercase shrink-0`,children:E.staffName.charAt(0)}),t.jsx("div",{children:t.jsx("p",{className:"text-[13px] font-black text-slate-900 uppercase leading-none",children:E.staffName})})]}),t.jsx("div",{className:"flex items-center gap-1.5",children:t.jsxs("span",{className:"px-2 py-0.5 bg-indigo-50 text-indigo-600 border border-indigo-50 rounded text-[7px] font-black uppercase tracking-widest",children:[E.items.length," Instances"]})})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:b.map((m,_)=>{var v;const M=d.find(Y=>Y.id===m.toolId),D=w(m.notes),H=m.condition==="Lost",F=Math.max(0,(m.expectedQty||0)-(m.quantity||0)),g=x.find(Y=>A(Y.physicalArchiveId)===A(o)&&A(Y.toolId)===A(m.toolId)&&!Y.isReturned),z=x.find(Y=>A(Y.physicalArchiveId)===A(o)&&A(Y.toolId)===A(m.toolId)&&Y.isReturned),C=(v=z==null?void 0:z.actionHistory)==null?void 0:v.slice().reverse().find(Y=>Y.action==="FINAL_RESOLUTION_RETURN"||Y.action==="PHYSICAL RECOVERY"||Y.action.includes("RECOVERY")),ie=C?C.timestamp:(z==null?void 0:z.timeIn)||(z==null?void 0:z.date)||"---",k=C?C.actorName:(z==null?void 0:z.attendantName)||"Authorized Officer";return t.jsxs("div",{className:`p-5 flex flex-col hover:bg-slate-50 transition-colors ${z?"bg-emerald-50/10":""}`,children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-5 min-w-0 flex-1",children:[t.jsx("div",{className:`w-10 h-10 rounded-2xl border flex items-center justify-center shrink-0 shadow-inner ${z?"bg-emerald-50 border-emerald-100 text-emerald-500":H?"bg-rose-50 border-rose-100 text-rose-300":"bg-amber-50 border-amber-100 text-amber-300"}`,children:z?t.jsx(nt,{size:16}):H?t.jsx(Rs,{size:16}):t.jsx(Dt,{size:16})}),t.jsx("div",{className:"min-w-0 flex-1",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-1",children:[t.jsx("p",{className:`text-[11px] font-black uppercase truncate leading-none ${z?"text-emerald-700":H?"text-rose-700 underline decoration-rose-200":"text-slate-700"}`,children:(M==null?void 0:M.name)||m.toolId}),t.jsx("div",{className:"flex flex-wrap items-center gap-2",children:z?t.jsx("span",{className:"px-2 py-0.5 bg-emerald-600 text-white rounded text-[6.5px] font-black uppercase shadow-sm",children:"RESTORED"}):t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("span",{className:`px-2 py-0.5 rounded text-[7.5px] font-black uppercase border tracking-tighter ${H?"bg-rose-600 text-white border-rose-700":"bg-amber-500 text-white border-amber-600"}`,children:[H?"MISSING":"BROKEN",": ",F," UNIT(S)"]})})})]})})]}),t.jsxs("div",{className:"flex items-center justify-end gap-2 shrink-0",children:[q&&!z&&t.jsxs("button",{onClick:()=>{const Y=g||{id:`AUD-VAR-${Date.now()}-${m.toolId}`,toolId:m.toolId,toolName:(M==null?void 0:M.name)||m.toolId,quantity:F,staffId:E.staffId,staffName:E.staffName,shiftType:lt.DAY,date:y,timeOut:"00:00",isReturned:!1,conditionOnReturn:m.condition,attendantId:"SYSTEM",attendantName:"Audit System",issuanceType:"Outstanding",physicalArchiveId:o,comment:`[AUDIT_RECOVERY] ${m.notes||"Discrepancy identified in audit."}`,monetaryValue:(M==null?void 0:M.monetaryValue)||0,escalationStatus:"Pending",escalationStage:"Store"};q(Y,m.condition)},className:"px-8 py-3 bg-[#0F1135] text-white rounded-xl text-[8px] font-black uppercase tracking-widest hover:bg-indigo-600 transition-all shadow-md active:scale-95 flex items-center gap-2",children:[t.jsx(Jn,{size:14}),t.jsx("span",{children:"Verify Recovery"})]}),z&&t.jsxs("div",{className:"flex flex-col items-end",children:[t.jsxs("div",{className:"flex items-center space-x-2 px-5 py-1.5 bg-emerald-50 text-emerald-600 rounded-xl border border-emerald-100 shadow-inner",children:[t.jsx(nt,{size:12}),t.jsx("span",{className:"text-[8px] font-black uppercase",children:"Filing Reconciled"})]}),t.jsxs("div",{className:"flex flex-col items-end mt-1.5 px-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5 text-[7px] font-black text-slate-400 uppercase tracking-widest",children:[t.jsx(_s,{size:10,className:"text-indigo-400"}),t.jsxs("span",{children:["Resolved: ",ie]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 text-[7px] font-black text-slate-400 uppercase tracking-widest mt-0.5",children:[t.jsx(fs,{size:10,className:"text-indigo-400"}),t.jsxs("span",{children:["Verified By: ",t.jsx("span",{className:"text-indigo-600",children:k})]})]})]})]})]})]}),!z&&D.length>0&&t.jsx("div",{className:"mt-3 ml-14 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:D.map((Y,j)=>t.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border text-[8px] font-black uppercase transition-all ${Y.status==="MISSING"?"bg-rose-50/50 border-rose-100/50 text-rose-600":"bg-amber-50/50 border-amber-100/50 text-amber-600"}`,children:[t.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[Y.status==="MISSING"?t.jsx(Rs,{size:10,className:"opacity-70"}):t.jsx(ua,{size:10,className:"opacity-70"}),t.jsx("span",{className:"truncate",children:Y.name})]}),t.jsx("span",{className:"text-[6px] opacity-40 ml-2 font-bold tracking-tighter",children:Y.status==="MISSING"?"MISSING":"BROKEN"})]},j))})]},_)})})]},E.staffId)})})]})})},S1=({tools:c,usageLogs:d=[],auditHistory:x,onStartAudit:o,masterEmployees:y=[],expandedAuditId:S,setExpandedAuditId:q,onVerify:A,currentUserLevel:w})=>{const[f,E]=p.useState(1),[b,m]=p.useState(null),[_,M]=p.useState(null),[D,H]=p.useState("ALL"),F=15,g=j=>{let V=0,K=0,W=0;return j.forEach(ue=>{const ee=c.find(N=>N.id===ue.toolId);(ue.condition==="Damaged"||ue.condition==="Lost"||ee&&Number(ue.quantity)<ee.available)&&((ue.condition==="Lost"||ee&&Number(ue.quantity)<ee.available)&&V++,ue.condition==="Damaged"&&K++),ue.pieceStatus&&Object.values(ue.pieceStatus).some(N=>N!=="Present")&&W++}),{missing:V,damaged:K,pieces:W,total:V+K+W}},z=p.useMemo(()=>x.filter(j=>{const V=g(j.issues||[]);return D==="VARIANCES"?V.total>0:D==="CLEARED"?V.total===0:!0}).sort((j,V)=>String(V.date||"").localeCompare(String(j.date||""))),[x,D,c]),C=p.useMemo(()=>{const j=(f-1)*F;return z.slice(j,j+F)},[z,f]),ie=Math.ceil(z.length/F),k=j=>{var V;return j?((V=y.find(K=>K.id===j))==null?void 0:V.name)||"Personnel Identity Unknown":"Audit Attendant Oversight"},v=p.useMemo(()=>d.filter(j=>j.issuanceType==="Section-Held"&&!j.isReturned),[d]),Y=p.useMemo(()=>d.filter(j=>j.issuanceType==="Outstanding"&&j.escalationStatus!=="Resolved"),[d]);return t.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500 max-w-full pb-10",children:[b&&t.jsx(y1,{report:b,tools:c,sectionalItems:v,activeCases:Y,onClose:()=>m(null)}),_&&t.jsx(j1,{audit:_,usageLogs:d,tools:c,masterEmployees:y,onClose:()=>M(null)}),t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-1 mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-[#0F1135] rounded-2xl flex items-center justify-center text-white shadow-lg shrink-0",children:t.jsx(Ve,{size:24})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase tracking-tight leading-none",children:"Audit Records"}),t.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Verification History"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full sm:w-auto",children:[t.jsx("div",{className:"flex bg-white border border-slate-200 p-1 rounded-xl shadow-sm",children:[{id:"ALL",label:"All"},{id:"VARIANCES",label:"Variances"},{id:"CLEARED",label:"Cleared"}].map(j=>t.jsx("button",{onClick:()=>{H(j.id),E(1)},className:`px-4 py-1.5 rounded-lg text-[8px] font-black uppercase transition-all ${D===j.id?"bg-[#0F1135] text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:j.label},j.id))}),t.jsxs("button",{onClick:()=>o("Full Store"),className:"bg-indigo-600 text-white px-8 py-3 rounded-xl font-black uppercase text-[9px] hover:bg-[#0F1135] transition-all flex items-center justify-center gap-2 active:scale-95 shadow-lg shadow-indigo-100",children:[t.jsx(nt,{size:14})," ",t.jsx("span",{children:"Start Audit"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-100 shadow-xl rounded-[2rem] overflow-hidden mx-1",children:[t.jsxs("div",{className:"hidden lg:grid grid-cols-12 bg-slate-50/80 backdrop-blur-md text-[8px] font-black text-slate-400 uppercase tracking-[0.25em] border-b border-slate-100 px-8 py-4",children:[t.jsx("div",{className:"col-span-4",children:"Inspector Certification"}),t.jsx("div",{className:"col-span-4 text-center",children:"Audit Status"}),t.jsx("div",{className:"col-span-4 text-right pr-4",children:"Report Details"})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:C.length===0?t.jsxs("div",{className:"py-32 text-center",children:[t.jsx(ss,{size:48,className:"mx-auto text-slate-100 mb-4"}),t.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em]",children:"No matching history found"})]}):C.map(j=>{const V=g(j.issues||[]),K=S===j.id,W=(j.issues||[]).filter(ee=>{const se=c.find(L=>L.id===ee.toolId),N=se&&Number(ee.quantity)<se.available,Z=ee.condition==="Damaged"||ee.condition==="Lost",ae=ee.pieceStatus&&Object.values(ee.pieceStatus).some(L=>L!=="Present");return N||Z||ae}),ue=Array.from(new Set(W.map(ee=>String(ee.responsibleStaffId||"AUDIT-FALLBACK")))).map(ee=>{const se=W.filter(N=>String(N.responsibleStaffId||"AUDIT-FALLBACK")===ee);return{staffId:ee,staffName:ee==="AUDIT-FALLBACK"?"Audit Oversight / Store Attendant":k(ee),items:se,heldCount:se.length}});return t.jsxs(zs.Fragment,{children:[t.jsx(N1,{audit:j,isExpanded:K,onToggle:()=>q(K?null:j.id),onViewReport:m,onViewAgreement:M,stats:V,usageLogs:d,masterEmployees:y}),K&&t.jsx(w1,{staffGroups:ue,tools:c,usageLogs:d,auditId:j.id,auditDate:j.date,inspector:j.inspector,onVerify:A})]},j.id)})}),t.jsxs("div",{className:"px-8 py-5 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between",children:[t.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:[z.length," Matching records"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>E(j=>Math.max(1,j-1)),disabled:f===1,className:"p-2 rounded-lg bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm",children:t.jsx(Ha,{size:16})}),t.jsx("div",{className:"px-4 py-2 bg-white border border-slate-200 rounded-lg shadow-inner text-center",children:t.jsxs("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:["Page ",f," of ",ie||1]})}),t.jsx("button",{onClick:()=>E(j=>Math.min(ie,j+1)),disabled:f===ie||ie===0,className:"p-2 rounded-lg bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm",children:t.jsx(qs,{size:16})})]})]})]})]})},k1=({maintenanceHistory:c,onReport:d,onResolve:x,onReassign:o,onEscalate:y,currentUserLevel:S,currentUser:q,hasPermission:A})=>{const[w,f]=p.useState("ALL"),[E,b]=p.useState(null),[m,_]=p.useState(1),M=15,D=S==="Admin"||S==="Manager"||S==="Stores",H=S==="Admin"||S==="Manager"||S==="Supervisor",F=p.useMemo(()=>[...w==="ALL"?c:c.filter(v=>v.status===w)].sort((v,Y)=>String(Y.reportedDate||"").localeCompare(String(v.reportedDate||""))),[c,w]),g=Math.ceil(F.length/M),z=F.slice((m-1)*M,m*M),C=k=>{if(!k)return"SUPERVISOR";const v=k.match(/\[AUTHORIZING SUPERVISOR:?\s*([^\]|]+)\]/i);if(v)return v[1].split(" ")[0].toUpperCase();const Y=k.match(/\[ESCALATED BY:?\s*([^\]]+)\]/i);return Y?Y[1].split(" ")[0].toUpperCase():"SUPERVISOR"},ie=(k,v,Y)=>{if(v&&k!=="Restored"&&k!=="Decommissioned")return{label:`SUP. ${C(Y)} ENGAGED`,color:"text-white bg-rose-600 border-rose-700 shadow-md animate-pulse",icon:t.jsx(Ve,{size:12})};switch(k){case"Staged":return{label:"PENDING EVALUATION",color:"text-amber-600 bg-amber-50 border-amber-200",icon:t.jsx(Kl,{size:12})};case"In_Repair":return{label:"IN REPAIR PHASE",color:"text-indigo-600 bg-indigo-50 border-indigo-100",icon:t.jsx(ra,{size:12})};case"Restored":return{label:"RESTORED TO STORE",color:"text-emerald-600 bg-emerald-50 border-emerald-100",icon:t.jsx(nt,{size:12})};case"Decommissioned":return{label:"DECOMMISSIONED",color:"text-rose-600 bg-rose-50 border-rose-100",icon:t.jsx(Id,{size:12})};default:return{label:"UNKNOWN",color:"text-slate-400 bg-slate-50",icon:null}}};return t.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500 max-w-full pb-10",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm mx-1",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-[#0F1135] rounded-2xl flex items-center justify-center text-white shadow-lg shrink-0",children:t.jsx(ua,{size:24})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-black text-slate-900 uppercase tracking-tight leading-none",children:"Maintenance Records"}),t.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-widest mt-1.5",children:"Asset Technical Health Ledger"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex bg-slate-50 border border-slate-200 p-1 rounded-xl shadow-inner",children:["ALL","Staged","In_Repair","Restored","Decommissioned"].map(k=>t.jsx("button",{onClick:()=>{f(k),_(1)},className:`px-4 py-1.5 rounded-lg text-[8px] font-black uppercase transition-all ${w===k?"bg-[#0F1135] text-white shadow-md":"text-slate-400 hover:text-slate-600"}`,children:k==="ALL"?"All":k.replace("_"," ")},k))}),t.jsxs("button",{onClick:d,className:"bg-indigo-600 text-white px-8 py-3.5 rounded-xl font-black uppercase tracking-[0.15em] text-[9px] hover:bg-[#0F1135] shadow-xl shadow-indigo-100 transition-all flex items-center justify-center space-x-2 active:scale-95",children:[t.jsx(Kl,{size:14}),t.jsx("span",{children:"Report Breakdown"})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-100 shadow-xl rounded-[2rem] overflow-hidden mx-1",children:[t.jsxs("div",{className:"hidden lg:grid grid-cols-12 bg-slate-50/80 backdrop-blur-md text-[8px] font-black text-slate-400 uppercase tracking-[0.25em] border-b border-slate-100 px-8 py-4",children:[t.jsx("div",{className:"col-span-4",children:"Asset Identification"}),t.jsx("div",{className:"col-span-5 text-center",children:"Current Status"}),t.jsx("div",{className:"col-span-3 text-right pr-4",children:"Details"})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:z.length===0?t.jsxs("div",{className:"py-32 text-center",children:[t.jsx(ss,{size:48,className:"mx-auto text-slate-100 mb-4"}),t.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em]",children:"No Records Found"})]}):z.map(k=>{var j,V;const v=E===k.id,Y=ie(k.status,!!k.isEscalatedToSupervisor,k.escalationNotes);return t.jsxs(zs.Fragment,{children:[t.jsx("div",{onClick:()=>b(v?null:k.id),className:`group relative p-6 lg:px-8 lg:py-7 hover:bg-indigo-50/20 transition-all cursor-pointer ${v?"bg-indigo-50/30":""}`,children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-5 items-center",children:[t.jsx("div",{className:"col-span-1 lg:col-span-4",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-xs uppercase shadow-sm border ${k.status==="Restored"?"bg-emerald-50 text-emerald-600 border-emerald-100":k.status==="Decommissioned"?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-indigo-600 border-slate-100"}`,children:k.status==="Decommissioned"?t.jsx(Id,{size:18}):t.jsx(Dt,{size:18})}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("span",{className:"font-black text-slate-900 text-sm uppercase tracking-tight truncate leading-none",children:k.toolName}),t.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 mt-2",children:[t.jsx(_s,{size:10,className:"text-indigo-400"}),t.jsx("span",{className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest bg-indigo-50 px-2 py-0.5 rounded border border-indigo-100 shadow-sm",children:k.reportedDate}),t.jsx("span",{className:"text-slate-300 text-[8px]",children:""}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ms,{size:10,className:"text-indigo-400"}),t.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest truncate max-w-[120px]",children:["REPORTED BY: ",t.jsx("span",{className:"text-slate-700 font-bold",children:k.reportedBy||"SYSTEM"})]})]})]})]})]})}),t.jsx("div",{className:"col-span-1 lg:col-span-5 text-center flex flex-col items-center",children:t.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap justify-center",children:[t.jsxs("div",{className:`px-3 py-1 rounded-lg border flex items-center gap-2 text-[8px] font-black uppercase tracking-widest shadow-sm transition-all ${Y.color}`,children:[Y.icon,Y.label]}),k.isEscalatedToSupervisor&&t.jsxs("div",{className:"px-3 py-1 bg-rose-600 text-white rounded-lg text-[8px] font-black uppercase flex items-center gap-2 shadow-md animate-pulse",children:[t.jsx(mt,{size:12}),"COMMAND OVERSIGHT"]})]})}),t.jsx("div",{className:"col-span-1 lg:col-span-3 text-right pr-4",children:t.jsx("div",{className:`transition-transform duration-500 inline-block ${v?"rotate-180 text-indigo-600":"text-slate-400"}`,children:t.jsx(as,{size:24,strokeWidth:3})})})]})}),v&&t.jsx("div",{className:"bg-slate-50 border-y border-slate-100 p-6 lg:px-12 animate-in slide-in-from-top-4 duration-500 shadow-inner",children:t.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2.2rem] overflow-hidden shadow-xl max-w-5xl mx-auto",children:[t.jsxs("div",{className:"px-8 py-5 bg-slate-50 border-b border-slate-100 flex items-center justify-between",children:[t.jsxs("h4",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[t.jsx(ss,{size:16,className:"text-slate-300"}),"Technical Service Log"]}),t.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["REF: ",k.id.split("-").pop()]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 divide-y md:divide-y-0 md:divide-x divide-slate-100",children:[t.jsxs("div",{className:"md:col-span-5 p-6 space-y-5",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-indigo-600",children:[t.jsx(ms,{size:14}),t.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Incident Context"})]}),t.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-slate-50 border border-slate-100 rounded text-[7px] font-black uppercase",children:[t.jsx(Ms,{size:10,className:"text-indigo-400"}),"Reporter: ",k.reportedBy]})]}),t.jsx("div",{className:"bg-slate-50 p-5 rounded-[1.5rem] border border-slate-100 shadow-inner",children:t.jsxs("p",{className:"text-[11px] font-medium text-slate-600 italic leading-relaxed",children:['"',k.breakdownContext,'"']})}),k.isEscalatedToSupervisor&&t.jsxs("div",{className:"p-5 bg-slate-900 text-white rounded-[1.8rem] shadow-lg space-y-4 animate-in zoom-in-95 border-l-4 border-rose-600",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(mt,{size:14,className:"text-rose-500"}),t.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-slate-200",children:"Governance Active"})]}),t.jsx("span",{className:"text-[7px] font-black px-1.5 py-0.5 bg-rose-600 rounded uppercase",children:"SOP Protocol"})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Authorized By:"}),t.jsx("p",{className:"text-[10px] font-black text-white uppercase",children:C(k.escalationNotes)})]}),t.jsx("div",{className:"pt-3 border-t border-white/10",children:t.jsxs("p",{className:"text-[10px] font-medium italic text-slate-300 leading-relaxed",children:['"',(j=k.escalationNotes)!=null&&j.includes("]")?(V=k.escalationNotes.split("]").pop())==null?void 0:V.trim():k.escalationNotes||"Administrative directive issued.",'"']})})]})]}),t.jsxs("div",{className:"md:col-span-7 p-6 space-y-5",children:[t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-indigo-600",children:[t.jsx(ra,{size:14}),t.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Repair Operations"})]}),k.resolutionDate&&t.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-emerald-50 text-emerald-600 border border-emerald-100 rounded text-[7px] font-black uppercase",children:[t.jsx(nt,{size:10})," Certified: ",k.resolutionDate]})]}),t.jsxs("div",{className:"space-y-4",children:[k.technicianNotes?t.jsx("div",{className:"bg-white rounded-2xl p-5 border border-slate-200 shadow-sm",children:t.jsx("p",{className:"text-[10px] font-bold text-slate-800 leading-relaxed",children:k.technicianNotes})}):t.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center opacity-30 grayscale space-y-2",children:[t.jsx(Dt,{size:32,className:"text-slate-300"}),t.jsx("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.3em]",children:"Operational Phase Active"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 flex items-center justify-between shadow-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest",children:"Repair Cost"}),t.jsxs("span",{className:"text-[12px] font-black text-slate-900 tabular-nums",children:["$",k.estimatedCost||"0.00"]})]}),t.jsx(yc,{size:16,className:"text-slate-200"})]}),t.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 flex items-center justify-between shadow-sm",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"text-[7px] font-black text-slate-400 uppercase tracking-widest",children:"Assigned Tech"}),t.jsx("p",{className:"text-[10px] font-black text-slate-800 uppercase truncate mt-0.5",children:k.assignedStaffName||"NOT_ASSIGNED"})]}),t.jsx(fs,{size:16,className:"text-indigo-400"})]})]})]}),(k.status==="Staged"||k.status==="In_Repair")&&(D||H&&k.isEscalatedToSupervisor)&&t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-slate-50",children:[H&&k.isEscalatedToSupervisor&&o&&t.jsxs("button",{onClick:K=>{K.stopPropagation(),o(k)},className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-[#0F1135] text-white rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-indigo-600 transition-all shadow-lg",children:[t.jsx(ti,{size:16}),t.jsx("span",{children:"Reassign Task"})]}),t.jsxs("button",{onClick:K=>{K.stopPropagation(),x(k)},className:"flex-1 flex items-center justify-center gap-2 py-3.5 bg-emerald-600 text-white rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-emerald-700 transition-all shadow-lg",children:[t.jsx(nt,{size:16}),t.jsx("span",{children:"Execute Resolution"})]})]})]})]})]})})]},k.id)})}),t.jsxs("div",{className:"px-8 py-5 bg-slate-50/50 border-t border-slate-100 flex items-center justify-between",children:[t.jsxs("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:["Technical Logs Archived: ",F.length," Instances"]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>_(k=>Math.max(1,k-1)),disabled:m===1,className:"p-2.5 rounded-lg bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm",children:t.jsx(Ha,{size:16})}),t.jsx("div",{className:"px-5 py-2 bg-white border border-slate-200 rounded-lg shadow-inner text-center",children:t.jsxs("span",{className:"text-[9px] font-black text-slate-900 uppercase",children:["Page ",m," of ",g||1]})}),t.jsx("button",{onClick:()=>_(k=>Math.min(g,k+1)),disabled:m===g||g===0,className:"p-2.5 rounded-lg bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm",children:t.jsx(qs,{size:16})})]})]})]})]})},A1=c=>{const{masterEmployees:d,currentUser:x,cloudTools:o,cloudUsageLogs:y,cloudPhysicalLogs:S,cloudAuditHistory:q,cloudMaintenanceHistory:A,onUpdateTools:w,onDeleteTool:f,onUpdateUsageLogs:E,onUpdatePhysicalLogs:b,onUpdateAuditHistory:m,isSystemBusy:_,setSystemBusy:M,hasPermission:D}=c,[H,F]=p.useState(null),[g,z]=p.useState(null),{state:C,computed:ie,handlers:k}=Wb({currentUser:x,cloudTools:o,cloudUsageLogs:y,cloudPhysicalLogs:S,cloudAuditHistory:q,cloudMaintenanceHistory:A,masterEmployees:d,onUpdateTools:w,onUpdateUsageLogs:E,onUpdatePhysicalLogs:b,onUpdateAuditHistory:m,setSystemBusy:M,isSystemBusy:_}),v=V=>{z(V),setTimeout(()=>z(null),3e3)},Y=async()=>{if(!H)return;const V=H;F(null),M(!0);try{await f(V),v("Asset Deleted Successfully")}finally{M(!1)}},j=(V,K="Good")=>{const W=o.find(ue=>String(ue.id).trim().toLowerCase()===String(V.toolId).trim().toLowerCase());C.setVerifyingLog({...V,imageUrl:W==null?void 0:W.imageUrl,assetClass:W==null?void 0:W.assetClass,composition:W==null?void 0:W.composition,preselectedCondition:K,currentAvailable:W==null?void 0:W.available,totalQuantity:W==null?void 0:W.quantity})};return t.jsxs("div",{className:"space-y-3 md:space-y-4 animate-in fade-in duration-700 relative",children:[g&&t.jsx("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 z-[500] animate-in slide-in-from-top-4 duration-300",children:t.jsxs("div",{className:"bg-emerald-600 text-white px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-3 border border-emerald-500/50",children:[t.jsx(nt,{size:18}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:g}),t.jsx("button",{onClick:()=>z(null),className:"ml-2 hover:opacity-70",children:t.jsx(ht,{size:14})})]})}),H&&t.jsx("div",{className:"fixed inset-0 z-[600] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[2rem] shadow-2xl p-8 text-center animate-in zoom-in-95",children:[t.jsx("div",{className:"w-16 h-16 bg-rose-50 text-rose-600 rounded-[1.5rem] flex items-center justify-center mx-auto mb-6 shadow-inner",children:t.jsx(ms,{size:32})}),t.jsx("h3",{className:"text-lg font-black text-slate-900 uppercase tracking-tight mb-2",children:"Delete Asset?"}),t.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed mb-8 px-4",children:"This action will permanently delete this asset from the system."}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("button",{onClick:()=>F(null),className:"py-4 bg-slate-50 text-slate-400 rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-slate-100 transition-all",children:"Cancel"}),t.jsx("button",{onClick:Y,className:"py-4 bg-rose-600 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-xl shadow-rose-100 hover:bg-rose-700 active:scale-95 transition-all",children:"Delete"})]})]})}),t.jsx(m1,{state:C,data:{cloudTools:o,currentUser:x,masterEmployees:d,cloudUsageLogs:y},handlers:{...k,setSystemBusy:M,onUpdateTools:w,syncToolAsset:Ua,setIsReportingMaintenance:C.setIsReportingMaintenance,setResolvingMaintenance:C.setResolvingMaintenance,setReassigningMaintenance:C.setReassigningMaintenance,setVerifyingLog:C.setVerifyingLog,setIsAddingTool:C.setIsAddingTool,setEditingTool:C.setEditingTool,setIsIssuingTool:C.setIsIssuingTool,setIsDigitizingLog:C.setIsDigitizingLog,setAuditTargetLog:C.setAuditTargetLog,setIsWeeklyAuditOpen:C.setIsWeeklyAuditOpen,isSystemBusy:_},showFeedback:v}),t.jsx(f1,{stats:ie.stats}),t.jsx(p1,{activeTab:C.activeTab,setActiveTab:C.setActiveTab,searchTerm:C.searchTerm,setSearchTerm:C.setSearchTerm,categoryFilter:C.categoryFilter,setCategoryFilter:C.setCategoryFilter,zoneFilter:C.zoneFilter,setZoneFilter:C.setZoneFilter,conditionFilter:C.conditionFilter,setConditionFilter:C.setConditionFilter,archiveStatusFilter:C.archiveStatusFilter,setArchiveStatusFilter:C.setArchiveStatusFilter,archiveOfficerFilter:C.archiveOfficerFilter,setArchiveOfficerFilter:C.setArchiveOfficerFilter,masterEmployees:d,onDigitize:()=>C.setIsDigitizingLog(!0),onEnrollTool:()=>C.setIsAddingTool(!0),hasPermission:D}),t.jsxs("div",{className:"w-full",children:[C.activeTab==="inventory"&&t.jsx(h1,{filteredTools:ie.filteredTools,onEnroll:()=>C.setIsAddingTool(!0),onEdit:C.setEditingTool,onDelete:F,usageLogs:y,hasPermission:D,onUpdateTools:w,isSystemBusy:_,setSystemBusy:M}),C.activeTab==="sectional"&&t.jsx(g1,{logs:y,tools:o,staffRegistry:d,onIssue:()=>C.setIsIssuingTool(!0),onVerify:j,hasPermission:D}),C.activeTab==="maintenance"&&t.jsx(k1,{maintenanceHistory:C.maintenanceRecords,onReport:()=>C.setIsReportingMaintenance(!0),onResolve:C.setResolvingMaintenance,onReassign:C.setReassigningMaintenance,onEscalate:async(V,K)=>{await k.handleMaintenanceEscalate(V,K),v("Technical Oversight Escalated to Supervisor")},currentUserLevel:x.accessLevel||"Staff",currentUser:x,hasPermission:D}),C.activeTab==="archives"&&t.jsx(v1,{logs:ie.filteredLogs,usageLogs:y,tools:o,masterEmployees:d,currentUserLevel:x.accessLevel||"Staff",onDigitize:()=>C.setIsDigitizingLog(!0),onAuditTarget:C.setAuditTargetLog,onVerify:j,onResolve:k.handleEscalationAction,hasPermission:D}),C.activeTab==="audit"&&t.jsx(S1,{tools:o,usageLogs:y,auditHistory:q,expandedZones:C.expandedZones,toggleZoneExpansion:k.toggleZoneExpansion,onStartAudit:V=>{C.setAuditZone(V),C.setIsWeeklyAuditOpen(!0)},currentUserLevel:x.accessLevel,onVerify:j,onResolve:()=>C.setActiveTab("resolution"),masterEmployees:d,hasPermission:D,setExpandedAuditId:C.setExpandedAuditId,expandedAuditId:C.expandedAuditId})]})]})},z1=({currentUser:c,onUpdateProfile:d})=>{const[x,o]=p.useState({phone:c.phone||"",email:c.email||""}),[y,S]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[q,A]=p.useState(!1),[w,f]=p.useState(!1),[E,b]=p.useState(!1),m=async H=>{H.preventDefault();const F=x.email!==c.email;if(!(F&&!confirm("SECURITY ADVISORY: Updating your email address will also synchronize your login username to this new address. Do you wish to authorize this change?"))){f(!0);try{await d({...c,phone:x.phone,email:x.email,username:F?x.email:c.username}),alert(F?`Institutional Identity Synchronized Successfully.

NOTE: Your login username has been updated to: ${x.email}`:"Institutional Profile Updated Successfully.")}catch{alert("System Error: Failed to synchronize profile with the central database.")}finally{f(!1)}}},_=async H=>{if(H.preventDefault(),y.currentPassword!==c.tempPassword)return alert("Authentication Failure: Current passkey does not match our records.");if(!y.newPassword)return alert("Please define a new passkey.");if(y.newPassword!==y.confirmPassword)return alert("Passkey Mismatch: New entries do not match.");if(y.newPassword===y.currentPassword)return alert("Policy Violation: New passkey cannot be identical to the current one.");b(!0);try{await d({...c,tempPassword:y.newPassword}),S({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Security Credentials Synchronized Successfully.")}catch{alert("Error: Unable to update security credentials at this time.")}finally{b(!1)}},D={Admin:["Full System Configuration","Global Registry Management","Shift Protocol Control","Inventory Governance","HR Vault Oversight"],Manager:["Lead Workshop Management","Team Roster Control","Inventory Auditing","Shift Monitoring"],Supervisor:["Shift Command & Attendance Authorization","Technical Asset Custodian Authority","Floor-Level Tool Issuance & Returns","Sectional Liability Identification","Field Performance Observations"],Audit:["Quality Control Verifications","Inventory Sightings","Read-only Dashboards"],HR:["Staff Records Management","Payroll & Document Management","Performance Case Review"],Stores:["Inventory Lifecycle Management","Tool Procurement","Asset Verification"],HSSEQ:["Safety Compliance Audits","Institutional Bulletins","Incident Reporting"],Fleet:["Shift Deployment Management","Fleet Specific Records"],Staff:["Personal Document Portal","Corporate Bulletin Access","Helpdesk Ticketing"]}[c.accessLevel||"Staff"];return t.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in duration-700",children:[t.jsxs("div",{className:"bg-[#0F1135] rounded-[2rem] p-6 text-white relative overflow-hidden shadow-xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-indigo-500/10 blur-[80px] rounded-full"}),t.jsxs("div",{className:"relative z-10 flex items-center gap-6",children:[t.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center text-[#0F1135] text-2xl font-black shadow-lg",children:c.name.charAt(0)}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h3",{className:"text-xl font-black uppercase tracking-tight truncate",children:c.name}),t.jsx("span",{className:"bg-indigo-600 px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest border border-white/10",children:c.accessLevel})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[t.jsxs("div",{className:"flex items-center space-x-1.5 text-indigo-300",children:[t.jsx(qa,{size:12}),t.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:c.id})]}),t.jsx("div",{className:"w-px h-2.5 bg-white/10"}),t.jsxs("div",{className:"flex items-center space-x-1.5 text-indigo-300",children:[t.jsx(Pn,{size:12}),t.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:c.teamName||"Pool"})]})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[t.jsxs("div",{className:"lg:col-span-7 space-y-6",children:[t.jsx(kt,{title:"",headerAction:t.jsxs("div",{className:"flex items-center space-x-2 text-slate-900",children:[t.jsx(Ms,{size:16,className:"text-indigo-600"}),t.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Contact Information"})]}),children:t.jsxs("form",{onSubmit:m,className:"space-y-4 pt-2",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contact Phone"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:13}),t.jsx("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-3 py-2.5 text-[10px] font-bold outline-none focus:ring-1 focus:ring-indigo-500",value:x.phone,onChange:H=>o({...x,phone:H.target.value})})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Personal Email"}),t.jsxs("div",{className:"relative",children:[t.jsx(vm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:13}),t.jsx("input",{type:"email",className:"w-full bg-slate-50 border border-slate-200 rounded-xl pl-9 pr-3 py-2.5 text-[10px] font-bold outline-none focus:ring-1 focus:ring-indigo-500",value:x.email,onChange:H=>o({...x,email:H.target.value})})]})]})]}),t.jsxs("button",{type:"submit",disabled:w,className:"w-full bg-slate-900 text-white py-3 rounded-xl font-black uppercase tracking-widest text-[9px] hover:bg-indigo-600 transition-all flex items-center justify-center space-x-2 disabled:opacity-50",children:[w?t.jsx(Ia,{size:14,className:"animate-spin"}):t.jsx(Wd,{size:14}),t.jsx("span",{children:"Sync Contact Details"})]})]})}),t.jsx(kt,{title:"",className:"bg-[#0A0C1F] border-slate-800",headerAction:t.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[t.jsx(gc,{size:16,className:"text-rose-500"}),t.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Security Credentials"})]}),children:t.jsxs("form",{onSubmit:_,className:"space-y-4 pt-2",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Current Passkey Verification"}),t.jsxs("div",{className:"relative",children:[t.jsx(fg,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-700",size:13}),t.jsx("input",{type:q?"text":"password",required:!0,className:"w-full bg-white/5 border border-white/10 rounded-xl pl-9 pr-10 py-2.5 text-[10px] font-bold text-white outline-none focus:ring-1 focus:ring-rose-500",placeholder:"Enter active passkey",value:y.currentPassword,onChange:H=>S({...y,currentPassword:H.target.value})}),t.jsx("button",{type:"button",onClick:()=>A(!q),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-600 hover:text-slate-400",children:q?t.jsx($h,{size:14}):t.jsx(gm,{size:14})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"New Passkey"}),t.jsx("input",{type:"password",className:"w-full bg-white/5 border border-white/10 rounded-xl px-3 py-2.5 text-[10px] font-bold text-white outline-none focus:ring-1 focus:ring-rose-500",placeholder:"",value:y.newPassword,onChange:H=>S({...y,newPassword:H.target.value})})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest ml-1",children:"Confirm New Passkey"}),t.jsx("input",{type:"password",className:"w-full bg-white/5 border border-white/10 rounded-xl px-3 py-2.5 text-[10px] font-bold text-white outline-none focus:ring-1 focus:ring-rose-500",placeholder:"",value:y.confirmPassword,onChange:H=>S({...y,confirmPassword:H.target.value})})]})]}),t.jsxs("button",{type:"submit",disabled:E,className:"w-full bg-rose-600 text-white py-3 rounded-xl font-black uppercase tracking-widest text-[9px] hover:bg-rose-500 transition-all flex items-center justify-center space-x-2 disabled:opacity-50 shadow-lg shadow-rose-950/20",children:[E?t.jsx(Ia,{size:14,className:"animate-spin"}):t.jsx(Ve,{size:14}),t.jsx("span",{children:"Authorize Security Update"})]})]})})]}),t.jsx("div",{className:"lg:col-span-5 space-y-4",children:t.jsx(kt,{title:"",headerAction:t.jsxs("div",{className:"flex items-center space-x-2 text-slate-900",children:[t.jsx(Ve,{size:16,className:"text-indigo-600"}),t.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest",children:"Access Privileges"})]}),children:t.jsx("div",{className:"space-y-4 pt-2",children:t.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx(Yd,{size:14,className:"text-indigo-400"}),t.jsxs("p",{className:"text-[9px] font-black text-slate-700 uppercase tracking-tight",children:[c.accessLevel," Tier Clearance"]})]}),t.jsx("div",{className:"space-y-2",children:D.map((H,F)=>t.jsxs("div",{className:"flex items-start space-x-2 text-slate-500",children:[t.jsx(Qd,{size:10,className:"text-emerald-500 mt-0.5 shrink-0"}),t.jsx("span",{className:"text-[8px] font-bold uppercase tracking-wide leading-relaxed",children:H})]},F))})]})})})})]})]})},E1=({history:c=[],teams:d=[],masterEmployees:x=[],currentUser:o,resolveStaffIdentity:y})=>{const[S,q]=p.useState(""),[A,w]=p.useState(null),f=p.useMemo(()=>x.length>0?x:d.flatMap(m=>m.members),[x,d]),E=p.useMemo(()=>{const m=S.toLowerCase();return f.filter(_=>_.name.toLowerCase().includes(m)||_.id.toLowerCase().includes(m)||_.section.toLowerCase().includes(m))},[f,S]),b=p.useMemo(()=>{const m={};return c.forEach(_=>{m[_.employeeId]||(m[_.employeeId]={present:0,absent:0,totalOT:0,records:[]}),_.status==="Present"?m[_.employeeId].present++:m[_.employeeId].absent++,m[_.employeeId].totalOT+=_.overtimeHours||0,m[_.employeeId].records.push(_)}),m},[c]);return t.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500 max-w-full",children:[t.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl p-4 shadow-sm flex flex-col md:flex-row items-center justify-between gap-4 mx-1",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2.5 bg-[#0F1135] rounded-xl text-white shadow-lg shrink-0",children:t.jsx(Ve,{size:18})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-tight leading-none",children:"Attendance Audit"}),t.jsx("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Detailed Staff Performance Records"})]})]}),t.jsxs("div",{className:"relative w-full md:w-64",children:[t.jsx(xs,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),t.jsx("input",{type:"text",placeholder:"Search Name or ID...",className:"w-full bg-slate-50 border border-slate-100 rounded-xl pl-9 pr-3 py-2 text-[9px] font-black uppercase tracking-widest outline-none focus:ring-1 focus:ring-indigo-500",value:S,onChange:m=>q(m.target.value)})]})]}),t.jsxs("div",{className:"bg-white border border-slate-100 shadow-xl rounded-[2rem] overflow-hidden mx-1",children:[t.jsxs("div",{className:"hidden md:grid grid-cols-12 bg-slate-50/80 backdrop-blur-md text-[8px] font-black text-slate-400 uppercase tracking-[0.25em] border-b border-slate-100 px-8 py-4",children:[t.jsx("div",{className:"col-span-4",children:"Staff Member"}),t.jsx("div",{className:"col-span-2 text-center",children:"Attendance Rate"}),t.jsx("div",{className:"col-span-2 text-center",children:"Days (P/A)"}),t.jsx("div",{className:"col-span-2 text-center",children:"Total Overtime"}),t.jsx("div",{className:"col-span-2 text-right",children:"Records"})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:E.length===0?t.jsxs("div",{className:"py-24 text-center",children:[t.jsx(xs,{size:48,className:"mx-auto text-slate-100 mb-4"}),t.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em]",children:"No Records Found"})]}):E.map(m=>{const _=b[m.id]||{present:0,absent:0,totalOT:0,records:[]},M=_.present+_.absent,D=M>0?_.present/M*100:0,H=A===m.id;return t.jsxs(zs.Fragment,{children:[t.jsx("div",{onClick:()=>w(H?null:m.id),className:`group p-5 md:px-8 md:py-4 hover:bg-indigo-50/20 transition-all duration-300 cursor-pointer ${H?"bg-indigo-50/30":""}`,children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-5 items-center",children:[t.jsx("div",{className:"col-span-1 md:col-span-4",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-10 h-10 border border-slate-100 rounded-xl flex items-center justify-center font-black text-sm shrink-0 shadow-sm group-hover:shadow-indigo-100 transition-all duration-500 ${m.status==="Inactive"?"bg-slate-100 text-slate-400":"bg-white text-indigo-600"}`,children:m.name.charAt(0)}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("span",{className:`font-black text-sm uppercase tracking-tight truncate ${m.status==="Inactive"?"text-slate-400 italic":"text-slate-900"}`,children:m.name}),t.jsxs("div",{className:"flex items-center space-x-2 mt-0.5",children:[t.jsx("span",{className:"text-[8px] font-black text-slate-200 uppercase tracking-widest",children:m.id}),t.jsx("span",{className:"text-[8px] font-bold text-slate-100",children:"|"}),t.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest truncate",children:m.section})]})]})]})}),t.jsx("div",{className:"col-span-1 md:col-span-2 text-center",children:t.jsxs("div",{className:"flex md:flex-col items-center md:items-center justify-between",children:[t.jsx("span",{className:"md:hidden text-[8px] font-black text-slate-300 uppercase tracking-widest",children:"Rate:"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-12 h-1.5 bg-slate-100 rounded-full overflow-hidden hidden md:block",children:t.jsx("div",{className:`h-full ${D>=90?"bg-emerald-500":D>=75?"bg-indigo-500":"bg-rose-500"}`,style:{width:`${D}%`}})}),t.jsxs("span",{className:`text-[10px] font-black ${D>=90?"text-emerald-600":"text-slate-900"}`,children:[D.toFixed(0),"%"]})]})]})}),t.jsx("div",{className:"col-span-1 md:col-span-2 text-center",children:t.jsxs("div",{className:"flex md:flex-col items-center md:items-center justify-between",children:[t.jsx("span",{className:"md:hidden text-[8px] font-black text-slate-300 uppercase tracking-widest",children:"Days:"}),t.jsxs("span",{className:"text-[10px] font-black text-slate-700 uppercase tracking-tight",children:[_.present,"P  ",_.absent,"A"]})]})}),t.jsx("div",{className:"col-span-1 md:col-span-2 text-center",children:t.jsxs("div",{className:"flex md:flex-col items-center md:items-center justify-between",children:[t.jsx("span",{className:"md:hidden text-[8px] font-black text-slate-300 uppercase tracking-widest",children:"OT:"}),t.jsx("span",{className:`text-[10px] font-black ${_.totalOT>0?"text-indigo-600":"text-slate-200"}`,children:_.totalOT>0?`+${_.totalOT.toFixed(1)}h`:"0h"})]})}),t.jsx("div",{className:"col-span-1 md:col-span-2 text-right",children:t.jsx("div",{className:"flex items-center justify-end space-x-3",children:t.jsx(as,{size:14,className:`text-slate-300 transition-transform duration-500 ${H?"rotate-180 text-indigo-600":""}`})})})]})}),H&&t.jsx("div",{className:"bg-slate-50/50 border-y border-slate-100/50 p-6 md:px-12 animate-in slide-in-from-top-4 duration-500 shadow-inner",children:t.jsxs("div",{className:"bg-white border border-slate-200 rounded-[1.8rem] overflow-hidden shadow-xl",children:[t.jsxs("div",{className:"hidden md:grid grid-cols-12 bg-slate-50 text-[7px] font-black text-slate-400 uppercase tracking-widest px-8 py-3 border-b border-slate-100",children:[t.jsx("div",{className:"col-span-4",children:"Date"}),t.jsx("div",{className:"col-span-3 text-center",children:"Status"}),t.jsx("div",{className:"col-span-5 text-right",children:"Hours"})]}),t.jsx("div",{className:"divide-y divide-slate-50",children:_.records.length===0?t.jsx("div",{className:"py-12 text-center",children:t.jsx("p",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"No detailed history"})}):_.records.sort((F,g)=>g.date.localeCompare(F.date)).map((F,g)=>t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 px-8 py-3.5 items-center hover:bg-slate-50/50 transition-colors",children:[t.jsx("div",{className:"col-span-1 md:col-span-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-slate-50 border border-slate-100 rounded-lg flex items-center justify-center text-indigo-600 shrink-0",children:t.jsx(cl,{size:12})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-[10px] font-black text-slate-800 uppercase leading-none",children:F.date}),t.jsx("span",{className:"text-[7.5px] font-black text-slate-300 uppercase mt-1 tracking-wider",children:F.dayType})]})]})}),t.jsx("div",{className:"col-span-1 md:col-span-3 text-center",children:t.jsxs("div",{className:"flex items-center justify-between md:justify-center",children:[t.jsx("span",{className:"md:hidden text-[7px] font-black text-slate-300 uppercase tracking-widest",children:"Flag:"}),t.jsx("span",{className:`text-[8px] font-black uppercase px-2 py-0.5 rounded-md border ${F.status==="Present"?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:F.status==="Present"?"Present":"Absent"})]})}),t.jsx("div",{className:"col-span-1 md:col-span-5 text-right",children:t.jsxs("div",{className:"flex flex-col items-end",children:[t.jsx("span",{className:`text-[10px] font-black ${F.overtimeHours>0?"text-indigo-600":"text-slate-200"}`,children:F.overtimeHours>0?`+${F.overtimeHours.toFixed(1)}h OT`:"8.0h"}),F.comment&&t.jsx("span",{className:"text-[6.5px] font-bold text-slate-300 uppercase italic truncate max-w-[150px]",children:F.comment})]})})]},g))})]})})]},m.id)})})]}),t.jsxs("div",{className:"px-8 py-4 bg-[#0F1135] rounded-[1.5rem] flex flex-col md:flex-row items-center justify-between text-white shadow-2xl border border-white/5 gap-3 mx-1",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),t.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.2em]",children:"Attendance System Active"})]}),t.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-[0.1em]",children:["Total Staff in Audit: ",t.jsx("span",{className:"text-white font-black ml-1.5",children:E.length})]})]})]})},C1=({history:c,teams:d,masterEmployees:x,shifts:o})=>{const[y,S]=p.useState(new Date().toISOString().split("T")[0]),q=p.useMemo(()=>c.filter(f=>f.date===y),[c,y]),A=p.useMemo(()=>o.map((f,E)=>{const b=q.filter(H=>H.shiftId===f.id),m=d[E]||{members:[]},_=b.filter(H=>H.status==="Present").length,M=b.filter(H=>H.status==="Absent").length,D=m.members.length;return{shift:f,team:m,present:_,absent:M,total:D,isFiled:b.length>0}}),[q,o,d]),w=p.useMemo(()=>q.filter(f=>f.status==="Absent").map(f=>{const E=x.find(m=>m.id===f.employeeId),b=o.find(m=>m.id===f.shiftId);return{...f,employeeName:(E==null?void 0:E.name)||"Unknown",employeeSection:(E==null?void 0:E.section)||"Operations",shiftName:(b==null?void 0:b.name)||"Unknown"}}),[q,x,o]);return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 max-w-full",children:[t.jsxs("div",{className:"bg-white border border-slate-100 rounded-2xl p-4 shadow-sm flex flex-col md:flex-row items-center justify-between gap-4 mx-1",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2.5 bg-indigo-600 rounded-xl text-white shadow-lg shrink-0",children:t.jsx(jc,{size:18})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-tight leading-none",children:"Operational Snapshot"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1.5",children:[t.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),t.jsxs("p",{className:"text-[8px] text-slate-400 font-bold uppercase tracking-widest",children:["Verified View: ",new Date().toLocaleTimeString()]})]})]})]}),t.jsxs("div",{className:"relative w-full md:w-64",children:[t.jsx(cl,{size:12,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300"}),t.jsx("input",{type:"date",className:"w-full bg-slate-50 border border-slate-100 rounded-xl pl-9 pr-3 py-2 text-[9px] font-black uppercase tracking-widest outline-none focus:ring-1 focus:ring-indigo-500 shadow-inner",value:y,onChange:f=>S(f.target.value)})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mx-1",children:A.map((f,E)=>t.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2rem] overflow-hidden shadow-sm flex flex-col hover:shadow-md transition-all",children:[t.jsxs("div",{className:`p-6 border-b border-slate-50 flex items-center justify-between ${f.shift.type===lt.DAY?"bg-orange-50/10":"bg-slate-900/5"}`,children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-sm ${f.shift.type===lt.DAY?"bg-orange-50 text-orange-600":"bg-slate-900 text-white"}`,children:f.shift.type===lt.DAY?t.jsx(si,{size:18}):t.jsx(ei,{size:18})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:f.shift.name}),t.jsxs("p",{className:"text-[7.5px] font-bold text-slate-400 uppercase tracking-widest",children:[f.shift.type," OPS"]})]})]}),f.isFiled?t.jsx("span",{className:"text-[7px] font-black bg-emerald-50 text-emerald-600 px-2 py-0.5 rounded border border-emerald-100 shadow-sm shadow-emerald-100/50",children:"COMMITTED"}):t.jsx("span",{className:"text-[7px] font-black bg-rose-50 text-rose-500 px-2 py-0.5 rounded border border-rose-100",children:"UNFILED"})]}),t.jsxs("div",{className:"p-6 grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[t.jsx("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest mb-1.5 text-center",children:"Present"}),t.jsx("p",{className:"text-xl font-black text-emerald-600 tabular-nums text-center",children:f.present})]}),t.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[t.jsx("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest mb-1.5 text-center",children:"Absent"}),t.jsx("p",{className:"text-xl font-black text-rose-600 tabular-nums text-center",children:f.absent})]})]})]},E))}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mx-1",children:t.jsxs(kt,{title:"",className:"lg:col-span-12 p-0 overflow-hidden border-slate-100 shadow-xl rounded-[2.5rem]",children:[t.jsxs("div",{className:"px-8 py-5 border-b border-slate-50 flex items-center justify-between bg-white",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"p-3 bg-rose-50 rounded-2xl text-rose-600 shadow-sm",children:t.jsx(jb,{size:20})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-[12px] font-black text-slate-900 uppercase tracking-widest",children:"Registry Exceptions"}),t.jsx("p",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Staff Absence Ledger"})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 bg-slate-900 text-white px-4 py-2 rounded-xl shadow-lg border border-white/10",children:[t.jsx(ss,{size:14,className:"text-indigo-400"}),t.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"Records Trace Active"})]})]}),t.jsx("div",{className:"overflow-x-auto no-scrollbar",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50/50 text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] border-b border-slate-50",children:[t.jsx("th",{className:"py-4 px-10",children:"Personnel Identity"}),t.jsx("th",{className:"py-4 px-4",children:"Shift"}),t.jsx("th",{className:"py-4 px-10 text-right",children:"Verification Notes"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-50",children:w.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:3,className:"py-20 text-center",children:t.jsx("p",{className:"text-[10px] font-black text-slate-200 uppercase tracking-widest",children:"Operational Integrity Verified: 100% Attendance"})})}):w.map((f,E)=>t.jsxs("tr",{className:"hover:bg-rose-50/20 transition-all duration-300 group",children:[t.jsx("td",{className:"py-4 px-10",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-9 h-9 bg-rose-50 rounded-xl flex items-center justify-center text-rose-400 font-black text-[10px] border border-rose-100",children:f.employeeName.charAt(0)}),t.jsxs("div",{className:"flex flex-col min-w-0",children:[t.jsx("span",{className:"text-[11px] font-black text-slate-900 uppercase truncate leading-none",children:f.employeeName}),t.jsx("span",{className:"text-[7.5px] font-black text-slate-400 uppercase mt-1.5 tracking-widest",children:f.employeeSection})]})]})}),t.jsx("td",{className:"py-4 px-4 text-center",children:t.jsx("span",{className:"text-[9px] font-black text-slate-700 uppercase tracking-tighter",children:f.shiftName})}),t.jsx("td",{className:"py-4 px-10 text-right",children:t.jsxs("p",{className:"text-[9px] font-medium text-rose-600 italic line-clamp-1",children:['"',f.comment||"N/A",'"']})})]},E))})]})})]})})]})},T1=({monitoredItems:c,currentUser:d,onVerify:x,onResolve:o,initialFilter:y="",resolveStaffIdentity:S})=>{const[q,A]=p.useState(y),[w,f]=p.useState(new Set),[E,b]=p.useState(1),m=8,_=p.useMemo(()=>{const g=q.toLowerCase();return c.filter(z=>z.toolName.toLowerCase().includes(g)||z.staffName.toLowerCase().includes(g)||z.id.toLowerCase().includes(g)).sort((z,C)=>new Date(C.date).getTime()-new Date(z.date).getTime())},[c,q]),M=Math.ceil(_.length/m),D=_.slice((E-1)*m,E*m),H=g=>{f(z=>{const C=new Set(z);return C.has(g)?C.delete(g):C.add(g),C})},F=g=>g.escalationStatus==="In-Grace-Period"?{label:"RESTITUTION GRANTED",color:"text-emerald-600 bg-emerald-50 border-emerald-100",icon:t.jsx(Jl,{size:14}),desc:"Staff has 30 days to replace"}:g.escalationStatus==="Escalated-to-HR"?{label:"HR TRIBUNAL ACTIVE",color:"text-rose-600 bg-rose-50 border-rose-100 shadow-sm animate-pulse",icon:t.jsx(im,{size:14}),desc:"Formal disciplinary inquiry"}:g.escalationStage==="Manager"?{label:"MANAGERIAL REVIEW",color:"text-white bg-[#0F1135] border-[#0F1135] shadow-lg",icon:t.jsx(eg,{size:14}),desc:"Awaiting executive verdict"}:g.escalationStage==="Supervisor"?{label:"SUPERVISOR TRACE",color:"text-amber-600 bg-amber-50 border-amber-100",icon:t.jsx(xs,{size:14}),desc:"Active custodial search"}:{label:"PENDING VERIFICATION",color:"text-indigo-600 bg-indigo-50 border-indigo-100",icon:t.jsx(_s,{size:14}),desc:"Registry exception flagged"};return t.jsxs("div",{className:"space-y-6 animate-in fade-in duration-700",children:[t.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-6 shadow-sm flex flex-col md:flex-row items-center justify-between gap-6 mx-1",children:[t.jsxs("div",{className:"flex items-center space-x-5",children:[t.jsx("div",{className:"w-14 h-14 bg-rose-600 rounded-[1.5rem] flex items-center justify-center text-white shadow-xl shadow-rose-100 shrink-0",children:t.jsx(mt,{size:28})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase tracking-tight leading-none",children:"Resolution Hub"}),t.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-[0.2em] mt-2",children:"Institutional Liability Management"})]})]}),t.jsx("div",{className:"flex items-center gap-3 w-full md:w-auto",children:t.jsxs("div",{className:"relative flex-1 md:w-80 group",children:[t.jsx(xs,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-indigo-500 transition-colors",size:16}),t.jsx("input",{type:"text",placeholder:"Search Case or Staff...",className:"w-full bg-slate-50 border border-slate-100 rounded-xl pl-11 pr-4 py-3 text-[10px] font-black uppercase tracking-widest outline-none focus:ring-2 focus:ring-indigo-500 shadow-inner",value:q,onChange:g=>A(g.target.value)})]})})]}),t.jsx("div",{className:"grid grid-cols-1 gap-4 mx-1",children:D.length===0?t.jsxs("div",{className:"py-32 bg-white border border-slate-100 rounded-[2.5rem] text-center shadow-sm",children:[t.jsx(Ve,{size:64,className:"mx-auto text-emerald-50 text-emerald-100 mb-6"}),t.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest mb-1",children:"Operational Integrity 100%"}),t.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-[0.2em]",children:"Zero Outstanding Variances Detected"})]}):D.map(g=>{const z=w.has(g.id),C=F(g),ie=(g.monetaryValue||0)>200?"CRITICAL":(g.monetaryValue||0)>50?"HIGH":"STANDARD";return t.jsxs("div",{className:`bg-white border rounded-[2.5rem] shadow-sm transition-all duration-500 overflow-hidden ${z?"border-indigo-200 shadow-xl ring-4 ring-indigo-50/30":"border-slate-100 hover:border-indigo-100"}`,children:[t.jsxs("div",{onClick:()=>H(g.id),className:`p-6 md:p-8 flex flex-col md:flex-row md:items-center justify-between gap-6 cursor-pointer ${z?"bg-indigo-50/10":"hover:bg-slate-50/50"}`,children:[t.jsxs("div",{className:"flex items-center space-x-6 min-w-0 flex-1",children:[t.jsx("div",{className:`w-14 h-14 rounded-2xl border flex items-center justify-center shrink-0 shadow-inner transition-colors duration-500 ${ie==="CRITICAL"?"bg-rose-50 border-rose-100 text-rose-600":"bg-slate-50 border-slate-100 text-indigo-600"}`,children:g.conditionOnReturn==="Lost"?t.jsx(Rs,{size:24}):g.conditionOnReturn==="Damaged"?t.jsx(ua,{size:24}):t.jsx(Dt,{size:24})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[t.jsx("h4",{className:"text-base font-black text-slate-900 uppercase tracking-tight truncate leading-none",children:g.toolName}),t.jsxs("span",{className:`px-2 py-0.5 rounded text-[7px] font-black uppercase border tracking-tighter ${ie==="CRITICAL"?"bg-rose-600 text-white border-rose-600":"bg-slate-900 text-white border-slate-900"}`,children:[ie," PRIORITY"]}),t.jsxs("span",{className:"text-[10px] font-black text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded border border-indigo-100 tabular-nums",children:["x",g.quantity]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-6 h-6 rounded-lg bg-white border border-slate-200 flex items-center justify-center font-black text-[9px] text-indigo-600 shadow-sm",children:g.staffName.charAt(0)}),t.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-tight",children:g.staffName})]}),t.jsxs("div",{className:"flex items-center space-x-1.5 text-[10px] font-black text-slate-300 uppercase tracking-widest",children:[t.jsx(_s,{size:12,className:"text-indigo-400"}),t.jsxs("span",{children:["Logged: ",g.date]})]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-6 md:justify-end shrink-0 border-t md:border-none pt-4 md:pt-0",children:[t.jsxs("div",{className:"text-right hidden sm:block",children:[t.jsx("p",{className:"text-[7.5px] font-black text-slate-400 uppercase tracking-widest mb-1.5",children:C.desc}),t.jsxs("div",{className:`px-3 py-1.5 rounded-xl border flex items-center justify-center gap-2 shadow-sm transition-all ${C.color}`,children:[C.icon,t.jsx("span",{className:"text-[8.5px] font-black uppercase tracking-[0.1em]",children:C.label})]})]}),t.jsx(as,{size:24,className:`transition-transform duration-500 text-slate-300 ${z?"rotate-180 text-indigo-600":""}`})]})]}),z&&t.jsxs("div",{className:"px-8 pb-8 space-y-8 animate-in slide-in-from-top-4 duration-500",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-slate-50 p-6 rounded-[1.8rem] border border-slate-100 shadow-inner space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-indigo-600",children:[t.jsx(qa,{size:16}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Case Forensics"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 pb-2",children:[t.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase",children:"Case ID"}),t.jsxs("span",{className:"text-[10px] font-black text-slate-800 font-mono",children:["#",g.id.split("-").pop()]})]}),t.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 pb-2",children:[t.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase",children:"Registry Ref"}),t.jsx("span",{className:"text-[10px] font-black text-slate-800",children:g.toolId})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-[8px] font-black text-slate-400 uppercase",children:"Replacement Cost"}),t.jsxs("span",{className:"text-[10px] font-black text-rose-600 tabular-nums",children:["$",g.monetaryValue||"0.00"]})]})]})]}),t.jsxs("div",{className:"md:col-span-2 bg-white border border-slate-200 rounded-[1.8rem] p-6 shadow-sm space-y-4 flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2 text-indigo-600",children:[t.jsx(Kd,{size:16}),t.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Contextual Trace History"})]}),t.jsx("span",{className:"text-[7px] font-black bg-indigo-50 text-indigo-500 px-2 py-0.5 rounded uppercase",children:"Encrypted"})]}),t.jsx("div",{className:"flex-1 bg-slate-50/50 rounded-2xl p-4 border border-slate-100 relative",children:t.jsxs("p",{className:"text-[11px] font-medium text-slate-600 italic leading-relaxed",children:['"',g.comment||"No contextual notes recorded.",'"']})})]})]}),t.jsxs("div",{className:"pt-6 border-t border-slate-100 flex flex-col md:flex-row items-center justify-between gap-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>x(g),className:"px-10 py-4 bg-emerald-600 text-white rounded-2xl font-black uppercase tracking-[0.15em] text-[10px] hover:bg-emerald-700 transition-all shadow-xl shadow-emerald-100 flex items-center justify-center gap-3 active:scale-95",children:[t.jsx(Ve,{size:18}),t.jsx("span",{children:"Registry Recovery Protocol"})]}),g.escalationStatus!=="Escalated-to-HR"&&t.jsxs("button",{onClick:()=>o(g.id,"hr_escalate","Case referred to HR for disciplinary determination."),className:"px-10 py-4 bg-rose-600 text-white rounded-2xl font-black uppercase tracking-[0.15em] text-[10px] hover:bg-rose-700 transition-all shadow-xl shadow-rose-100 flex items-center justify-center gap-3 active:scale-95",children:[t.jsx(im,{size:18}),t.jsx("span",{children:"Escalate to HR Vault"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3 text-slate-300",children:[t.jsx(wm,{size:14}),t.jsxs("span",{className:"text-[8px] font-black uppercase tracking-widest",children:["Authorized Resolution Access: ",d.accessLevel]})]})]})]})]},g.id)})}),t.jsxs("div",{className:"px-8 py-5 bg-[#FAF9F6] border border-slate-100 rounded-[2.5rem] flex items-center justify-between mx-1 shadow-sm",children:[t.jsxs("div",{className:"flex items-center space-x-3 text-slate-400",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 animate-pulse"}),t.jsxs("span",{className:"text-[8px] font-black uppercase tracking-widest",children:["Active Resolution Hub Phase: ",E," / ",M||1]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>b(g=>Math.max(1,g-1)),disabled:E===1,className:"p-2.5 rounded-xl bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm active:scale-90",children:t.jsx(Ha,{size:18})}),t.jsx("button",{onClick:()=>b(g=>Math.min(M,g+1)),disabled:E===M||M===0,className:"p-2.5 rounded-xl bg-white border border-slate-200 text-slate-400 hover:text-indigo-600 disabled:opacity-30 transition-all shadow-sm active:scale-90",children:t.jsx(qs,{size:18})})]})]})]})},M1=()=>{const{auth:c,navigation:d,data:x,notifications:o,system:y,isCloudLoading:S}=Rb(),[q,A]=p.useState(!1);return c.isAuthenticated?t.jsxs(Db,{activeTab:d.activeTab,onTabChange:d.setActiveTab,isCollapsed:d.isSidebarCollapsed,setIsCollapsed:d.setIsSidebarCollapsed,onLogout:()=>A(!0),onRefresh:y.onRefresh,notifications:o,shiftsSubPage:d.shiftsSubPage,managerialSubPage:d.managerialSubPage,currentUser:c.currentUser,hasPermission:d.hasPermission,shifts:x.shifts,isSyncingBackground:y.isSyncingBackground,isOffline:y.isOffline,children:[t.jsx(Ub,{isVisible:y.isBusy}),q&&t.jsx(Lb,{onConfirm:()=>{A(!1),c.handleLogout()},onCancel:()=>A(!1)}),d.activeTab==="dashboard"&&d.hasPermission("dashboard")&&t.jsx(Hb,{teams:x.teams,shifts:x.shifts,history:x.attendanceHistory,tools:x.inventory.tools,usageLogs:x.inventory.usageLogs,maintenanceRecords:x.inventory.maintenanceHistory}),d.activeTab==="registry"&&d.hasPermission("registry")&&t.jsx(Pb,{teams:x.teams,masterEmployees:x.masterEmployees,history:x.attendanceHistory,sections:x.sections,tierDefaults:x.tierDefaults,onAddMember:x.addMember,onUpdateMember:x.updateMember,onDeleteMember:x.deleteMember,currentUser:c.currentUser,isSystemBusy:y.isBusy,setSystemBusy:y.setBusy,hasPermission:d.hasPermission}),d.activeTab==="inventory"&&d.hasPermission("inventory")&&t.jsx(A1,{masterEmployees:x.masterEmployees,currentUser:c.currentUser,cloudTools:x.inventory.tools,cloudUsageLogs:x.inventory.usageLogs,cloudPhysicalLogs:x.inventory.physicalLogs,cloudAuditHistory:x.inventory.auditHistory,cloudMaintenanceHistory:x.inventory.maintenanceHistory,onUpdateTools:x.inventory.setTools,onDeleteTool:x.inventory.deleteTool,onUpdateUsageLogs:x.inventory.setUsageLogs,onUpdatePhysicalLogs:x.inventory.setPhysicalLogs,onUpdateAuditHistory:x.inventory.setAuditHistory,isSystemBusy:y.isBusy,setSystemBusy:y.setBusy,hasPermission:d.hasPermission}),d.activeTab==="managerial"&&d.hasPermission("managerial")&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-center w-full mt-2 px-1",children:t.jsx("div",{className:"flex flex-wrap justify-center items-center gap-2 bg-slate-50/80 backdrop-blur-md p-2 rounded-[2rem] border border-slate-200 shadow-sm transition-all max-w-full overflow-hidden",children:[{id:"snapshot",icon:t.jsx(jc,{size:14}),label:"Operational Snapshot",perm:"managerial_snapshot_view"},{id:"audit",icon:t.jsx(Ve,{size:14}),label:"Compliance Audit",perm:"managerial_audit_view"},{id:"resolution",icon:t.jsx(mt,{size:14}),label:"Resolution Hub",perm:"managerial_resolution_view"}].filter(w=>d.hasPermission("managerial","view",w.id)).map(w=>t.jsxs("button",{onClick:()=>d.setManagerialSubPage(w.id),className:`flex items-center space-x-2.5 px-6 py-3.5 rounded-[1.2rem] font-black uppercase text-[10px] tracking-widest transition-all cursor-pointer active:scale-95 whitespace-nowrap ${d.managerialSubPage===w.id?"bg-white text-indigo-600 shadow-lg border border-indigo-100 ring-4 ring-indigo-50/50":"text-slate-400 hover:text-slate-600 hover:bg-white/50 border border-transparent"}`,children:[w.icon,t.jsx("span",{children:w.label})]},w.id))})}),t.jsxs("div",{className:"pt-2",children:[d.managerialSubPage==="snapshot"&&d.hasPermission("managerial","view","snapshot")&&t.jsx(C1,{history:x.attendanceHistory,teams:x.teams,masterEmployees:x.masterEmployees,shifts:x.shifts}),d.managerialSubPage==="audit"&&d.hasPermission("managerial","view","audit")&&t.jsx(E1,{history:x.attendanceHistory,teams:x.teams,masterEmployees:x.masterEmployees,currentUser:c.currentUser,resolveStaffIdentity:x.resolveStaffIdentity}),d.managerialSubPage==="resolution"&&d.hasPermission("managerial","view","resolution")&&t.jsx("div",{className:"animate-in fade-in duration-700",children:t.jsx(T1,{monitoredItems:x.inventory.usageLogs.filter(w=>w.escalationStatus!=="Resolved"),staffRegistry:x.masterEmployees,currentUser:c.currentUser,onVerify:async w=>{var f,E,b,m;y.setBusy(!0);try{const{syncToolUsage:_,syncToolAsset:M,syncMaintenanceRecord:D}=await Ld(async()=>{const{syncToolUsage:C,syncToolAsset:ie,syncMaintenanceRecord:k}=await Promise.resolve().then(()=>Ud);return{syncToolUsage:C,syncToolAsset:ie,syncMaintenanceRecord:k}},void 0),H=w.conditionOnReturn==="Damaged"||(w.comment||"").toUpperCase().includes("DAMAGED"),F=new Date().toLocaleString(),g={...w,escalationStatus:"Resolved",isReturned:!0,comment:(w.comment||"")+` | RECOVERY VERIFIED BY ${(f=c.currentUser)==null?void 0:f.name} | ${F}`,actionHistory:[...w.actionHistory||[],{stage:w.escalationStage||"Supervisor",actorName:((E=c.currentUser)==null?void 0:E.name)||"Authorized Personnel",action:"PHYSICAL RECOVERY",timestamp:F,notes:H?"Asset recovered in damaged condition. Staged for maintenance.":"Asset restored to master inventory."}]};await _(g),x.inventory.setUsageLogs(x.inventory.usageLogs.map(C=>C.id===w.id?g:C));const z=x.inventory.tools.find(C=>C.id===w.toolId);if(z){const C=(b=z.composition)==null?void 0:b.map(k=>k.replace(/\s*\(MISSING\)/g,"").replace(/\s*\(DAMAGED\)/g,"")),ie={...z,available:H?z.available:Math.min(z.quantity,z.available+w.quantity),condition:H?"Maintenance":"Good",lastVerified:new Date().toISOString().split("T")[0],composition:C};if(await M(ie),x.inventory.setTools(x.inventory.tools.map(k=>k.id===z.id?ie:k)),H){const k={id:`MNT-RES-${Date.now()}`,toolId:z.id,toolName:z.name,reportedBy:((m=c.currentUser)==null?void 0:m.name)||"Manager",reportedDate:ie.lastVerified,breakdownContext:`[AUTO_PUSH] Resolution hub identified damage during final recovery. Original custodian: ${w.staffName}.`,isRepairable:null,status:"Staged"};await D(k),x.inventory.setMaintenanceHistory([k,...x.inventory.maintenanceHistory])}}}finally{y.setBusy(!1)}},onResolve:async(w,f,E)=>{var b;y.setBusy(!0);try{const{syncToolUsage:m}=await Ld(async()=>{const{syncToolUsage:g}=await Promise.resolve().then(()=>Ud);return{syncToolUsage:g}},void 0),_=x.inventory.usageLogs.find(g=>g.id===w);if(!_)return;let M=_.escalationStage||"Supervisor",D=_.escalationStatus||"Pending",H=_.graceExpiryDate;if(f==="grant_grace"){const g=new Date;g.setDate(g.getDate()+30),H=g.toISOString().split("T")[0],D="In-Grace-Period"}else f==="escalate_to_manager"?(M="Manager",D="Pending"):f==="hr_escalate"?D="Escalated-to-HR":f==="cancel_case"?D="Resolved":f==="request_further_search"&&(M="Supervisor",D="Pending");const F={..._,escalationStage:M,escalationStatus:D,graceExpiryDate:H,actionHistory:[..._.actionHistory||[],{stage:_.escalationStage||"Supervisor",actorName:((b=c.currentUser)==null?void 0:b.name)||"Authority",action:f.toUpperCase().replace(/_/g," "),timestamp:new Date().toLocaleString(),notes:E||"Command Directive Issued"}]};await m(F),x.inventory.setUsageLogs(x.inventory.usageLogs.map(g=>g.id===w?F:g))}finally{y.setBusy(!1)}},onStartSweep:()=>d.setActiveTab("inventory"),hasPermission:d.hasPermission,resolveStaffIdentity:x.resolveStaffIdentity})})]})]}),d.activeTab==="profile"&&t.jsx(z1,{currentUser:c.currentUser,onUpdateProfile:async w=>{y.setBusy(!0);try{const{syncStaffMember:f,provisionAccess:E}=await Ld(async()=>{const{syncStaffMember:b,provisionAccess:m}=await Promise.resolve().then(()=>Ud);return{syncStaffMember:b,provisionAccess:m}},void 0);await f(w),w.hasSystemAccess&&await E(w.id,w.username||w.email||"",w.accessLevel||"Staff",w.tempPassword,w.permissions,w.visibilityScope),x.updateMember(w)}finally{y.setBusy(!1)}}}),d.activeTab==="shifts"&&d.hasPermission("shifts")&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-center w-full mt-2 px-1",children:t.jsx("div",{className:"flex flex-wrap justify-center items-center gap-2 bg-slate-50/80 backdrop-blur-md p-2 rounded-[2rem] border border-slate-200 shadow-sm transition-all max-w-full overflow-hidden",children:[{id:"attendance",icon:t.jsx(Jn,{size:14}),label:"Daily Register",perm:"shifts_attendance_view"},{id:"teams",icon:t.jsx(oa,{size:14}),label:"Teams & Roster",perm:"shifts_teams_view"},{id:"history",icon:t.jsx(ss,{size:14}),label:"Archive Logs",perm:"shifts_history_view"}].filter(w=>d.hasPermission("shifts","view",w.id)).map(w=>t.jsxs("button",{onClick:()=>d.setShiftsSubPage(w.id),className:`flex items-center space-x-2.5 px-6 py-3.5 rounded-[1.2rem] font-black uppercase text-[10px] tracking-widest transition-all cursor-pointer active:scale-95 whitespace-nowrap ${d.shiftsSubPage===w.id?"bg-white text-indigo-600 shadow-lg border border-indigo-100 ring-4 ring-indigo-50/50":"text-slate-400 hover:text-slate-600 hover:bg-white/50 border border-transparent"}`,children:[w.icon,t.jsx("span",{children:w.label})]},w.id))})}),t.jsxs("div",{className:"pt-2",children:[d.shiftsSubPage==="attendance"&&d.hasPermission("shifts","view","attendance")&&t.jsx(qb,{teams:x.teams,shifts:x.shifts,history:x.attendanceHistory,onSave:w=>x.setAttendanceHistory(f=>[...f,...w]),setSystemBusy:y.setBusy,hasPermission:d.hasPermission,currentUser:c.currentUser}),d.shiftsSubPage==="teams"&&d.hasPermission("shifts","view","teams")&&t.jsx(Ib,{teams:x.teams,shifts:x.shifts,sections:x.sections,onMoveMember:()=>{},onAddMember:()=>{},onUpdateMember:()=>{},onDeleteMember:()=>{},hasPermission:d.hasPermission}),d.shiftsSubPage==="history"&&d.hasPermission("shifts","view","history")&&t.jsx(Gb,{history:x.attendanceHistory,shifts:x.shifts,teams:x.teams,currentUser:c.currentUser,resolveStaffIdentity:x.resolveStaffIdentity})]})]}),d.activeTab==="settings"&&d.hasPermission("settings")&&t.jsx(Yb,{shifts:x.shifts,config:x.config,onUpdateShifts:x.setShifts,onUpdateConfig:x.setConfig,currentUser:c.currentUser,tierDefaults:x.tierDefaults})]}):t.jsx(Ob,{onLogin:c.handleLogin,isAuthenticating:c.isAuthenticating,loginSuccess:c.loginSuccess,error:c.authError,isReady:!S})},Um=document.getElementById("root");if(!Um)throw new Error("Could not find root element to mount to");const _1=lh.createRoot(Um);_1.render(t.jsx(zs.StrictMode,{children:t.jsx(M1,{})}));
